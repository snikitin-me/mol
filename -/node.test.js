require( "source-map-support" ).install()

;
/// Fake namespace for optional overrides
///
/// 	namespace $ { export var x = 1 , y = 1 } // defaults
/// 	namespace $.$mol { export var x = 2 } // overrides
/// 	namespace $.$mol { console.log( x , y ) } // usage
///
this.$ = this.$ || this
var $ = this.$
$.$mol = $

;
setImmediate(function () {
    $.$mol_test_run();
});
//test.node.js.map
;
var $;
(function ($) {
    function $mol_test(set) {
        for (var name_1 in set)
            $.$mol_test_all.push(new $mol_test_case(set[name_1]));
    }
    $.$mol_test = $mol_test;
    $.$mol_test_all = [];
    $.$mol_test_run = function () {
        for (var _i = 0, $mol_test_all_1 = $.$mol_test_all; _i < $mol_test_all_1.length; _i++) {
            var test = $mol_test_all_1[_i];
            test.run();
        }
    };
    var $mol_test_case = (function () {
        function $mol_test_case(code) {
            if (typeof code === 'string') {
                this.code = new Function(code);
            }
            else {
                this.code = code;
            }
        }
        $mol_test_case.prototype.run = function () {
            this.code();
        };
        return $mol_test_case;
    }());
    $.$mol_test_case = $mol_test_case;
})($ || ($ = {}));
//test.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'must be false': function () {
            $.$mol_assert_not(0);
        },
        'must be true': function () {
            $.$mol_assert_ok(1);
        },
        'must be equal': function () {
            $.$mol_assert_equal(2, 2);
        },
        'must be unique': function () {
            $.$mol_assert_unique([3], [3]);
        },
    });
})($ || ($ = {}));
//assert.test.js.map
;
var $;
(function ($) {
    function $mol_assert_ok(value) {
        if (value)
            return;
        throw new Error("Not true (" + value + ")");
    }
    $.$mol_assert_ok = $mol_assert_ok;
    function $mol_assert_not(value) {
        if (!value)
            return;
        throw new Error("Not false (" + value + ")");
    }
    $.$mol_assert_not = $mol_assert_not;
    function $mol_assert_fail(handler, ErrorRight) {
        try {
            handler();
        }
        catch (error) {
            if (ErrorRight)
                $mol_assert_ok(error instanceof ErrorRight);
            return error;
        }
        throw new Error('Not failed');
    }
    $.$mol_assert_fail = $mol_assert_fail;
    function $mol_assert_equal(a, b) {
        if (a === b)
            return;
        throw new Error("Not equal (" + a + "," + b + ")");
    }
    $.$mol_assert_equal = $mol_assert_equal;
    function $mol_assert_unique(a, b) {
        if (a !== b)
            return;
        throw new Error("Not unique (" + a + "," + b + ")");
    }
    $.$mol_assert_unique = $mol_assert_unique;
})($ || ($ = {}));
//assert.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'dict shim must have equal api to native Map': function () {
            var dict = new $.$mol_dict_shim;
            var obj1 = {};
            var obj2 = {};
            var obj3 = {};
            dict.set(obj1, 1);
            dict.set(obj2, 2);
            $.$mol_assert_equal(dict.size, 2);
            $.$mol_assert_ok(dict.has(obj1));
            $.$mol_assert_ok(dict.has(obj2));
            $.$mol_assert_not(dict.has(obj3));
            $.$mol_assert_equal(dict.get(obj1), 1);
            $.$mol_assert_equal(dict.get(obj2), 2);
            $.$mol_assert_equal(dict.get(obj3), void 0);
            var entries = dict.entries();
            $.$mol_assert_equal(entries.length, 2);
            $.$mol_assert_equal(entries[0][0], obj1);
            $.$mol_assert_equal(entries[0][1], 1);
            $.$mol_assert_equal(entries[1][0], obj2);
            $.$mol_assert_equal(entries[1][1], 2);
            dict.delete(obj2);
            $.$mol_assert_not(dict.has(obj2));
        }
    });
})($ || ($ = {}));
//dict.test.js.map
;
var $;
(function ($) {
    var $mol_dict_shim = (function () {
        function $mol_dict_shim() {
            this._keys = {};
            this._values = {};
            this.size = 0;
        }
        $mol_dict_shim.prototype.set = function (key, value) {
            var keyStr = String(key);
            var keys = this._keys[keyStr];
            if (keys) {
                var index = keys.indexOf(key);
                if (index === -1) {
                    index = keys.length;
                    keys.push(key);
                    ++this.size;
                }
                this._values[keyStr][index] = value;
            }
            else {
                this._keys[keyStr] = [key];
                this._values[keyStr] = [value];
                ++this.size;
            }
            return this;
        };
        $mol_dict_shim.prototype.get = function (key) {
            var keyStr = String(key);
            var list = this._keys[keyStr];
            if (!list)
                return void 0;
            var index = list.indexOf(key);
            if (index === -1)
                return void 0;
            return this._values[keyStr][index];
        };
        $mol_dict_shim.prototype.has = function (key) {
            var keyStr = String(key);
            var list = this._keys[keyStr];
            if (!list)
                return false;
            return list.indexOf(key) !== -1;
        };
        $mol_dict_shim.prototype.delete = function (key) {
            var keyStr = String(key);
            var keys = this._keys[keyStr];
            if (!keys)
                return;
            var index = keys.indexOf(key);
            if (index === -1)
                return;
            keys.splice(index, 1);
            this._values[keyStr].splice(index, 1);
            --this.size;
        };
        $mol_dict_shim.prototype.forEach = function (handle) {
            for (var keyStr in this._keys) {
                if (!this._keys.hasOwnProperty(keyStr))
                    continue;
                var values = this._values[keyStr];
                this._keys[keyStr].forEach(function (key, index) {
                    handle(values[index], key);
                });
            }
        };
        $mol_dict_shim.prototype.keys = function () {
            var keys = [];
            this.forEach(function (val, key) {
                keys.push(key);
            });
            return keys;
        };
        $mol_dict_shim.prototype.values = function () {
            var values = [];
            this.forEach(function (val, key) {
                values.push(val);
            });
            return values;
        };
        $mol_dict_shim.prototype.entries = function () {
            var entries = [];
            this.forEach(function (val, key) {
                entries.push([key, val]);
            });
            return entries;
        };
        $mol_dict_shim.prototype.clear = function () {
            this._keys = {};
            this._values = {};
            this.size = 0;
        };
        return $mol_dict_shim;
    }());
    $.$mol_dict_shim = $mol_dict_shim;
})($ || ($ = {}));
//dict.js.map
;
$.$mol_dict = ( typeof Map === 'function' ) ? Map : $.$mol_dict_shim

;
var $;
(function ($) {
    $.$mol_func_name_dict = new $.$mol_dict();
    function $mol_func_name(func) {
        if (func.name)
            return func.name;
        if ($.$mol_func_name_dict.has(func))
            return $.$mol_func_name_dict.get(func);
        var name = Function.prototype.toString.call(func).match(/^function ([a-z0-9_$]*)/)[1];
        $.$mol_func_name_dict.set(func, name);
        return name;
    }
    $.$mol_func_name = $mol_func_name;
})($ || ($ = {}));
//func.js.map
;
var $;
(function ($) {
    function $mol_log(path, values) {
        var filter = $mol_log.filter();
        if (filter == null)
            return;
        if (path.indexOf(filter) === -1)
            return;
        var time = new Date().toLocaleTimeString();
        console.log(time, path, values);
    }
    $.$mol_log = $mol_log;
    (function ($mol_log) {
        var _filter;
        function filter(next) {
            if (next !== void 0) {
                _filter = next;
            }
            if (_filter !== void 0)
                return _filter;
            return _filter = null;
        }
        $mol_log.filter = filter;
    })($mol_log = $.$mol_log || ($.$mol_log = {}));
})($ || ($ = {}));
//log.node.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    $.$mol_test({
        'init with overload': function () {
            var X = (function (_super) {
                __extends(X, _super);
                function X() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                X.prototype.foo = function () {
                    return 1;
                };
                return X;
            }($.$mol_object));
            var x = new X().setup(function (obj) {
                obj.foo = function () { return 2; };
            });
            $.$mol_assert_equal(x.foo(), 2);
        },
        'object path generation': function () {
            var x = new $.$mol_object;
            $.$mol_assert_equal("" + x, '');
            x.object_field('foo()');
            $.$mol_assert_equal("" + x, '.foo()');
            x.object_field('bar()');
            $.$mol_assert_equal("" + x, '.foo()');
        },
    });
})($ || ($ = {}));
//object.test.js.map
;
var $;
(function ($) {
    var $mol_object = (function () {
        function $mol_object() {
            this['destroyed()'] = false;
        }
        $mol_object.prototype.Class = function () {
            return this.constructor;
        };
        $mol_object.toString = function () {
            return $.$mol_func_name(this);
        };
        $mol_object.prototype.object_owner = function (next) {
            if (this['object_owner()'])
                return this['object_owner()'];
            return this['object_owner()'] = next;
        };
        $mol_object.prototype.object_field = function (next) {
            if (this['object_field()'])
                return this['object_field()'] || '';
            return this['object_field()'] = next;
        };
        $mol_object.prototype.toString = function () {
            var path = '';
            var owner = this.object_owner();
            if (owner)
                path = owner.toString();
            var field = this.object_field();
            if (field)
                path += '.' + field;
            return path;
        };
        $mol_object.prototype.toJSON = function () {
            return this.toString();
        };
        $mol_object.prototype.setup = function (script) {
            script(this);
            return this;
        };
        $mol_object.prototype.destroyed = function (next) {
            if (next === void 0)
                return this['destroyed()'];
            this['destroyed()'] = next;
            this.log(['.destroyed()', next]);
            return next;
        };
        $mol_object.prototype.log = function (values) {
            if ($.$mol_log.filter() == null)
                return;
            $.$mol_log(this.toString(), values);
        };
        return $mol_object;
    }());
    $.$mol_object = $mol_object;
})($ || ($ = {}));
//object.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_defer = (function (_super) {
        __extends($mol_defer, _super);
        function $mol_defer(run) {
            var _this = _super.call(this) || this;
            _this.run = run;
            $mol_defer.add(_this);
            return _this;
        }
        $mol_defer.prototype.destroyed = function (next) {
            if (next)
                $mol_defer.drop(this);
            return _super.prototype.destroyed.call(this, next);
        };
        $mol_defer.schedule = function () {
            var _this = this;
            if (this.timer)
                return;
            this.timer = this.scheduleNative(function () {
                _this.timer = 0;
                _this.run();
            });
        };
        $mol_defer.unschedule = function () {
            if (!this.timer)
                return;
            cancelAnimationFrame(this.timer);
            this.timer = 0;
        };
        $mol_defer.add = function (defer) {
            this.all.push(defer);
            this.schedule();
        };
        $mol_defer.drop = function (defer) {
            var index = this.all.indexOf(defer);
            if (index >= 0)
                this.all.splice(index, 1);
        };
        $mol_defer.run = function () {
            if (this.all.length === 0)
                return;
            this.schedule();
            for (var defer; defer = this.all.pop();)
                defer.run();
        };
        return $mol_defer;
    }($.$mol_object));
    $mol_defer.all = [];
    $mol_defer.timer = 0;
    $mol_defer.scheduleNative = (typeof requestAnimationFrame == 'function')
        ? function (handler) { return requestAnimationFrame(handler); }
        : function (handler) { return setTimeout(handler, 16); };
    $.$mol_defer = $mol_defer;
})($ || ($ = {}));
//defer.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'set-shim must have equal api to native Set': function () {
            var set = new $.$mol_set_shim;
            var obj1 = {};
            var obj2 = {};
            var obj3 = {};
            set.add(obj1);
            set.add(obj2);
            $.$mol_assert_equal(set.size, 2);
            $.$mol_assert_ok(set.has(obj1));
            $.$mol_assert_ok(set.has(obj2));
            $.$mol_assert_not(set.has(obj3));
            var entries = set.entries();
            $.$mol_assert_equal(entries.length, 2);
            $.$mol_assert_equal(entries[0][0], obj1);
            $.$mol_assert_equal(entries[0][1], obj1);
            $.$mol_assert_equal(entries[1][0], obj2);
            $.$mol_assert_equal(entries[1][1], obj2);
            set.delete(obj2);
            $.$mol_assert_not(set.has(obj2));
        },
    });
})($ || ($ = {}));
//set.test.js.map
;
var $;
(function ($) {
    var $mol_set_shim = (function () {
        function $mol_set_shim() {
            this._index = {};
            this.size = 0;
        }
        $mol_set_shim.prototype.add = function (value) {
            var key = String(value);
            var list = this._index[key];
            if (list) {
                if (list.indexOf(value) !== -1)
                    return this;
                list.push(value);
            }
            else {
                list = this._index[key] = [value];
            }
            ++this.size;
            return this;
        };
        $mol_set_shim.prototype.has = function (value) {
            var key = String(value);
            var list = this._index[key];
            if (!list)
                return false;
            return list.indexOf(value) !== -1;
        };
        $mol_set_shim.prototype.delete = function (value) {
            var key = String(value);
            var list = this._index[key];
            if (!list)
                return;
            var index = list.indexOf(value);
            if (index === -1)
                return;
            list.splice(index, 1);
            --this.size;
        };
        $mol_set_shim.prototype.forEach = function (handle) {
            for (var key in this._index) {
                if (!this._index.hasOwnProperty(key))
                    continue;
                this._index[key].forEach(function (val, index) { return handle(val, val); });
            }
        };
        $mol_set_shim.prototype.keys = function () {
            var keys = [];
            this.forEach(function (val, key) {
                keys.push(key);
            });
            return keys;
        };
        $mol_set_shim.prototype.values = function () {
            var values = [];
            this.forEach(function (val, key) {
                values.push(val);
            });
            return values;
        };
        $mol_set_shim.prototype.entries = function () {
            var entries = [];
            this.forEach(function (val, key) {
                entries.push([val, key]);
            });
            return entries;
        };
        $mol_set_shim.prototype.clear = function () {
            this._index = {};
            this.size = 0;
        };
        return $mol_set_shim;
    }());
    $.$mol_set_shim = $mol_set_shim;
})($ || ($ = {}));
//set.js.map
;
$.$mol_set = ( typeof Set === 'function' ) ? Set : $.$mol_set_shim

;
var $;
(function ($) {
    $.$mol_state_stack = new $.$mol_dict();
})($ || ($ = {}));
//stack.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'caching': function () {
            var random = new $.$mol_atom('random', function () { return Math.random(); });
            $.$mol_assert_equal(random.get(), random.get());
        },
        'lazyness': function () {
            var value = 0;
            var prop = new $.$mol_atom('prop', function () { return value = 1; });
            $.$mol_defer.run();
            $.$mol_assert_equal(value, 0);
        },
        'instant actualization': function () {
            var source = new $.$mol_atom('source', function (next) { return next || 1; });
            var middle = new $.$mol_atom('middle', function () { return source.get() + 1; });
            var target = new $.$mol_atom('target', function () { return middle.get() + 1; });
            $.$mol_assert_equal(target.get(), 3);
            source.set(2);
            $.$mol_assert_equal(target.get(), 4);
        },
        'automatic deferred restart': function () {
            var targetValue;
            var source = new $.$mol_atom('source', function (next) { return next || 1; });
            var middle = new $.$mol_atom('middle', function () { return source.get() + 1; });
            var target = new $.$mol_atom('target', function () { return targetValue = middle.get() + 1; });
            target.get();
            $.$mol_assert_equal(targetValue, 3);
            source.set(2);
            $.$mol_assert_equal(targetValue, 3);
            $.$mol_defer.run();
            $.$mol_assert_equal(targetValue, 4);
        },
        'Right reactive change of source': function () {
            var targetValue;
            var counter = new $.$mol_atom('counter', function (next) {
                new $.$mol_defer(function () {
                    counter.push(next || 1);
                });
                throw new $.$mol_atom_wait;
            });
            var slave = new $.$mol_atom('slave', function (next) { return counter.get(); });
            slave.actualize();
            var changed = false;
            $.$mol_atom_task('task', function () {
                var next = counter.get() + 1;
                $.$mol_atom_task('task', function () {
                    counter.set(next).valueOf();
                    changed = true;
                });
            });
            $.$mol_defer.run();
            $.$mol_assert_equal(counter.get(), 2);
            $.$mol_assert_ok(changed);
            slave.destroyed(true);
        },
        'error handling': function () {
            var source = new $.$mol_atom('source', function (next) {
                var error = new Error('Test error');
                error['$mol_atom_catched'] = true;
                throw error;
            });
            var middle = new $.$mol_atom('middle', function () { return source.get() + 1; });
            var target = new $.$mol_atom('target', function () { return middle.get() + 1; });
            $.$mol_assert_fail(function () { return target.get().valueOf(); });
        },
    });
})($ || ($ = {}));
//atom.test.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_atom_status;
    (function ($mol_atom_status) {
        $mol_atom_status[$mol_atom_status["obsolete"] = 'obsolete'] = "obsolete";
        $mol_atom_status[$mol_atom_status["checking"] = 'checking'] = "checking";
        $mol_atom_status[$mol_atom_status["pulling"] = 'pulling'] = "pulling";
        $mol_atom_status[$mol_atom_status["actual"] = 'actual'] = "actual";
    })($mol_atom_status = $.$mol_atom_status || ($.$mol_atom_status = {}));
    var $mol_atom = (function (_super) {
        __extends($mol_atom, _super);
        function $mol_atom(host, handler, field) {
            if (field === void 0) { field = 'value()'; }
            var _this = _super.call(this) || this;
            _this.masters = null;
            _this.slaves = null;
            _this.status = $mol_atom_status.obsolete;
            _this.autoFresh = true;
            _this.handler = handler;
            _this.host = Object(host);
            _this.field = field || 'value()';
            return _this;
        }
        $mol_atom.prototype.destroyed = function (next) {
            if (next) {
                this.unlink();
                var host = this.host;
                var value = host[this.field];
                if (value instanceof $.$mol_object) {
                    if ((value.object_owner() === host) && (value.object_field() === this.field)) {
                        value.destroyed(true);
                    }
                }
                host[this.field] = void null;
                host[this.field + '@'] = void null;
                this.status = $mol_atom_status.obsolete;
            }
            return _super.prototype.destroyed.call(this, next);
        };
        $mol_atom.prototype.unlink = function () {
            this.disobey_all();
            this.check_slaves();
        };
        $mol_atom.prototype.toString = function () {
            return this.host + "." + this.field + "@";
        };
        $mol_atom.prototype.get = function (force) {
            if (this.status === $mol_atom_status.pulling) {
                throw new Error("Cyclic atom dependency of " + this);
            }
            this.actualize(force);
            var slave = $mol_atom.stack[0];
            if (slave)
                this.lead(slave);
            if (slave)
                slave.obey(this);
            var value = this.host[this.field];
            if (value instanceof Error) {
                if (typeof Proxy !== 'function')
                    throw value;
            }
            return value;
        };
        $mol_atom.prototype.actualize = function (force) {
            var _this = this;
            if (!force && this.status === $mol_atom_status.actual)
                return;
            var slave = $mol_atom.stack[0];
            $mol_atom.stack[0] = this;
            if (!force && this.status === $mol_atom_status.checking) {
                this.masters.forEach(function (master) {
                    if (_this.status !== $mol_atom_status.checking)
                        return;
                    master.actualize();
                });
                if (this.status === $mol_atom_status.checking) {
                    this.status = $mol_atom_status.actual;
                }
            }
            if (force || this.status !== $mol_atom_status.actual) {
                var oldMasters = this.masters;
                this.masters = null;
                if (oldMasters)
                    oldMasters.forEach(function (master) {
                        master.dislead(_this);
                    });
                this.status = $mol_atom_status.pulling;
                var next = this.pull(force);
                this.push(next);
            }
            $mol_atom.stack[0] = slave;
        };
        $mol_atom.prototype.pull = function (force) {
            try {
                return this.handler(this._next, force);
            }
            catch (error) {
                if (error['$mol_atom_catched'])
                    return error;
                if (error instanceof $mol_atom_wait)
                    return error;
                console.error(error.stack || error);
                if (!(error instanceof Error)) {
                    error = new Error(error.stack || error);
                }
                error['$mol_atom_catched'] = true;
                return error;
            }
        };
        $mol_atom.prototype.set = function (next) {
            var next_normal = this.normalize(next, this._next);
            if (next_normal === this._next)
                return this.get();
            if (next_normal === this.host[this.field])
                return this.get();
            this._next = next_normal;
            this.obsolete();
            return this.get();
        };
        $mol_atom.prototype.normalize = function (next, prev) {
            if (next === prev)
                return next;
            if ((next instanceof Array) && (prev instanceof Array) && (next.length === prev.length)) {
                for (var i = 0; i < next.length; ++i) {
                    if (next[i] !== prev[i])
                        return next;
                }
                return prev;
            }
            return next;
        };
        $mol_atom.prototype.push = function (next_raw) {
            this._next = void null;
            this.status = $mol_atom_status.actual;
            var host = this.host;
            var prev = host[this.field];
            if (next_raw === void null)
                return prev;
            var next = (next_raw instanceof Error) ? next_raw : this.normalize(next_raw, prev);
            if (next === prev)
                return prev;
            if (next instanceof $.$mol_object) {
                next.object_field(this.field);
                next.object_owner(host);
            }
            if ((typeof Proxy === 'function') && (next instanceof Error)) {
                next = new Proxy(next, {
                    get: function (target) {
                        throw target.valueOf();
                    },
                    ownKeys: function (target) {
                        throw target.valueOf();
                    },
                });
            }
            host[this.field] = next;
            this.log(['push', next, prev]);
            this.obsolete_slaves();
            return next;
        };
        $mol_atom.prototype.obsolete_slaves = function () {
            if (!this.slaves)
                return;
            this.slaves.forEach(function (slave) { return slave.obsolete(); });
        };
        $mol_atom.prototype.check_slaves = function () {
            if (this.slaves) {
                this.slaves.forEach(function (slave) { return slave.check(); });
            }
            else {
                if (this.autoFresh)
                    $mol_atom.actualize(this);
            }
        };
        $mol_atom.prototype.check = function () {
            if (this.status === $mol_atom_status.actual) {
                this.status = $mol_atom_status.checking;
                this.check_slaves();
            }
        };
        $mol_atom.prototype.obsolete = function () {
            if (this.status === $mol_atom_status.obsolete)
                return;
            this.log(['obsolete']);
            this.status = $mol_atom_status.obsolete;
            this.check_slaves();
            return void null;
        };
        $mol_atom.prototype.lead = function (slave) {
            if (!this.slaves) {
                this.slaves = new $.$mol_set();
                $mol_atom.unreap(this);
            }
            this.slaves.add(slave);
        };
        $mol_atom.prototype.dislead = function (slave) {
            if (!this.slaves)
                return;
            if (this.slaves.size === 1) {
                this.slaves = null;
                $mol_atom.reap(this);
            }
            else {
                this.slaves.delete(slave);
            }
        };
        $mol_atom.prototype.obey = function (master) {
            if (!this.masters)
                this.masters = new $.$mol_set();
            this.masters.add(master);
        };
        $mol_atom.prototype.disobey = function (master) {
            if (!this.masters)
                return;
            this.masters.delete(master);
        };
        $mol_atom.prototype.disobey_all = function () {
            var _this = this;
            if (!this.masters)
                return;
            this.masters.forEach(function (master) { return master.dislead(_this); });
            this.masters = null;
        };
        $mol_atom.prototype.value = function (next, force) {
            if (next === void null) {
                return this.get(force);
            }
            else {
                if (force) {
                    return this.push(next);
                }
                else {
                    return this.set(next);
                }
            }
        };
        $mol_atom.actualize = function (atom) {
            $mol_atom.updating.push(atom);
            $mol_atom.schedule();
        };
        $mol_atom.reap = function (atom) {
            $mol_atom.reaping.add(atom);
            $mol_atom.schedule();
        };
        $mol_atom.unreap = function (atom) {
            $mol_atom.reaping.delete(atom);
        };
        $mol_atom.schedule = function () {
            var _this = this;
            if (this.scheduled)
                return;
            new $.$mol_defer(function () {
                if (!_this.scheduled)
                    return;
                _this.scheduled = false;
                _this.sync();
            });
            this.scheduled = true;
        };
        $mol_atom.sync = function () {
            var _this = this;
            $.$mol_log('$mol_atom.sync', []);
            this.schedule();
            while (this.updating.length) {
                var atom = this.updating.shift();
                if (this.reaping.has(atom))
                    continue;
                if (!atom.destroyed())
                    atom.get();
            }
            while (this.reaping.size) {
                this.reaping.forEach(function (atom) {
                    _this.reaping.delete(atom);
                    if (!atom.slaves)
                        atom.destroyed(true);
                });
            }
            this.scheduled = false;
        };
        return $mol_atom;
    }($.$mol_object));
    $mol_atom.stack = [null];
    $mol_atom.updating = [];
    $mol_atom.reaping = new $.$mol_set();
    $mol_atom.scheduled = false;
    $.$mol_atom = $mol_atom;
    $.$mol_state_stack.set('$mol_atom.stack', $mol_atom.stack);
    var $mol_atom_wait = (function (_super) {
        __extends($mol_atom_wait, _super);
        function $mol_atom_wait(message) {
            if (message === void 0) { message = 'Wait...'; }
            var _this = _super.call(this, message) || this;
            _this.message = message;
            _this.name = '$mol_atom_wait';
            var error = new Error(message);
            error.name = _this.name;
            error['__proto__'] = $mol_atom_wait.prototype;
            return error;
        }
        return $mol_atom_wait;
    }(Error));
    $.$mol_atom_wait = $mol_atom_wait;
    var $mol_atom_force = (function (_super) {
        __extends($mol_atom_force, _super);
        function $mol_atom_force() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_atom_force;
    }(Object));
    $.$mol_atom_force = $mol_atom_force;
    function $mol_atom_task(host, handler) {
        var atom = new $mol_atom(host, function () {
            try {
                handler();
            }
            catch (error) {
                if (!(error instanceof $mol_atom_wait))
                    atom.destroyed(true);
                throw error;
            }
            atom.destroyed(true);
        });
        $mol_atom.actualize(atom);
        return atom;
    }
    $.$mol_atom_task = $mol_atom_task;
})($ || ($ = {}));
//atom.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    $.$mol_test({
        'cached property with simple key': function () {
            var X = (function (_super) {
                __extends(X, _super);
                function X() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                X.prototype.foo = function (id, next) {
                    if (next == null)
                        return new Number(123);
                    return new Number(next);
                };
                return X;
            }($.$mol_object));
            __decorate([
                $.$mol_mem_key()
            ], X.prototype, "foo", null);
            var x = new X;
            $.$mol_assert_equal(x.foo(0).valueOf(), 123);
            $.$mol_assert_equal(x.foo(0), x.foo(0));
            $.$mol_assert_unique(x.foo(0), x.foo(1));
            x.foo(0, 321);
            $.$mol_assert_equal(x.foo(0).valueOf(), 321);
            x.foo(0, null);
            $.$mol_assert_equal(x.foo(0).valueOf(), 123);
        },
        'cached property with complex key': function () {
            var X = (function (_super) {
                __extends(X, _super);
                function X() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                X.prototype.foo = function (ids) {
                    return Math.random();
                };
                return X;
            }($.$mol_object));
            __decorate([
                $.$mol_mem_key()
            ], X.prototype, "foo", null);
            var x = new X;
            $.$mol_assert_equal(x.foo([0, 1]), x.foo([0, 1]));
            $.$mol_assert_unique(x.foo([0, 1]), x.foo([0, 2]));
        },
        'auto sync of properties': function () {
            var X = (function (_super) {
                __extends(X, _super);
                function X() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                X.prototype.foo = function (next) {
                    return next || 1;
                };
                X.prototype.bar = function () {
                    return this.foo() + 1;
                };
                X.prototype.xxx = function () {
                    return this.bar() + 1;
                };
                return X;
            }($.$mol_object));
            __decorate([
                $.$mol_mem()
            ], X.prototype, "foo", null);
            __decorate([
                $.$mol_mem()
            ], X.prototype, "bar", null);
            __decorate([
                $.$mol_mem()
            ], X.prototype, "xxx", null);
            var x = new X;
            $.$mol_assert_equal(x.bar(), 2);
            $.$mol_assert_equal(x.xxx(), 3);
            x.foo(5);
            $.$mol_assert_equal(x.xxx(), 7);
        },
        'must be deferred destroyed when no longer referenced': function () {
            var foo;
            var B = (function (_super) {
                __extends(B, _super);
                function B() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                B.prototype.showing = function (next) {
                    if (next === void 0)
                        return true;
                    return next;
                };
                B.prototype.foo = function () {
                    return foo = new $.$mol_object;
                };
                B.prototype.bar = function () {
                    return this.showing() ? this.foo() : null;
                };
                return B;
            }($.$mol_object));
            __decorate([
                $.$mol_mem()
            ], B.prototype, "showing", null);
            __decorate([
                $.$mol_mem()
            ], B.prototype, "foo", null);
            __decorate([
                $.$mol_mem()
            ], B.prototype, "bar", null);
            var b = new B;
            var bar = b.bar();
            $.$mol_assert_ok(bar);
            b.showing(false);
            b.bar();
            $.$mol_defer.run();
            $.$mol_assert_ok(foo.destroyed());
            $.$mol_assert_ok(bar.destroyed());
            $.$mol_assert_not(b.bar());
            b.showing(true);
            $.$mol_defer.run();
            $.$mol_assert_unique(b.bar(), bar);
        },
        'wait for data': function () {
            var Test = (function (_super) {
                __extends(Test, _super);
                function Test() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Test.prototype.source = function (next, force) {
                    var _this = this;
                    new $.$mol_defer(function () {
                        _this.source('Jin', $.$mol_atom_force);
                    });
                    throw new $.$mol_atom_wait('Wait for data!');
                };
                Test.prototype.middle = function () {
                    return this.source();
                };
                Test.prototype.target = function () {
                    return this.middle();
                };
                return Test;
            }($.$mol_object));
            __decorate([
                $.$mol_mem()
            ], Test.prototype, "source", null);
            __decorate([
                $.$mol_mem()
            ], Test.prototype, "middle", null);
            __decorate([
                $.$mol_mem()
            ], Test.prototype, "target", null);
            var t = new Test;
            $.$mol_assert_fail(function () { return t.target().valueOf(); }, $.$mol_atom_wait);
            $.$mol_defer.run();
            $.$mol_assert_equal(t.target(), 'Jin');
        },
    });
})($ || ($ = {}));
//mem.test.js.map
;
var $;
(function ($) {
    function $mol_mem(config) {
        return function (obj, name, descr) {
            var value = descr.value;
            descr.value = function (next, force) {
                var host = this;
                var field = name + "()";
                var fieldA = field + '@';
                var atom = host[fieldA];
                if (!atom) {
                    if (force && (next === void null))
                        return next;
                    host[fieldA] = atom = new $.$mol_atom(host, value.bind(host), field);
                    if (config)
                        atom.autoFresh = !config.lazy;
                }
                return atom.value(next, force);
            };
            void (descr.value['value'] = value);
        };
    }
    $.$mol_mem = $mol_mem;
    function $mol_mem_key(config) {
        return function (obj, name, descr) {
            var value = descr.value;
            descr.value = function (key, next, force) {
                var host = this;
                var field = name + "(" + JSON.stringify(key) + ")";
                var fieldA = field + '@';
                var atom = host[fieldA];
                if (!atom) {
                    if (force && (next === void null))
                        return next;
                    host[fieldA] = atom = new $.$mol_atom(host, value.bind(host, key), field);
                    if (config)
                        atom.autoFresh = !config.lazy;
                }
                return atom.value(next, force);
            };
            void (descr.value['value'] = value);
        };
    }
    $.$mol_mem_key = $mol_mem_key;
})($ || ($ = {}));
//mem.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_window = (function (_super) {
        __extends($mol_window, _super);
        function $mol_window() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_window.size = function (next) {
            return next || {
                width: 1024,
                height: 768,
            };
        };
        return $mol_window;
    }($.$mol_object));
    $.$mol_window = $mol_window;
})($ || ($ = {}));
//window.node.js.map
;
var $node = new Proxy({}, { get: function (target, field, wrapper) {
        return require(field);
    } });
//node.node.js.map
;
var $;
(function ($) {
    $.$mol_dom_context = $node.jsdom.jsdom().defaultView;
})($ || ($ = {}));
//context.node.js.map
;
var $;
(function ($) {
})($ || ($ = {}));
//context.js.map
;
var $;
(function ($) {
    function $mol_dom_render(el, config) {
        var document = el.ownerDocument;
        var _loop_1 = function (key) {
            switch (key) {
                case 'localName': break;
                case 'namespaceURI': break;
                case 'childNodes': {
                    if (!config.childNodes)
                        break;
                    $mol_dom_render_childNodes(el, config.childNodes);
                    break;
                }
                case 'attributes': {
                    if (!config.attributes)
                        break;
                    $mol_dom_render_attributes(el, config.attributes);
                    break;
                }
                case 'style': {
                    if (!config.style)
                        break;
                    $mol_dom_render_style(el, config.style);
                    break;
                }
                case 'events': {
                    $mol_dom_render_event(el, config.events);
                    break;
                }
                case 'events_async': {
                    $mol_dom_render_event_async(el, config.events_async);
                    break;
                }
                default: {
                    if (el[key] !== config[key]) {
                        el[key] = config[key];
                        if (el[key] !== config[key]) {
                            var setter_1 = function () {
                                el.removeEventListener('DOMNodeInsertedIntoDocument', setter_1, { passive: true });
                                new $.$mol_defer(function () {
                                    el[key] = config[key];
                                });
                            };
                            el.addEventListener('DOMNodeInsertedIntoDocument', setter_1, { passive: true });
                        }
                    }
                }
            }
        };
        for (var key in config) {
            _loop_1(key);
        }
        return el;
    }
    $.$mol_dom_render = $mol_dom_render;
    function $mol_dom_render_childNodes(el, childNodes) {
        var nodes = [];
        for (var i = 0; i < childNodes.length; ++i) {
            var node = childNodes[i];
            if (node == null)
                continue;
            if (Object(node) === node) {
                if (node['render'])
                    node = node['render']();
                nodes.push(node);
            }
            else {
                nodes.push(String(node));
            }
        }
        var nextNode = el.firstChild;
        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {
            var view_ = nodes_1[_i];
            var view = view_.valueOf();
            if (view instanceof $.$mol_dom_context.Node) {
                while (true) {
                    if (!nextNode) {
                        el.appendChild(view);
                        break;
                    }
                    if (nextNode == view) {
                        nextNode = nextNode.nextSibling;
                        break;
                    }
                    else {
                        if (nodes.indexOf(nextNode) === -1) {
                            var nn = nextNode.nextSibling;
                            el.removeChild(nextNode);
                            nextNode = nn;
                        }
                        else {
                            el.insertBefore(view, nextNode);
                            break;
                        }
                    }
                }
            }
            else {
                if (nextNode && nextNode.nodeName === '#text') {
                    nextNode.nodeValue = String(view);
                    nextNode = nextNode.nextSibling;
                }
                else {
                    var textNode = $.$mol_dom_context.document.createTextNode(String(view));
                    el.insertBefore(textNode, nextNode);
                }
            }
        }
        while (nextNode) {
            var currNode = nextNode;
            nextNode = currNode.nextSibling;
            el.removeChild(currNode);
        }
    }
    $.$mol_dom_render_childNodes = $mol_dom_render_childNodes;
    function $mol_dom_render_attributes(el, attrs) {
        for (var name_1 in attrs) {
            var val = attrs[name_1];
            if (el.getAttribute(name_1) === val)
                continue;
            if (val === null || val === false)
                el.removeAttribute(name_1);
            else
                el.setAttribute(name_1, String(val));
        }
    }
    $.$mol_dom_render_attributes = $mol_dom_render_attributes;
    function $mol_dom_render_style(el, styles) {
        for (var name_2 in styles) {
            var val = styles[name_2];
            if (typeof val === 'number')
                val = val + "px";
            var style = el.style;
            if (val !== style[name_2])
                style[name_2] = val;
        }
    }
    $.$mol_dom_render_style = $mol_dom_render_style;
    function $mol_dom_render_event(el, events) {
        for (var name_3 in events) {
            el.addEventListener(name_3, events[name_3]);
        }
    }
    $.$mol_dom_render_event = $mol_dom_render_event;
    function $mol_dom_render_event_async(el, events) {
        for (var name_4 in events) {
            el.addEventListener(name_4, events[name_4], { passive: true });
        }
    }
    $.$mol_dom_render_event_async = $mol_dom_render_event_async;
})($ || ($ = {}));
//render.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'Make empty div': function () {
            var dom = $.$mol_dom_make({
                id: '$mol_dom_make_test',
            });
            $.$mol_assert_equal(dom.outerHTML, '<span id="$mol_dom_make_test"></span>');
        },
        'Make SVG': function () {
            var dom = $.$mol_dom_make({
                id: '$mol_dom_make_test',
                localName: 'svg',
                namespaceURI: 'http://www.w3.org/2000/svg',
            });
            $.$mol_assert_equal(dom.outerHTML, '<svg id="$mol_dom_make_test"></svg>');
        },
        'Make input with id and value': function () {
            var dom = $.$mol_dom_make({
                id: '$mol_dom_make_test',
                localName: 'input',
                value: 123,
            });
            $.$mol_assert_equal(dom.outerHTML, '<input id="$mol_dom_make_test">');
            $.$mol_assert_equal(dom.value, '123');
        },
        'Make content': function () {
            var id = '$mol_dom_make_test';
            var dom = $.$mol_dom_make({
                id: "" + id,
                childNodes: [
                    'hello',
                    $.$mol_dom_make({
                        id: id + "_inner",
                    }),
                    '!',
                ]
            });
            $.$mol_assert_equal(dom.outerHTML, '<span id="$mol_dom_make_test">' +
                'hello' +
                '<span id="$mol_dom_make_test_inner"></span>' +
                '!' +
                '</span>');
        },
        'Make to exists element': function () {
            var dom1 = $.$mol_dom_make({
                id: '$mol_dom_make_test',
            });
            $.$mol_dom_context.document.body.appendChild(dom1);
            var dom2 = $.$mol_dom_make({
                id: '$mol_dom_make_test',
                className: 'mol_dom_make_test'
            });
            $.$mol_dom_context.document.body.removeChild(dom1);
            $.$mol_assert_equal(dom1, dom2);
            $.$mol_assert_equal(dom1.outerHTML, '<span id="$mol_dom_make_test" class="mol_dom_make_test"></span>');
        },
        'Make by another dom element': function () {
            var dom1 = $.$mol_dom_make({
                id: '$mol_dom_make_test',
                className: 'hello',
                childNodes: [
                    'world'
                ],
            });
            var dom2 = $.$mol_dom_make({
                id: dom1.id,
                className: dom1.className,
                childNodes: dom1.childNodes,
            });
            $.$mol_assert_equal(dom2.outerHTML, '<span id="$mol_dom_make_test" class="hello">world</span>');
        },
    });
})($ || ($ = {}));
//make.test.js.map
;
var $;
(function ($) {
    function $mol_dom_make(config) {
        var document = $.$mol_dom_context.document;
        var el = config.id && document.getElementById(config.id);
        if (!el) {
            var name_1 = config.localName || 'span';
            var space = config.namespaceURI || 'http://www.w3.org/1999/xhtml';
            el = document.createElementNS(space, name_1);
        }
        return $.$mol_dom_render(el, config);
    }
    $.$mol_dom_make = $mol_dom_make;
})($ || ($ = {}));
//make.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_view_dom = (function (_super) {
        __extends($mol_view_dom, _super);
        function $mol_view_dom() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_view_dom.node = function (view) {
            var node = $mol_view_dom.nodes.get(view);
            if (!node) {
                node = $.$mol_dom_make({
                    localName: view.dom_name(),
                    namespaceURI: view.dom_name_space(),
                });
                $mol_view_dom.mount(view, node);
            }
            return node;
        };
        $mol_view_dom.mount = function (view, node) {
            $mol_view_dom.nodes.set(view, node);
            $.$mol_dom_render(node, {
                id: view.toString(),
                attributes: view.attr_static(),
                events: view.event(),
                events_async: view.event_async(),
            });
            for (var _i = 0, _a = view.plugins(); _i < _a.length; _i++) {
                var plugin = _a[_i];
                $mol_view_dom.nodes.set(plugin, node);
                $.$mol_dom_render(node, {
                    attributes: plugin.attr_static(),
                    events: plugin.event(),
                    events_async: plugin.event_async(),
                });
            }
            return node;
        };
        return $mol_view_dom;
    }($.$mol_object));
    $mol_view_dom.nodes = new (WeakMap || $.$mol_dict)();
    $.$mol_view_dom = $mol_view_dom;
})($ || ($ = {}));
//dom.js.map
;
var $;
(function ($) {
    function $mol_deprecated(message) {
        return function (host, field, descr) {
            var value = descr.value;
            descr.value = function $mol_deprecated_wrapper() {
                console.warn(host.constructor + "::" + field + " is deprecated. " + message);
                return value.apply(host, arguments);
            };
        };
    }
    $.$mol_deprecated = $mol_deprecated;
})($ || ($ = {}));
//deprecated.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    $.$mol_test({
        'id auto generation': function () {
            var $mol_view_test_item = (function (_super) {
                __extends($mol_view_test_item, _super);
                function $mol_view_test_item() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                return $mol_view_test_item;
            }($.$mol_view));
            var $mol_view_test_block = (function (_super) {
                __extends($mol_view_test_block, _super);
                function $mol_view_test_block() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                $mol_view_test_block.prototype.element = function (id) {
                    return new $mol_view_test_item();
                };
                return $mol_view_test_block;
            }($.$mol_view));
            __decorate([
                $.$mol_mem_key()
            ], $mol_view_test_block.prototype, "element", null);
            var x = new $mol_view_test_block();
            $.$mol_assert_equal(x.render().id, '');
            $.$mol_assert_equal(x.element(0).render().id, '.element(0)');
        },
        'caching ref to dom node': function () {
            var $mol_view_test = (function (_super) {
                __extends($mol_view_test, _super);
                function $mol_view_test() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                return $mol_view_test;
            }($.$mol_view));
            var x = new $mol_view_test();
            $.$mol_assert_equal(x.render(), x.render());
        },
        'content render': function () {
            var $mol_view_test = (function (_super) {
                __extends($mol_view_test, _super);
                function $mol_view_test() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                $mol_view_test.prototype.sub = function () {
                    return ['lol', 5];
                };
                return $mol_view_test;
            }($.$mol_view));
            var x = new $mol_view_test();
            var node = x.render();
            $.$mol_assert_equal(node.innerHTML, 'lol5');
        },
        'bem attributes generation': function () {
            var $mol_view_test_item = (function (_super) {
                __extends($mol_view_test_item, _super);
                function $mol_view_test_item() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                return $mol_view_test_item;
            }($.$mol_view));
            var $mol_view_test_block = (function (_super) {
                __extends($mol_view_test_block, _super);
                function $mol_view_test_block() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                $mol_view_test_block.prototype.Element = function (id) {
                    return new $mol_view_test_item();
                };
                return $mol_view_test_block;
            }($.$mol_view));
            __decorate([
                $.$mol_mem_key()
            ], $mol_view_test_block.prototype, "Element", null);
            var x = new $mol_view_test_block();
            $.$mol_assert_equal(x.render().getAttribute('mol_view_test_block'), '');
            $.$mol_assert_equal(x.render().getAttribute('mol_view'), '');
            $.$mol_assert_equal(x.Element(0).render().getAttribute('mol_view_test_block_element'), '');
            $.$mol_assert_equal(x.Element(0).render().getAttribute('mol_view_test_item'), '');
            $.$mol_assert_equal(x.Element(0).render().getAttribute('mol_view'), '');
        },
        'render custom attributes': function () {
            var $mol_view_test = (function (_super) {
                __extends($mol_view_test, _super);
                function $mol_view_test() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                $mol_view_test.prototype.attr = function () {
                    return {
                        'href': '#haha',
                        'required': true,
                        'hidden': false,
                    };
                };
                return $mol_view_test;
            }($.$mol_view));
            var x = new $mol_view_test();
            var node = x.render();
            $.$mol_assert_equal(node.getAttribute('href'), '#haha');
            $.$mol_assert_equal(node.getAttribute('required'), 'true');
            $.$mol_assert_equal(node.getAttribute('hidden'), null);
        },
        'render custom fields': function () {
            var $mol_view_test = (function (_super) {
                __extends($mol_view_test, _super);
                function $mol_view_test() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                $mol_view_test.prototype.field = function () {
                    return {
                        'hidden': true
                    };
                };
                return $mol_view_test;
            }($.$mol_view));
            var x = new $mol_view_test();
            var node = x.render();
            $.$mol_assert_equal(node.hidden, true);
        },
        'attach event handlers': function () {
            var clicked = false;
            var $mol_view_test = (function (_super) {
                __extends($mol_view_test, _super);
                function $mol_view_test() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                $mol_view_test.prototype.event = function () {
                    var _this = this;
                    return {
                        'click': function (next) { return _this.event_click(next); }
                    };
                };
                $mol_view_test.prototype.event_click = function (next) {
                    clicked = true;
                };
                return $mol_view_test;
            }($.$mol_view));
            var x = new $mol_view_test();
            var node = x.render();
            node.click();
            $.$mol_assert_ok(clicked);
        },
    });
})($ || ($ = {}));
//view.test.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    $.$mol_view_context = {};
    $.$mol_view_context.$mol_view_visible_width = function () { return $.$mol_window.size().width; };
    $.$mol_view_context.$mol_view_visible_height = function () { return $.$mol_window.size().height; };
    $.$mol_view_context.$mol_view_state_key = function (suffix) { return suffix; };
    var $mol_view = (function (_super) {
        __extends($mol_view, _super);
        function $mol_view() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this['event_wrapped()'] = null;
            return _this;
        }
        $mol_view.Root = function (id) {
            return new this;
        };
        $mol_view.prototype.title = function () {
            return this.Class().toString();
        };
        $mol_view.prototype.focused = function (next) {
            var node = $.$mol_view_dom.node(this);
            var value = $.$mol_view_selection.focused(next === void 0 ? void 0 : [node]);
            return value.indexOf(node) !== -1;
        };
        $mol_view.prototype.context = function (next) {
            return next || $.$mol_view_context;
        };
        $mol_view.prototype.context_sub = function () {
            return this.context();
        };
        $mol_view.prototype.state_key = function (suffix) {
            if (suffix === void 0) { suffix = ''; }
            return this.context().$mol_view_state_key(suffix);
        };
        $mol_view.prototype.dom_name = function () {
            return this.constructor.toString().replace('$', '');
        };
        $mol_view.prototype.dom_name_space = function () { return 'http://www.w3.org/1999/xhtml'; };
        $mol_view.prototype.sub = function () {
            return null;
        };
        $mol_view.prototype.sub_visible = function () {
            var sub = this.sub();
            if (!sub)
                return sub;
            var context = this.context_sub();
            sub.forEach(function (child) {
                if (child instanceof $mol_view) {
                    child.context(context);
                }
            });
            return sub;
        };
        $mol_view.prototype.minimal_width = function () {
            var sub = this.sub();
            if (!sub)
                return 0;
            var min = 0;
            sub.forEach(function (view) {
                if (view instanceof $mol_view) {
                    min = Math.max(min, view.minimal_width());
                }
            });
            return min;
        };
        $mol_view.prototype.minimal_height = function () {
            var sub = this.sub();
            if (!sub)
                return 0;
            var min = 0;
            sub.forEach(function (view) {
                if (view instanceof $mol_view) {
                    min = Math.max(min, view.minimal_height());
                }
            });
            return min;
        };
        $mol_view.prototype.view_classes = function () {
            var proto = Object.getPrototypeOf(this);
            if (this['view_classes()'])
                return this['view_classes()'];
            var current = proto;
            var classes = [];
            while (current) {
                classes.push(current.constructor);
                if (!(current instanceof $mol_view))
                    break;
                current = Object.getPrototypeOf(current);
            }
            return this['view_classes()'] = classes;
        };
        $mol_view.prototype.dom_node = function () {
            return $.$mol_view_dom.node(this);
        };
        $mol_view.prototype.dom_tree = function () {
            return this.render();
        };
        $mol_view.prototype.render = function () {
            var node = this.dom_node();
            try {
                for (var _i = 0, _a = this.plugins(); _i < _a.length; _i++) {
                    var plugin = _a[_i];
                    plugin.render();
                }
                $.$mol_dom_render(node, __assign({ attributes: this.attr(), childNodes: this.sub_visible(), style: this.style() }, (this.field() || {})));
            }
            catch (error) {
                $.$mol_dom_render(node, {
                    attributes: { mol_view_error: error.name },
                });
                if (error instanceof $.$mol_atom_wait)
                    return node;
                if (error['$mol_atom_catched'])
                    return node;
                console.error(error);
                error['$mol_atom_catched'] = true;
            }
            return node;
        };
        $mol_view.prototype.attr_static = function () {
            var attrs = { 'mol_view_error': false };
            var owner = this.object_owner();
            if (owner instanceof $mol_view) {
                var suffix_1 = this.object_field().replace(/\(.*/, '');
                var suffix2_1 = '_' + suffix_1[0].toLowerCase() + suffix_1.substring(1);
                owner.view_classes().forEach(function (Class) {
                    if (suffix_1 in Class.prototype) {
                        var attrName = Class.toString().replace(/\$/g, '') + suffix2_1;
                        attrs[attrName] = '';
                    }
                });
            }
            this.view_classes().forEach(function (Class) {
                attrs[Class.toString().replace(/\$/g, '').toLowerCase()] = '';
            });
            return attrs;
        };
        $mol_view.prototype.attr = function () {
            return {
                'mol_view_error': false,
            };
        };
        $mol_view.prototype.style = function () {
            return {};
        };
        $mol_view.prototype.field = function () {
            return {};
        };
        $mol_view.prototype.event = function () {
            return {};
        };
        $mol_view.prototype.event_async = function () {
            return {};
        };
        $mol_view.prototype.event_wrapped = function () {
            var _this = this;
            if (this['event_wrapped()'])
                return this['event_wrapped()'];
            var event = this.event();
            var wrapped = {};
            var _loop_1 = function (name_1) {
                var handle = event[name_1];
                wrapped[name_1] = function (event) {
                    $.$mol_atom_task(_this + ".event()['" + name_1 + "']", function () { return handle(event); }).get();
                };
            };
            for (var name_1 in event) {
                _loop_1(name_1);
            }
            return this['event_wrapped()'] = wrapped;
        };
        $mol_view.prototype.locale_contexts = function () {
            return this['locale_contexts()'] || (this['locale_contexts()'] = this.view_classes().map(String));
        };
        $mol_view.prototype.plugins = function () {
            return [];
        };
        return $mol_view;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_view.prototype, "focused", null);
    __decorate([
        $.$mol_mem()
    ], $mol_view.prototype, "context", null);
    __decorate([
        $.$mol_mem()
    ], $mol_view.prototype, "minimal_width", null);
    __decorate([
        $.$mol_mem()
    ], $mol_view.prototype, "minimal_height", null);
    __decorate([
        $.$mol_deprecated('Use $mol_view::render instead.')
    ], $mol_view.prototype, "dom_tree", null);
    __decorate([
        $.$mol_mem()
    ], $mol_view.prototype, "render", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_view, "Root", null);
    $.$mol_view = $mol_view;
})($ || ($ = {}));
//view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_view_selection = (function (_super) {
        __extends($mol_view_selection, _super);
        function $mol_view_selection() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_view_selection.focused = function (next, force) {
            if (next === void 0)
                return [];
            if (next.length !== 1)
                throw new Error('Length must be equals 1');
            var node = next[0];
            node.focus();
        };
        $mol_view_selection.position = function () {
            var diff = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                diff[_i] = arguments[_i];
            }
            if (diff.length) {
                if (!diff[0])
                    return diff[0];
                var start = diff[0].start;
                var end = diff[0].end;
                if (!(start <= end))
                    throw new Error("Wrong offsets (" + start + "," + end + ")");
                var root = $.$mol_dom_context.document.getElementById(diff[0].id);
                root.focus();
                var range = new Range;
                var cur = root.firstChild;
                while (cur !== root) {
                    while (cur.firstChild)
                        cur = cur.firstChild;
                    if (cur.nodeValue) {
                        var length = cur.nodeValue.length;
                        if (length >= start)
                            break;
                        start -= length;
                    }
                    while (!cur.nextSibling) {
                        cur = cur.parentNode;
                        if (cur === root) {
                            start = root.childNodes.length;
                            break;
                        }
                    }
                }
                range.setStart(cur, start);
                var cur = root.firstChild;
                while (cur !== root) {
                    while (cur.firstChild)
                        cur = cur.firstChild;
                    if (cur.nodeValue) {
                        var length = cur.nodeValue.length;
                        if (length >= end)
                            break;
                        end -= length;
                    }
                    while (!cur.nextSibling) {
                        cur = cur.parentNode;
                        if (cur === root) {
                            end = root.childNodes.length;
                            break;
                        }
                    }
                }
                range.setEnd(cur, end);
                var sel = $.$mol_dom_context.document.getSelection();
                sel.removeAllRanges();
                sel.addRange(range);
                return diff[0];
            }
            else {
                var sel = $.$mol_dom_context.document.getSelection();
                if (sel.rangeCount === 0)
                    return null;
                var range = sel.getRangeAt(0);
                var el = range.commonAncestorContainer;
                while (el && !el.id)
                    el = el.parentElement;
                if (!el)
                    return { id: null, start: 0, end: 0 };
                var meter = new Range;
                meter.selectNodeContents(el);
                meter.setEnd(range.startContainer, range.startOffset);
                var startOffset = meter.toString().length;
                meter.setEnd(range.endContainer, range.endOffset);
                var endOffset = meter.toString().length;
                return { id: el.id, start: startOffset, end: endOffset };
            }
        };
        $mol_view_selection.onFocus = function (event) {
            var parents = [];
            var element = event.target;
            while (element) {
                parents.push(element);
                element = element.parentElement;
            }
            $mol_view_selection.focused(parents, $.$mol_atom_force);
        };
        $mol_view_selection.onBlur = function (event) {
            $mol_view_selection.focused([], $.$mol_atom_force);
        };
        return $mol_view_selection;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_view_selection, "focused", null);
    __decorate([
        $.$mol_mem()
    ], $mol_view_selection, "position", null);
    $.$mol_view_selection = $mol_view_selection;
})($ || ($ = {}));
//selection.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_state_session = (function (_super) {
        __extends($mol_state_session, _super);
        function $mol_state_session() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_state_session.value = function (key, next) {
            if (next === void 0)
                return (key in this._storage) ? this._storage[key] : null;
            if (next === null)
                delete this._storage[key];
            else
                this._storage[key] = next;
            return next;
        };
        $mol_state_session.prototype.prefix = function () { return ''; };
        $mol_state_session.prototype.value = function (key, next) {
            return $mol_state_session.value(this.prefix() + '.' + key, next);
        };
        return $mol_state_session;
    }($.$mol_object));
    $mol_state_session._storage = Object.create(null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_state_session, "value", null);
    $.$mol_state_session = $mol_state_session;
})($ || ($ = {}));
//session.node.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'null by default': function () {
            var key = String(Math.random());
            $.$mol_assert_equal($.$mol_state_session.value(key), null);
        },
        'storing': function () {
            var key = String(Math.random());
            $.$mol_state_session.value(key, '$mol_state_session_test');
            $.$mol_assert_equal($.$mol_state_session.value(key), '$mol_state_session_test');
            $.$mol_state_session.value(key, null);
            $.$mol_assert_equal($.$mol_state_session.value(key), null);
        },
    });
})($ || ($ = {}));
//session.test.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_scroll = (function (_super) {
        __extends($mol_scroll, _super);
        function $mol_scroll() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_scroll.prototype.minimal_height = function () {
            return 0;
        };
        $mol_scroll.prototype.scroll_top = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_scroll.prototype.scroll_left = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_scroll.prototype.scroll_bottom = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_scroll.prototype.scroll_right = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_scroll.prototype.field = function () {
            return (__assign({}, _super.prototype.field.call(this), { "scrollTop": this.scroll_top(), "scrollLeft": this.scroll_left(), "scrollBottom": this.scroll_bottom(), "scrollRight": this.scroll_right() }));
        };
        $mol_scroll.prototype.event_scroll = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_scroll.prototype.event_repos = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_scroll.prototype.event_async = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event_async.call(this), { "scroll": function (event) { return _this.event_scroll(event); }, "DOMSubtreeModified": function (event) { return _this.event_repos(event); } }));
        };
        return $mol_scroll;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_scroll.prototype, "scroll_top", null);
    __decorate([
        $.$mol_mem()
    ], $mol_scroll.prototype, "scroll_left", null);
    __decorate([
        $.$mol_mem()
    ], $mol_scroll.prototype, "scroll_bottom", null);
    __decorate([
        $.$mol_mem()
    ], $mol_scroll.prototype, "scroll_right", null);
    __decorate([
        $.$mol_mem()
    ], $mol_scroll.prototype, "event_scroll", null);
    __decorate([
        $.$mol_mem()
    ], $mol_scroll.prototype, "event_repos", null);
    $.$mol_scroll = $mol_scroll;
})($ || ($ = {}));
//scroll.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    $.$mol_view_context.$mol_scroll_scroll_top = function () { return 0; };
    $.$mol_view_context.$mol_scroll_scroll_left = function () { return 0; };
    $.$mol_view_context.$mol_scroll_moving = function () { return false; };
})($ || ($ = {}));
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_scroll = (function (_super) {
            __extends($mol_scroll, _super);
            function $mol_scroll() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this._moving_task_frame = 0;
                return _this;
            }
            $mol_scroll.prototype.scroll_top = function (next) {
                return $.$mol_state_session.value(this + ".scroll_top()", next) || 0;
            };
            $mol_scroll.prototype.scroll_left = function (next) {
                return $.$mol_state_session.value(this + ".scroll_left()", next) || 0;
            };
            $mol_scroll.prototype.scroll_bottom = function (next) {
                return next || 0;
            };
            $mol_scroll.prototype.scroll_right = function (next) {
                return next || 0;
            };
            $mol_scroll.prototype.event_scroll = function (next) {
                var _this = this;
                this.moving(true);
                this.moving_task_stop();
                new $.$mol_defer(function () {
                    var el = _this.dom_node();
                    var top = Math.max(0, el.scrollTop);
                    var left = Math.max(0, el.scrollLeft);
                    _this.scroll_top(top);
                    _this.scroll_left(left);
                    _this.scroll_bottom(Math.max(0, el.scrollHeight - top - el.offsetHeight));
                    _this.scroll_right(Math.max(0, el.scrollWidth - left - el.offsetWidth));
                });
            };
            $mol_scroll.prototype.event_repos = function (next) {
                var _this = this;
                new $.$mol_defer(function () {
                    var el = _this.dom_node();
                    _this.scroll_bottom(Math.max(0, el.scrollHeight - _this.scroll_top() - el.offsetHeight));
                    _this.scroll_right(Math.max(0, el.scrollWidth - _this.scroll_left() - el.offsetWidth));
                });
            };
            $mol_scroll.prototype.moving_task_stop = function () {
                var _this = this;
                cancelAnimationFrame(this._moving_task_frame);
                this._moving_task_frame = requestAnimationFrame(function () {
                    _this.moving(false);
                });
            };
            $mol_scroll.prototype.moving = function (next) {
                return next || false;
            };
            $mol_scroll.prototype.context_sub = function () {
                var _this = this;
                var context = this.context();
                var subContext = Object.create(context);
                subContext.$mol_view_visible_height = function () {
                    var sizeWin = $.$mol_window.size();
                    var limit = context.$mol_view_visible_height();
                    return _this.scroll_top() + Math.min(sizeWin.height, limit);
                };
                subContext.$mol_view_visible_width = function () {
                    var sizeWin = $.$mol_window.size();
                    var limit = context.$mol_view_visible_width();
                    return _this.scroll_left() + Math.min(sizeWin.width, limit);
                };
                subContext.$mol_scroll_scroll_top = function () { return _this.scroll_top(); };
                subContext.$mol_scroll_scroll_left = function () { return _this.scroll_left(); };
                subContext.$mol_scroll_moving = function () { return _this.moving(); };
                return subContext;
            };
            return $mol_scroll;
        }($.$mol_scroll));
        __decorate([
            $.$mol_mem()
        ], $mol_scroll.prototype, "scroll_bottom", null);
        __decorate([
            $.$mol_mem()
        ], $mol_scroll.prototype, "scroll_right", null);
        __decorate([
            $.$mol_mem()
        ], $mol_scroll.prototype, "moving", null);
        __decorate([
            $.$mol_mem()
        ], $mol_scroll.prototype, "context_sub", null);
        $mol.$mol_scroll = $mol_scroll;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//scroll.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_page = (function (_super) {
        __extends($mol_page, _super);
        function $mol_page() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_page.prototype.Title = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.title()); };
            });
        };
        $mol_page.prototype.tools = function () {
            return [];
        };
        $mol_page.prototype.head = function () {
            return [].concat(this.Title(), this.tools());
        };
        $mol_page.prototype.Head = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.head(); };
            });
        };
        $mol_page.prototype.body_scroll_top = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_page.prototype.body = function () {
            return [];
        };
        $mol_page.prototype.Body = function () {
            var _this = this;
            return new $.$mol_scroll().setup(function (obj) {
                obj.scroll_top = function (val) { return _this.body_scroll_top(val); };
                obj.sub = function () { return _this.body(); };
            });
        };
        $mol_page.prototype.foot = function () {
            return [];
        };
        $mol_page.prototype.Foot = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.foot(); };
            });
        };
        $mol_page.prototype.sub = function () {
            return [].concat(this.Head(), this.Body(), this.Foot());
        };
        return $mol_page;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_page.prototype, "Title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_page.prototype, "Head", null);
    __decorate([
        $.$mol_mem()
    ], $mol_page.prototype, "body_scroll_top", null);
    __decorate([
        $.$mol_mem()
    ], $mol_page.prototype, "Body", null);
    __decorate([
        $.$mol_mem()
    ], $mol_page.prototype, "Foot", null);
    $.$mol_page = $mol_page;
})($ || ($ = {}));
//page.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_page = (function (_super) {
            __extends($mol_page, _super);
            function $mol_page() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_page.prototype.body_scroll_top = function (next) {
                return $.$mol_state_session.value(this + ".body_scroll_top()", next) || 0;
            };
            return $mol_page;
        }($.$mol_page));
        $mol.$mol_page = $mol_page;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//page.view.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'local get set delete': function () {
            var key = '$mol_state_local_test:' + Math.random();
            $.$mol_assert_equal($.$mol_state_local.value(key), null);
            $.$mol_state_local.value(key, 123);
            $.$mol_assert_equal($.$mol_state_local.value(key), 123);
            $.$mol_state_local.value(key, null);
            $.$mol_assert_equal($.$mol_state_local.value(key), null);
        },
    });
})($ || ($ = {}));
//local.test.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var localStorage = localStorage || {
    getItem: function (key) {
        return this[':' + key];
    },
    setItem: function (key, value) {
        this[':' + key] = value;
    },
    removeItem: function (key) {
        this[':' + key] = void 0;
    }
};
var $;
(function ($) {
    var $mol_state_local = (function (_super) {
        __extends($mol_state_local, _super);
        function $mol_state_local() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_state_local.value = function (key, next, force) {
            if (next === void 0)
                return JSON.parse(localStorage.getItem(key) || 'null');
            if (next === null)
                localStorage.removeItem(key);
            else
                localStorage.setItem(key, JSON.stringify(next));
            return next;
        };
        $mol_state_local.prototype.prefix = function () { return ''; };
        $mol_state_local.prototype.value = function (key, next) {
            return $mol_state_local.value(this.prefix() + '.' + key, next);
        };
        return $mol_state_local;
    }($.$mol_object));
    __decorate([
        $.$mol_mem_key()
    ], $mol_state_local, "value", null);
    $.$mol_state_local = $mol_state_local;
})($ || ($ = {}));
//local.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_file = (function (_super) {
        __extends($mol_file, _super);
        function $mol_file() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_file.absolute = function (path) {
            return new $mol_file().setup(function (obj) {
                obj.path = function () { return path; };
            });
        };
        $mol_file.relative = function (path) {
            return $mol_file.absolute($node.path.resolve(path).replace(/\\/g, '/'));
        };
        $mol_file.prototype.path = function () {
            return '.';
        };
        $mol_file.prototype.watcher = function () {
            var _this = this;
            var watcher = $node.fs.watch(this.path(), { persistent: false }, function (type, name) {
                if (!name)
                    _this.stat(void null, $.$mol_atom_force);
                else if (!/(^\.|___$)/.test(name)) {
                    var file = _this.resolve(name);
                    file.stat(void null, $.$mol_atom_force);
                }
            });
            watcher.on('error', function (error) {
                _this.stat(error, $.$mol_atom_force);
            });
            return watcher;
        };
        $mol_file.prototype.stat = function (next, force) {
            var path = this.path();
            try {
                var stat = next || $node.fs.statSync(path);
            }
            catch (error) {
                if (error.code === 'ENOENT')
                    return null;
                return error;
            }
            this.parent().watcher();
            return stat;
        };
        $mol_file.prototype.version = function () {
            return this.stat().mtime.getTime().toString(36).toUpperCase();
        };
        $mol_file.prototype.exists = function (next) {
            var exists = !!this.stat();
            if (next === void 0) {
                return exists;
            }
            else {
                if (next == exists)
                    return exists;
                if (next) {
                    this.parent().exists(true);
                    $node.fs.mkdirSync(this.path());
                }
                else {
                    $node.fs.unlinkSync(this.path());
                }
                this.stat(void null, $.$mol_atom_force);
                return next;
            }
        };
        $mol_file.prototype.parent = function () {
            return this.resolve('..');
        };
        $mol_file.prototype.type = function () {
            var stat = this.stat();
            if (stat) {
                if (stat.isFile())
                    return 'file';
                if (stat.isDirectory())
                    return 'dir';
                if (stat.isBlockDevice())
                    return 'blocks';
                if (stat.isCharacterDevice())
                    return 'chars';
                if (stat.isSymbolicLink())
                    return 'link';
                if (stat.isFIFO())
                    return 'fifo';
                if (stat.isSocket())
                    return 'socket';
            }
            else {
                return null;
            }
            throw new Error("Unknown file type " + this.path());
        };
        $mol_file.prototype.name = function () {
            return $node.path.basename(this.path());
        };
        $mol_file.prototype.ext = function () {
            var match = /((?:\.\w+)+)$/.exec(this.path());
            return match && match[1].substring(1);
        };
        $mol_file.prototype.content = function (next, force) {
            if (next === void 0) {
                return this.stat() && $node.fs.readFileSync(this.path());
            }
            this.parent().exists(true);
            $node.fs.writeFileSync(this.path(), next);
            return next;
        };
        $mol_file.prototype.reader = function () {
            return $node.fs.createReadStream(this.path());
        };
        $mol_file.prototype.writer = function () {
            return $node.fs.createWriteStream(this.path());
        };
        $mol_file.prototype.sub = function () {
            var _this = this;
            this.stat();
            switch (this.type()) {
                case 'dir':
                    return $node.fs.readdirSync(this.path())
                        .filter(function (name) { return !/^\.+$/.test(name); })
                        .map(function (name) { return _this.resolve(name); });
            }
            return [];
        };
        $mol_file.prototype.resolve = function (path) {
            return this.Class().relative($node.path.join(this.path(), path));
        };
        $mol_file.prototype.relate = function (base) {
            if (base === void 0) { base = this.Class().relative('.'); }
            return $node.path.relative(base.path(), this.path()).replace(/\\/g, '/');
        };
        $mol_file.prototype.append = function (next) {
            $node.fs.appendFileSync(this.path(), next);
        };
        $mol_file.prototype.find = function (include, exclude) {
            var found = [];
            this.sub().forEach(function (child) {
                if (exclude && child.path().match(exclude))
                    return;
                if (!include || child.path().match(include))
                    found.push(child);
                if (child.type() === 'dir')
                    found = found.concat(child.find(include, exclude));
            });
            return found;
        };
        return $mol_file;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_file.prototype, "watcher", null);
    __decorate([
        $.$mol_mem()
    ], $mol_file.prototype, "stat", null);
    __decorate([
        $.$mol_mem()
    ], $mol_file.prototype, "version", null);
    __decorate([
        $.$mol_mem()
    ], $mol_file.prototype, "content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_file.prototype, "sub", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_file, "absolute", null);
    $.$mol_file = $mol_file;
})($ || ($ = {}));
//file.node.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_locale = (function (_super) {
        __extends($mol_locale, _super);
        function $mol_locale() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_locale.lang_default = function () {
            return 'en';
        };
        $mol_locale.lang = function (next) {
            return $.$mol_state_local.value('locale', next) || $.$mol_dom_context.navigator.language.replace(/-.*/, '') || this.lang_default();
        };
        $mol_locale.source = function (lang) {
            return JSON.parse($.$mol_file.relative("-/web.locale=" + lang + ".json").content());
        };
        $mol_locale.texts = function (next) {
            if (next)
                return next;
            var lang = this.lang();
            try {
                return this.source(lang).valueOf();
            }
            catch (error) {
                var def = this.lang_default();
                if (lang === def)
                    throw error;
                return this.source(def);
            }
        };
        $mol_locale.text = function (contexts, key) {
            var texts = this.texts();
            for (var i = 0; i < contexts.length; ++i) {
                var text = texts[contexts[i] + "_" + key];
                if (text)
                    return text;
            }
            console.warn('Locale tet not found: ', contexts, key);
            return "<" + key + ">";
        };
        return $mol_locale;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_locale, "lang_default", null);
    __decorate([
        $.$mol_mem()
    ], $mol_locale, "lang", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_locale, "source", null);
    __decorate([
        $.$mol_mem()
    ], $mol_locale, "texts", null);
    $.$mol_locale = $mol_locale;
})($ || ($ = {}));
//locale.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var $;
(function ($) {
    var $mol_list = (function (_super) {
        __extends($mol_list, _super);
        function $mol_list() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_list.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "minHeight": this.minimal_height() }));
        };
        $mol_list.prototype.rows = function () {
            return [];
        };
        $mol_list.prototype.sub = function () {
            return this.rows();
        };
        $mol_list.prototype.Empty = function () {
            return null;
        };
        return $mol_list;
    }($.$mol_view));
    $.$mol_list = $mol_list;
})($ || ($ = {}));
//list.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_list = (function (_super) {
            __extends($mol_list, _super);
            function $mol_list() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_list.prototype.sub = function () {
                var rows = this.rows();
                return (rows.length === 0) ? [this.Empty()] : rows;
            };
            $mol_list.prototype.row_offsets = function () {
                var sub = this.sub();
                if (!sub)
                    return null;
                var heightLimit = this.context().$mol_view_visible_height();
                var offset = 0;
                var next = [];
                for (var _i = 0, sub_1 = sub; _i < sub_1.length; _i++) {
                    var child = sub_1[_i];
                    next.push(offset);
                    if (child instanceof $.$mol_view) {
                        offset += child.minimal_height();
                    }
                    if (offset > heightLimit)
                        break;
                }
                return next;
            };
            $mol_list.prototype.row_context = function (index) {
                var _this = this;
                var context = this.context();
                var next = Object.create(context);
                next.$mol_view_visible_height = function () {
                    var limit = context.$mol_view_visible_height();
                    return limit - _this.row_offsets()[index];
                };
                return next;
            };
            $mol_list.prototype.sub_visible = function () {
                var sub = this.sub();
                if (!sub)
                    return sub;
                var limit = this.row_offsets().length;
                var next = [];
                for (var i = 0; i < limit; ++i) {
                    var child = sub[i];
                    if (child == null)
                        continue;
                    if (child instanceof $.$mol_view) {
                        child.context(this.row_context(i));
                    }
                    next.push(child);
                }
                return next;
            };
            $mol_list.prototype.minimal_height = function () {
                var height = 0;
                var sub = this.sub();
                if (sub)
                    sub.forEach(function (child) {
                        if (child instanceof $.$mol_view) {
                            height += child.minimal_height();
                        }
                    });
                return height;
            };
            return $mol_list;
        }($.$mol_list));
        __decorate([
            $.$mol_mem()
        ], $mol_list.prototype, "row_offsets", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_list.prototype, "row_context", null);
        __decorate([
            $.$mol_mem()
        ], $mol_list.prototype, "sub_visible", null);
        $mol.$mol_list = $mol_list;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//list.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var $;
(function ($) {
    var $mol_float = (function (_super) {
        __extends($mol_float, _super);
        function $mol_float() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_float.prototype.shiftStyle = function () {
            return "";
        };
        $mol_float.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "transform": this.shiftStyle() }));
        };
        $mol_float.prototype.scrolling = function () {
            return false;
        };
        $mol_float.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_float_scrolling": this.scrolling() }));
        };
        return $mol_float;
    }($.$mol_view));
    $.$mol_float = $mol_float;
})($ || ($ = {}));
//float.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_float = (function (_super) {
            __extends($mol_float, _super);
            function $mol_float() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_float.prototype.shiftStyle = function () {
                var context = this.context();
                var offset = context.$mol_scroll_scroll_top();
                return "translateY(" + offset + "px)";
            };
            $mol_float.prototype.scrolling = function () {
                return this.context().$mol_scroll_moving();
            };
            return $mol_float;
        }($.$mol_float));
        $mol.$mol_float = $mol_float;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//float.view.js.map
;
var $;
(function ($) {
    var $mol_keyboard_code;
    (function ($mol_keyboard_code) {
        $mol_keyboard_code[$mol_keyboard_code["backspace"] = 8] = "backspace";
        $mol_keyboard_code[$mol_keyboard_code["tab"] = 9] = "tab";
        $mol_keyboard_code[$mol_keyboard_code["enter"] = 13] = "enter";
        $mol_keyboard_code[$mol_keyboard_code["shift"] = 16] = "shift";
        $mol_keyboard_code[$mol_keyboard_code["ctrl"] = 17] = "ctrl";
        $mol_keyboard_code[$mol_keyboard_code["alt"] = 18] = "alt";
        $mol_keyboard_code[$mol_keyboard_code["pause"] = 19] = "pause";
        $mol_keyboard_code[$mol_keyboard_code["capsLock"] = 20] = "capsLock";
        $mol_keyboard_code[$mol_keyboard_code["escape"] = 27] = "escape";
        $mol_keyboard_code[$mol_keyboard_code["space"] = 32] = "space";
        $mol_keyboard_code[$mol_keyboard_code["pageUp"] = 33] = "pageUp";
        $mol_keyboard_code[$mol_keyboard_code["pageDown"] = 34] = "pageDown";
        $mol_keyboard_code[$mol_keyboard_code["end"] = 35] = "end";
        $mol_keyboard_code[$mol_keyboard_code["home"] = 36] = "home";
        $mol_keyboard_code[$mol_keyboard_code["left"] = 37] = "left";
        $mol_keyboard_code[$mol_keyboard_code["up"] = 38] = "up";
        $mol_keyboard_code[$mol_keyboard_code["right"] = 39] = "right";
        $mol_keyboard_code[$mol_keyboard_code["down"] = 40] = "down";
        $mol_keyboard_code[$mol_keyboard_code["insert"] = 45] = "insert";
        $mol_keyboard_code[$mol_keyboard_code["delete"] = 46] = "delete";
        $mol_keyboard_code[$mol_keyboard_code["key0"] = 48] = "key0";
        $mol_keyboard_code[$mol_keyboard_code["key1"] = 49] = "key1";
        $mol_keyboard_code[$mol_keyboard_code["key2"] = 50] = "key2";
        $mol_keyboard_code[$mol_keyboard_code["key3"] = 51] = "key3";
        $mol_keyboard_code[$mol_keyboard_code["key4"] = 52] = "key4";
        $mol_keyboard_code[$mol_keyboard_code["key5"] = 53] = "key5";
        $mol_keyboard_code[$mol_keyboard_code["key6"] = 54] = "key6";
        $mol_keyboard_code[$mol_keyboard_code["key7"] = 55] = "key7";
        $mol_keyboard_code[$mol_keyboard_code["key8"] = 56] = "key8";
        $mol_keyboard_code[$mol_keyboard_code["key9"] = 57] = "key9";
        $mol_keyboard_code[$mol_keyboard_code["A"] = 65] = "A";
        $mol_keyboard_code[$mol_keyboard_code["B"] = 66] = "B";
        $mol_keyboard_code[$mol_keyboard_code["C"] = 67] = "C";
        $mol_keyboard_code[$mol_keyboard_code["D"] = 68] = "D";
        $mol_keyboard_code[$mol_keyboard_code["E"] = 69] = "E";
        $mol_keyboard_code[$mol_keyboard_code["F"] = 70] = "F";
        $mol_keyboard_code[$mol_keyboard_code["G"] = 71] = "G";
        $mol_keyboard_code[$mol_keyboard_code["H"] = 72] = "H";
        $mol_keyboard_code[$mol_keyboard_code["I"] = 73] = "I";
        $mol_keyboard_code[$mol_keyboard_code["J"] = 74] = "J";
        $mol_keyboard_code[$mol_keyboard_code["K"] = 75] = "K";
        $mol_keyboard_code[$mol_keyboard_code["L"] = 76] = "L";
        $mol_keyboard_code[$mol_keyboard_code["M"] = 77] = "M";
        $mol_keyboard_code[$mol_keyboard_code["N"] = 78] = "N";
        $mol_keyboard_code[$mol_keyboard_code["O"] = 79] = "O";
        $mol_keyboard_code[$mol_keyboard_code["P"] = 80] = "P";
        $mol_keyboard_code[$mol_keyboard_code["Q"] = 81] = "Q";
        $mol_keyboard_code[$mol_keyboard_code["R"] = 82] = "R";
        $mol_keyboard_code[$mol_keyboard_code["S"] = 83] = "S";
        $mol_keyboard_code[$mol_keyboard_code["T"] = 84] = "T";
        $mol_keyboard_code[$mol_keyboard_code["U"] = 85] = "U";
        $mol_keyboard_code[$mol_keyboard_code["V"] = 86] = "V";
        $mol_keyboard_code[$mol_keyboard_code["W"] = 87] = "W";
        $mol_keyboard_code[$mol_keyboard_code["X"] = 88] = "X";
        $mol_keyboard_code[$mol_keyboard_code["Y"] = 89] = "Y";
        $mol_keyboard_code[$mol_keyboard_code["Z"] = 90] = "Z";
        $mol_keyboard_code[$mol_keyboard_code["metaLeft"] = 91] = "metaLeft";
        $mol_keyboard_code[$mol_keyboard_code["metaRight"] = 92] = "metaRight";
        $mol_keyboard_code[$mol_keyboard_code["select"] = 93] = "select";
        $mol_keyboard_code[$mol_keyboard_code["numpad0"] = 96] = "numpad0";
        $mol_keyboard_code[$mol_keyboard_code["numpad1"] = 97] = "numpad1";
        $mol_keyboard_code[$mol_keyboard_code["numpad2"] = 98] = "numpad2";
        $mol_keyboard_code[$mol_keyboard_code["numpad3"] = 99] = "numpad3";
        $mol_keyboard_code[$mol_keyboard_code["numpad4"] = 100] = "numpad4";
        $mol_keyboard_code[$mol_keyboard_code["numpad5"] = 101] = "numpad5";
        $mol_keyboard_code[$mol_keyboard_code["numpad6"] = 102] = "numpad6";
        $mol_keyboard_code[$mol_keyboard_code["numpad7"] = 103] = "numpad7";
        $mol_keyboard_code[$mol_keyboard_code["numpad8"] = 104] = "numpad8";
        $mol_keyboard_code[$mol_keyboard_code["numpad9"] = 105] = "numpad9";
        $mol_keyboard_code[$mol_keyboard_code["multiply"] = 106] = "multiply";
        $mol_keyboard_code[$mol_keyboard_code["add"] = 107] = "add";
        $mol_keyboard_code[$mol_keyboard_code["subtract"] = 109] = "subtract";
        $mol_keyboard_code[$mol_keyboard_code["decimal"] = 110] = "decimal";
        $mol_keyboard_code[$mol_keyboard_code["divide"] = 111] = "divide";
        $mol_keyboard_code[$mol_keyboard_code["F1"] = 112] = "F1";
        $mol_keyboard_code[$mol_keyboard_code["F2"] = 113] = "F2";
        $mol_keyboard_code[$mol_keyboard_code["F3"] = 114] = "F3";
        $mol_keyboard_code[$mol_keyboard_code["F4"] = 115] = "F4";
        $mol_keyboard_code[$mol_keyboard_code["F5"] = 116] = "F5";
        $mol_keyboard_code[$mol_keyboard_code["F6"] = 117] = "F6";
        $mol_keyboard_code[$mol_keyboard_code["F7"] = 118] = "F7";
        $mol_keyboard_code[$mol_keyboard_code["F8"] = 119] = "F8";
        $mol_keyboard_code[$mol_keyboard_code["F9"] = 120] = "F9";
        $mol_keyboard_code[$mol_keyboard_code["F10"] = 121] = "F10";
        $mol_keyboard_code[$mol_keyboard_code["F11"] = 122] = "F11";
        $mol_keyboard_code[$mol_keyboard_code["F12"] = 123] = "F12";
        $mol_keyboard_code[$mol_keyboard_code["numLock"] = 144] = "numLock";
        $mol_keyboard_code[$mol_keyboard_code["scrollLock"] = 145] = "scrollLock";
        $mol_keyboard_code[$mol_keyboard_code["semicolon"] = 186] = "semicolon";
        $mol_keyboard_code[$mol_keyboard_code["equals"] = 187] = "equals";
        $mol_keyboard_code[$mol_keyboard_code["comma"] = 188] = "comma";
        $mol_keyboard_code[$mol_keyboard_code["dash"] = 189] = "dash";
        $mol_keyboard_code[$mol_keyboard_code["period"] = 190] = "period";
        $mol_keyboard_code[$mol_keyboard_code["forwardSlash"] = 191] = "forwardSlash";
        $mol_keyboard_code[$mol_keyboard_code["graveAccent"] = 192] = "graveAccent";
        $mol_keyboard_code[$mol_keyboard_code["bracketOpen"] = 219] = "bracketOpen";
        $mol_keyboard_code[$mol_keyboard_code["slashBack"] = 220] = "slashBack";
        $mol_keyboard_code[$mol_keyboard_code["bracketClose"] = 221] = "bracketClose";
        $mol_keyboard_code[$mol_keyboard_code["quoteSingle"] = 222] = "quoteSingle";
    })($mol_keyboard_code = $.$mol_keyboard_code || ($.$mol_keyboard_code = {}));
})($ || ($ = {}));
//code.js.map
;
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        $.$mol_test({
            'handle clicks by default': function () {
                var clicked = false;
                var clicker = new $mol.$mol_button;
                clicker.event_click = function (event) { clicked = true; };
                var element = clicker.render();
                var event = $.$mol_dom_context.document.createEvent('mouseevent');
                event.initEvent('click', true, true);
                element.dispatchEvent(event);
                $.$mol_assert_ok(clicked);
            },
            'no handle clicks if disabled': function () {
                var clicked = false;
                var clicker = new $mol.$mol_button;
                clicker.event_click = function (event) { clicked = true; };
                clicker.enabled = function () { return false; };
                var element = clicker.render();
                var event = $.$mol_dom_context.document.createEvent('mouseevent');
                event.initEvent('click', true, true);
                element.dispatchEvent(event);
                $.$mol_assert_not(clicked);
            },
        });
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//button.test.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_button = (function (_super) {
        __extends($mol_button, _super);
        function $mol_button() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_button.prototype.enabled = function () {
            return true;
        };
        $mol_button.prototype.event_click = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_button.prototype.event_activate = function (event) {
            return this.event_click(event);
        };
        $mol_button.prototype.evenet_key_press = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_button.prototype.event = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event.call(this), { "click": function (event) { return _this.event_activate(event); }, "keypress": function (event) { return _this.evenet_key_press(event); } }));
        };
        $mol_button.prototype.disabled = function () {
            return false;
        };
        $mol_button.prototype.tab_index = function () {
            return "0";
        };
        $mol_button.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "disabled": this.disabled(), "role": "button", "tabindex": this.tab_index() }));
        };
        $mol_button.prototype.sub = function () {
            return [].concat(this.title());
        };
        return $mol_button;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_button.prototype, "event_click", null);
    __decorate([
        $.$mol_mem()
    ], $mol_button.prototype, "event_activate", null);
    __decorate([
        $.$mol_mem()
    ], $mol_button.prototype, "evenet_key_press", null);
    $.$mol_button = $mol_button;
})($ || ($ = {}));
//button.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_button = (function (_super) {
            __extends($mol_button, _super);
            function $mol_button() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_button.prototype.disabled = function () {
                return !this.enabled();
            };
            $mol_button.prototype.event_activate = function (next) {
                if (!this.enabled())
                    return;
                this.event_click(next);
            };
            $mol_button.prototype.evenet_key_press = function (event) {
                if (event.keyCode === $.$mol_keyboard_code.enter)
                    return this.event_activate(event);
            };
            $mol_button.prototype.tab_index = function () {
                return this.enabled() ? _super.prototype.tab_index.call(this) : null;
            };
            return $mol_button;
        }($.$mol_button));
        $mol.$mol_button = $mol_button;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//button.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_button_major = (function (_super) {
        __extends($mol_button_major, _super);
        function $mol_button_major() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_button_major;
    }($.$mol_button));
    $.$mol_button_major = $mol_button_major;
})($ || ($ = {}));
(function ($) {
    var $mol_button_minor = (function (_super) {
        __extends($mol_button_minor, _super);
        function $mol_button_minor() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_button_minor;
    }($.$mol_button));
    $.$mol_button_minor = $mol_button_minor;
})($ || ($ = {}));
(function ($) {
    var $mol_button_danger = (function (_super) {
        __extends($mol_button_danger, _super);
        function $mol_button_danger() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_button_danger;
    }($.$mol_button));
    $.$mol_button_danger = $mol_button_danger;
})($ || ($ = {}));
//button_types.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_check = (function (_super) {
        __extends($mol_check, _super);
        function $mol_check() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_check.prototype.checked = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_check.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_check_checked": this.checked(), "aria-checked": this.checked(), "role": "checkbox" }));
        };
        $mol_check.prototype.Icon = function () {
            return null;
        };
        $mol_check.prototype.label = function () {
            return [];
        };
        $mol_check.prototype.Label = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.label()); };
            });
        };
        $mol_check.prototype.sub = function () {
            return [].concat(this.Icon(), this.Label());
        };
        return $mol_check;
    }($.$mol_button));
    __decorate([
        $.$mol_mem()
    ], $mol_check.prototype, "checked", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check.prototype, "Label", null);
    $.$mol_check = $mol_check;
})($ || ($ = {}));
//check.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_check = (function (_super) {
            __extends($mol_check, _super);
            function $mol_check() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_check.prototype.event_click = function (next) {
                this.checked(!this.checked());
                next.preventDefault();
            };
            return $mol_check;
        }($.$mol_check));
        $mol.$mol_check = $mol_check;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//check.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var $;
(function ($) {
    var $mol_svg = (function (_super) {
        __extends($mol_svg, _super);
        function $mol_svg() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_svg.prototype.dom_name = function () {
            return "svg";
        };
        $mol_svg.prototype.dom_name_space = function () {
            return "http://www.w3.org/2000/svg";
        };
        return $mol_svg;
    }($.$mol_view));
    $.$mol_svg = $mol_svg;
})($ || ($ = {}));
(function ($) {
    var $mol_svg_root = (function (_super) {
        __extends($mol_svg_root, _super);
        function $mol_svg_root() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_svg_root.prototype.dom_name = function () {
            return "svg";
        };
        $mol_svg_root.prototype.view_box = function () {
            return "0 0 100 100";
        };
        $mol_svg_root.prototype.aspect = function () {
            return "";
        };
        $mol_svg_root.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "viewBox": this.view_box(), "preserveAspectRatio": this.aspect() }));
        };
        return $mol_svg_root;
    }($.$mol_svg));
    $.$mol_svg_root = $mol_svg_root;
})($ || ($ = {}));
(function ($) {
    var $mol_svg_group = (function (_super) {
        __extends($mol_svg_group, _super);
        function $mol_svg_group() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_svg_group.prototype.dom_name = function () {
            return "g";
        };
        return $mol_svg_group;
    }($.$mol_svg));
    $.$mol_svg_group = $mol_svg_group;
})($ || ($ = {}));
(function ($) {
    var $mol_svg_line = (function (_super) {
        __extends($mol_svg_line, _super);
        function $mol_svg_line() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_svg_line.prototype.dom_name = function () {
            return "line";
        };
        $mol_svg_line.prototype.from = function () {
            return [];
        };
        $mol_svg_line.prototype.to = function () {
            return [];
        };
        $mol_svg_line.prototype.pos = function () {
            return [].concat(this.from(), this.to());
        };
        $mol_svg_line.prototype.from_x = function () {
            return "";
        };
        $mol_svg_line.prototype.from_y = function () {
            return "";
        };
        $mol_svg_line.prototype.to_x = function () {
            return "";
        };
        $mol_svg_line.prototype.to_y = function () {
            return "";
        };
        $mol_svg_line.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "x1": this.from_x(), "y1": this.from_y(), "x2": this.to_x(), "y2": this.to_y() }));
        };
        return $mol_svg_line;
    }($.$mol_svg));
    $.$mol_svg_line = $mol_svg_line;
})($ || ($ = {}));
(function ($) {
    var $mol_svg_path = (function (_super) {
        __extends($mol_svg_path, _super);
        function $mol_svg_path() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_svg_path.prototype.dom_name = function () {
            return "path";
        };
        $mol_svg_path.prototype.geometry = function () {
            return "";
        };
        $mol_svg_path.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "d": this.geometry() }));
        };
        return $mol_svg_path;
    }($.$mol_svg));
    $.$mol_svg_path = $mol_svg_path;
})($ || ($ = {}));
(function ($) {
    var $mol_svg_circle = (function (_super) {
        __extends($mol_svg_circle, _super);
        function $mol_svg_circle() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_svg_circle.prototype.dom_name = function () {
            return "circle";
        };
        $mol_svg_circle.prototype.pos = function () {
            return [];
        };
        $mol_svg_circle.prototype.radius = function () {
            return ".5%";
        };
        $mol_svg_circle.prototype.pos_x = function () {
            return "";
        };
        $mol_svg_circle.prototype.pos_y = function () {
            return "";
        };
        $mol_svg_circle.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "r": this.radius(), "cx": this.pos_x(), "cy": this.pos_y() }));
        };
        return $mol_svg_circle;
    }($.$mol_svg));
    $.$mol_svg_circle = $mol_svg_circle;
})($ || ($ = {}));
(function ($) {
    var $mol_svg_text = (function (_super) {
        __extends($mol_svg_text, _super);
        function $mol_svg_text() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_svg_text.prototype.dom_name = function () {
            return "text";
        };
        $mol_svg_text.prototype.pos = function () {
            return [];
        };
        $mol_svg_text.prototype.pos_x = function () {
            return "";
        };
        $mol_svg_text.prototype.pos_y = function () {
            return "";
        };
        $mol_svg_text.prototype.align = function () {
            return "middle";
        };
        $mol_svg_text.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "x": this.pos_x(), "y": this.pos_y(), "text-anchor": this.align() }));
        };
        $mol_svg_text.prototype.text = function () {
            return "";
        };
        $mol_svg_text.prototype.sub = function () {
            return [].concat(this.text());
        };
        return $mol_svg_text;
    }($.$mol_svg));
    $.$mol_svg_text = $mol_svg_text;
})($ || ($ = {}));
//svg.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_svg_line = (function (_super) {
            __extends($mol_svg_line, _super);
            function $mol_svg_line() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_svg_line.prototype.from = function () {
                return this.pos()[0];
            };
            $mol_svg_line.prototype.from_x = function () {
                return this.from()[0];
            };
            $mol_svg_line.prototype.from_y = function () {
                return this.from()[1];
            };
            $mol_svg_line.prototype.to = function () {
                return this.pos()[1];
            };
            $mol_svg_line.prototype.to_x = function () {
                return this.to()[0];
            };
            $mol_svg_line.prototype.to_y = function () {
                return this.to()[1];
            };
            return $mol_svg_line;
        }($.$mol_svg_line));
        $mol.$mol_svg_line = $mol_svg_line;
        var $mol_svg_circle = (function (_super) {
            __extends($mol_svg_circle, _super);
            function $mol_svg_circle() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_svg_circle.prototype.pos_x = function () {
                return this.pos()[0];
            };
            $mol_svg_circle.prototype.pos_y = function () {
                return this.pos()[1];
            };
            return $mol_svg_circle;
        }($.$mol_svg_circle));
        $mol.$mol_svg_circle = $mol_svg_circle;
        var $mol_svg_text = (function (_super) {
            __extends($mol_svg_text, _super);
            function $mol_svg_text() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_svg_text.prototype.pos_x = function () {
                return this.pos()[0];
            };
            $mol_svg_text.prototype.pos_y = function () {
                return this.pos()[1];
            };
            return $mol_svg_text;
        }($.$mol_svg_text));
        $mol.$mol_svg_text = $mol_svg_text;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//svg.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_icon = (function (_super) {
        __extends($mol_icon, _super);
        function $mol_icon() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon.prototype.view_box = function () {
            return "0 0 24 24";
        };
        $mol_icon.prototype.path = function () {
            return "";
        };
        $mol_icon.prototype.Path = function () {
            var _this = this;
            return new $.$mol_svg_path().setup(function (obj) {
                obj.geometry = function () { return _this.path(); };
            });
        };
        $mol_icon.prototype.sub = function () {
            return [].concat(this.Path());
        };
        return $mol_icon;
    }($.$mol_svg_root));
    __decorate([
        $.$mol_mem()
    ], $mol_icon.prototype, "Path", null);
    $.$mol_icon = $mol_icon;
})($ || ($ = {}));
//icon.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_tick = (function (_super) {
        __extends($mol_icon_tick, _super);
        function $mol_icon_tick() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_tick.prototype.path = function () {
            return "M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z";
        };
        return $mol_icon_tick;
    }($.$mol_icon));
    $.$mol_icon_tick = $mol_icon_tick;
})($ || ($ = {}));
//tick.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_check_box = (function (_super) {
        __extends($mol_check_box, _super);
        function $mol_check_box() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_check_box.prototype.Icon = function () {
            return new $.$mol_icon_tick();
        };
        return $mol_check_box;
    }($.$mol_check));
    __decorate([
        $.$mol_mem()
    ], $mol_check_box.prototype, "Icon", null);
    $.$mol_check_box = $mol_check_box;
})($ || ($ = {}));
//box.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_chevron = (function (_super) {
        __extends($mol_icon_chevron, _super);
        function $mol_icon_chevron() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_chevron.prototype.path = function () {
            return "M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z";
        };
        return $mol_icon_chevron;
    }($.$mol_icon));
    $.$mol_icon_chevron = $mol_icon_chevron;
})($ || ($ = {}));
//chevron.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_check_expand = (function (_super) {
        __extends($mol_check_expand, _super);
        function $mol_check_expand() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_check_expand.prototype.Icon = function () {
            return new $.$mol_icon_chevron();
        };
        $mol_check_expand.prototype.sub = function () {
            return [].concat(this.Icon(), this.Label());
        };
        $mol_check_expand.prototype.level = function () {
            return 0;
        };
        $mol_check_expand.prototype.level_style = function () {
            return "0px";
        };
        $mol_check_expand.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "paddingLeft": this.level_style() }));
        };
        $mol_check_expand.prototype.expanded = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_check_expand.prototype.checked = function (val) {
            return this.expanded(val);
        };
        $mol_check_expand.prototype.expandable = function () {
            return false;
        };
        $mol_check_expand.prototype.enabled = function () {
            return this.expandable();
        };
        return $mol_check_expand;
    }($.$mol_check));
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand.prototype, "Icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand.prototype, "expanded", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand.prototype, "checked", null);
    $.$mol_check_expand = $mol_check_expand;
})($ || ($ = {}));
//expand.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_check_expand = (function (_super) {
            __extends($mol_check_expand, _super);
            function $mol_check_expand() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_check_expand.prototype.level_style = function () {
                return this.level() * .75 - .75 + "rem";
            };
            $mol_check_expand.prototype.expandable = function () {
                return this.expanded() !== null;
            };
            return $mol_check_expand;
        }($.$mol_check_expand));
        $mol.$mol_check_expand = $mol_check_expand;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//expand.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_dimmer = (function (_super) {
        __extends($mol_dimmer, _super);
        function $mol_dimmer() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_dimmer.prototype.haystack = function () {
            return "";
        };
        $mol_dimmer.prototype.needle = function () {
            return "";
        };
        $mol_dimmer.prototype.parts = function () {
            return [];
        };
        $mol_dimmer.prototype.sub = function () {
            return this.parts();
        };
        $mol_dimmer.prototype.string = function (id) {
            return "";
        };
        $mol_dimmer.prototype.low = function (id) {
            var _this = this;
            return new $.$mol_dimmer_low().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.string(id)); };
            });
        };
        return $mol_dimmer;
    }($.$mol_view));
    __decorate([
        $.$mol_mem_key()
    ], $mol_dimmer.prototype, "low", null);
    $.$mol_dimmer = $mol_dimmer;
})($ || ($ = {}));
(function ($) {
    var $mol_dimmer_low = (function (_super) {
        __extends($mol_dimmer_low, _super);
        function $mol_dimmer_low() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_dimmer_low.prototype.dom_name = function () {
            return "span";
        };
        return $mol_dimmer_low;
    }($.$mol_view));
    $.$mol_dimmer_low = $mol_dimmer_low;
})($ || ($ = {}));
//dimmer.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_dimmer = (function (_super) {
            __extends($mol_dimmer, _super);
            function $mol_dimmer() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_dimmer.prototype.parts = function () {
                var needle = this.needle();
                if (!needle)
                    return [this.haystack()];
                var chunks = [];
                var strings = this.strings();
                for (var index = 0; index < strings.length; index++) {
                    if (index > 0)
                        chunks.push(this.needle());
                    if (strings[index] !== '')
                        chunks.push(this.low(index));
                }
                return chunks;
            };
            $mol_dimmer.prototype.strings = function () {
                return this.haystack().split(this.needle());
            };
            $mol_dimmer.prototype.string = function (index) {
                return this.strings()[index];
            };
            return $mol_dimmer;
        }($.$mol_dimmer));
        __decorate([
            $.$mol_mem()
        ], $mol_dimmer.prototype, "strings", null);
        $mol.$mol_dimmer = $mol_dimmer;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//dimmer.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_grid = (function (_super) {
        __extends($mol_grid, _super);
        function $mol_grid() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_grid.prototype.row_ids = function () {
            return [];
        };
        $mol_grid.prototype.row_id = function (index) {
            return null;
        };
        $mol_grid.prototype.col_ids = function () {
            return [];
        };
        $mol_grid.prototype.records = function () {
            return ({});
        };
        $mol_grid.prototype.record = function (id) {
            return null;
        };
        $mol_grid.prototype.hierarchy = function () {
            return null;
        };
        $mol_grid.prototype.hierarchy_col = function () {
            return "";
        };
        $mol_grid.prototype.gap_top = function () {
            return 0;
        };
        $mol_grid.prototype.rows_visible = function () {
            return [];
        };
        $mol_grid.prototype.Table = function () {
            var _this = this;
            return new $.$mol_grid_table().setup(function (obj) {
                obj.offset = function () { return _this.gap_top(); };
                obj.sub = function () { return [].concat(_this.rows_visible()); };
            });
        };
        $mol_grid.prototype.height = function () {
            return 0;
        };
        $mol_grid.prototype.Gap = function () {
            var _this = this;
            return new $.$mol_grid_gap().setup(function (obj) {
                obj.offset = function () { return _this.height(); };
            });
        };
        $mol_grid.prototype.sub = function () {
            return [].concat(this.Table(), this.Gap());
        };
        $mol_grid.prototype.rows = function () {
            return [];
        };
        $mol_grid.prototype.row_height = function () {
            return 40;
        };
        $mol_grid.prototype.head_cells = function () {
            return [];
        };
        $mol_grid.prototype.Head = function () {
            var _this = this;
            return new $.$mol_grid_row().setup(function (obj) {
                obj.height = function () { return _this.row_height(); };
                obj.cells = function () { return _this.head_cells(); };
            });
        };
        $mol_grid.prototype.cells = function (id) {
            return [];
        };
        $mol_grid.prototype.Row = function (id) {
            var _this = this;
            return new $.$mol_grid_row().setup(function (obj) {
                obj.height = function () { return _this.row_height(); };
                obj.cells = function () { return _this.cells(id); };
            });
        };
        $mol_grid.prototype.cell = function (id) {
            return null;
        };
        $mol_grid.prototype.cell_content = function (id) {
            return [];
        };
        $mol_grid.prototype.cell_content_text = function (id) {
            return this.cell_content(id);
        };
        $mol_grid.prototype.Cell_text = function (id) {
            var _this = this;
            return new $.$mol_grid_cell().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.cell_content_text(id)); };
            });
        };
        $mol_grid.prototype.cell_content_number = function (id) {
            return this.cell_content(id);
        };
        $mol_grid.prototype.Cell_number = function (id) {
            var _this = this;
            return new $.$mol_grid_number().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.cell_content_number(id)); };
            });
        };
        $mol_grid.prototype.col_head_content = function (id) {
            return [];
        };
        $mol_grid.prototype.Col_head = function (id) {
            var _this = this;
            return new $.$mol_float().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.col_head_content(id)); };
            });
        };
        $mol_grid.prototype.cell_level = function (id) {
            return 0;
        };
        $mol_grid.prototype.cell_expanded = function (id, val) {
            return (val !== void 0) ? val : false;
        };
        $mol_grid.prototype.Cell_branch = function (id) {
            var _this = this;
            return new $.$mol_check_expand().setup(function (obj) {
                obj.level = function () { return _this.cell_level(id); };
                obj.label = function () { return _this.cell_content(id); };
                obj.expanded = function (val) { return _this.cell_expanded(id, val); };
            });
        };
        $mol_grid.prototype.needle = function () {
            return "";
        };
        $mol_grid.prototype.cell_value = function (id) {
            return "";
        };
        $mol_grid.prototype.Cell_dimmer = function (id) {
            var _this = this;
            return new $.$mol_dimmer().setup(function (obj) {
                obj.needle = function () { return _this.needle(); };
                obj.haystack = function () { return _this.cell_value(id); };
            });
        };
        $mol_grid.prototype.Cell_content = function (id) {
            return [].concat(this.Cell_dimmer(id));
        };
        return $mol_grid;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_grid.prototype, "Table", null);
    __decorate([
        $.$mol_mem()
    ], $mol_grid.prototype, "Gap", null);
    __decorate([
        $.$mol_mem()
    ], $mol_grid.prototype, "Head", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_grid.prototype, "Row", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_grid.prototype, "Cell_text", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_grid.prototype, "Cell_number", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_grid.prototype, "Col_head", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_grid.prototype, "cell_expanded", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_grid.prototype, "Cell_branch", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_grid.prototype, "Cell_dimmer", null);
    $.$mol_grid = $mol_grid;
})($ || ($ = {}));
(function ($) {
    var $mol_grid_table = (function (_super) {
        __extends($mol_grid_table, _super);
        function $mol_grid_table() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_grid_table.prototype.dom_name = function () {
            return "table";
        };
        $mol_grid_table.prototype.offset = function () {
            return 0;
        };
        $mol_grid_table.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "top": this.offset() }));
        };
        return $mol_grid_table;
    }($.$mol_view));
    $.$mol_grid_table = $mol_grid_table;
})($ || ($ = {}));
(function ($) {
    var $mol_grid_gap = (function (_super) {
        __extends($mol_grid_gap, _super);
        function $mol_grid_gap() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_grid_gap.prototype.offset = function () {
            return 0;
        };
        $mol_grid_gap.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "top": this.offset() }));
        };
        return $mol_grid_gap;
    }($.$mol_view));
    $.$mol_grid_gap = $mol_grid_gap;
})($ || ($ = {}));
(function ($) {
    var $mol_grid_row = (function (_super) {
        __extends($mol_grid_row, _super);
        function $mol_grid_row() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_grid_row.prototype.dom_name = function () {
            return "tr";
        };
        $mol_grid_row.prototype.height = function () {
            return 40;
        };
        $mol_grid_row.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "height": this.height() }));
        };
        $mol_grid_row.prototype.cells = function () {
            return [];
        };
        $mol_grid_row.prototype.sub = function () {
            return this.cells();
        };
        return $mol_grid_row;
    }($.$mol_view));
    $.$mol_grid_row = $mol_grid_row;
})($ || ($ = {}));
(function ($) {
    var $mol_grid_cell = (function (_super) {
        __extends($mol_grid_cell, _super);
        function $mol_grid_cell() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_grid_cell.prototype.dom_name = function () {
            return "td";
        };
        return $mol_grid_cell;
    }($.$mol_view));
    $.$mol_grid_cell = $mol_grid_cell;
})($ || ($ = {}));
(function ($) {
    var $mol_grid_number = (function (_super) {
        __extends($mol_grid_number, _super);
        function $mol_grid_number() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_grid_number;
    }($.$mol_grid_cell));
    $.$mol_grid_number = $mol_grid_number;
})($ || ($ = {}));
//grid.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_grid = (function (_super) {
            __extends($mol_grid, _super);
            function $mol_grid() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_grid.prototype.rows_visible = function () {
                var rows = this.rows();
                if (!rows)
                    return null;
                var view_window = this.view_window();
                return [].concat(this.col_ids() && this.Head(), rows.slice(view_window.top, view_window.bottom).valueOf());
            };
            $mol_grid.prototype.rows_visible_max = function () {
                return Math.ceil(this.context().$mol_view_visible_height() / this.row_height());
            };
            $mol_grid.prototype.view_window = function () {
                var rows = this.rows();
                if (!rows)
                    return null;
                var count = rows.length;
                var context = this.context_sub();
                var scrollTop = context.$mol_scroll_scroll_top();
                var top = Math.max(0, Math.floor(scrollTop / this.row_height()));
                var bottom = Math.min(count, top + this.rows_visible_max());
                return { top: top, bottom: bottom, count: count };
            };
            $mol_grid.prototype.gap_top = function () {
                var view_window = this.view_window();
                return view_window.top * this.row_height();
            };
            $mol_grid.prototype.height = function () {
                var view_window = this.view_window();
                return view_window.count * this.row_height();
            };
            $mol_grid.prototype.head_cells = function () {
                var _this = this;
                return this.col_ids().map(function (colId) { return _this.Col_head(colId); });
            };
            $mol_grid.prototype.col_head_content = function (colId) {
                return [colId];
            };
            $mol_grid.prototype.rows = function () {
                var _this = this;
                return this.row_ids().map(function (id) { return _this.Row(id); });
            };
            $mol_grid.prototype.cells = function (row_id) {
                var _this = this;
                return this.col_ids().map(function (col_id) { return _this.Cell({ row: row_id, col: col_id }); });
            };
            $mol_grid.prototype.col_type = function (col_id) {
                if (col_id === this.hierarchy_col())
                    return 'branch';
                var rowFirst = this.row_id(0);
                var val = this.record(rowFirst[rowFirst.length - 1])[col_id];
                if (typeof val === 'number')
                    return 'number';
                return 'text';
            };
            $mol_grid.prototype.Cell = function (id) {
                switch (this.col_type(id.col).valueOf()) {
                    case 'branch': return this.Cell_branch(id);
                    case 'number': return this.Cell_number(id);
                }
                return this.Cell_text(id);
            };
            $mol_grid.prototype.cell_content = function (id) {
                return this.record(id.row[id.row.length - 1])[id.col];
            };
            $mol_grid.prototype.records = function () {
                return [];
            };
            $mol_grid.prototype.record = function (id) {
                return this.records()[id];
            };
            $mol_grid.prototype.record_ids = function () {
                return Object.keys(this.records());
            };
            $mol_grid.prototype.row_id = function (index) {
                return this.row_ids().slice(index, index + 1).valueOf()[0];
            };
            $mol_grid.prototype.col_ids = function () {
                var rowFirst = this.row_id(0);
                if (rowFirst === void 0)
                    return null;
                var record = this.record(rowFirst[rowFirst.length - 1]);
                if (!record)
                    return [];
                return Object.keys(record);
            };
            $mol_grid.prototype.hierarchy = function () {
                var hierarchy = {};
                var root = hierarchy[''] = {
                    id: '',
                    parent: null,
                    sub: [],
                };
                this.record_ids().map(function (id) {
                    root.sub.push(hierarchy[id] = {
                        id: id,
                        parent: root,
                        sub: [],
                    });
                });
                return hierarchy;
            };
            $mol_grid.prototype.row_sub_ids = function (row) {
                return this.hierarchy()[row[row.length - 1]].sub.map(function (child) { return row.concat(child.id); });
            };
            $mol_grid.prototype.row_root_id = function () {
                return [''];
            };
            $mol_grid.prototype.cell_level = function (id) {
                return id.row.length - 1;
            };
            $mol_grid.prototype.row_ids = function () {
                var _this = this;
                var next = [];
                var add = function (row) {
                    next.push(row);
                    if (_this.row_expanded(row)) {
                        _this.row_sub_ids(row).forEach(function (child) { return add(child); });
                    }
                };
                this.row_sub_ids(this.row_root_id()).forEach(function (child) { return add(child); });
                return next;
            };
            $mol_grid.prototype.row_expanded = function (row_id, next) {
                if (!this.row_sub_ids(row_id).length)
                    return null;
                var key = "row_expanded(" + JSON.stringify(row_id) + ")";
                var next2 = $.$mol_state_session.value(key, next);
                return (next2 == null) ? this.row_expanded_default(row_id) : next2;
            };
            $mol_grid.prototype.row_expanded_default = function (row_id) {
                return row_id.length < 3;
            };
            $mol_grid.prototype.cell_expanded = function (id, next) {
                return this.row_expanded(id.row, next);
            };
            return $mol_grid;
        }($.$mol_grid));
        __decorate([
            $.$mol_mem()
        ], $mol_grid.prototype, "rows_visible", null);
        __decorate([
            $.$mol_mem()
        ], $mol_grid.prototype, "rows_visible_max", null);
        __decorate([
            $.$mol_mem()
        ], $mol_grid.prototype, "view_window", null);
        __decorate([
            $.$mol_mem()
        ], $mol_grid.prototype, "head_cells", null);
        __decorate([
            $.$mol_mem()
        ], $mol_grid.prototype, "col_head_content", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_grid.prototype, "col_type", null);
        __decorate([
            $.$mol_mem()
        ], $mol_grid.prototype, "record_ids", null);
        __decorate([
            $.$mol_mem()
        ], $mol_grid.prototype, "hierarchy", null);
        __decorate([
            $.$mol_mem()
        ], $mol_grid.prototype, "row_ids", null);
        $mol.$mol_grid = $mol_grid;
        var $mol_grid_table = (function (_super) {
            __extends($mol_grid_table, _super);
            function $mol_grid_table() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_grid_table.prototype.context_sub = function () {
                var _this = this;
                var context = this.context();
                var subContext = Object.create(context);
                subContext.$mol_scroll_scroll_top = function () { return context.$mol_scroll_scroll_top() - _this.offset(); };
                return subContext;
            };
            return $mol_grid_table;
        }($.$mol_grid_table));
        __decorate([
            $.$mol_mem()
        ], $mol_grid_table.prototype, "context_sub", null);
        $mol.$mol_grid_table = $mol_grid_table;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//grid.view.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'search numbers': function () {
            var syntax = new $.$mol_syntax({
                'number': /[+-]?\d+(?:\.\d+)?/
            });
            var serial = function (tokens) {
                return tokens.map(function (token) { return token.name + "=" + token.found; }).join('|');
            };
            $.$mol_assert_equal(serial(syntax.tokenize('')), '');
            $.$mol_assert_equal(serial(syntax.tokenize('foo')), '=foo');
            $.$mol_assert_equal(serial(syntax.tokenize('123')), 'number=123');
            $.$mol_assert_equal(serial(syntax.tokenize('foo123bar')), '=foo|number=123|=bar');
            $.$mol_assert_equal(serial(syntax.tokenize('foo123bar456')), '=foo|number=123|=bar|number=456');
            $.$mol_assert_equal(serial(syntax.tokenize('foo123\n\nbar456\n')), '=foo|number=123|=\n\nbar|number=456|=\n');
        }
    });
})($ || ($ = {}));
//syntax.test.js.map
;
var $;
(function ($) {
    var $mol_syntax = (function () {
        function $mol_syntax(lexems) {
            this['lexems()'] = lexems;
        }
        $mol_syntax.prototype.lexems = function () {
            return this['lexems()'];
        };
        $mol_syntax.prototype.rules = function () {
            var rules = this['rules()'];
            if (rules)
                return rules;
            rules = [];
            var lexems = this.lexems();
            for (var name_1 in lexems) {
                rules.push({
                    name: name_1,
                    regExp: lexems[name_1],
                    size: RegExp('^$|' + lexems[name_1].source).exec('').length - 1,
                });
            }
            return this['rules()'] = rules;
        };
        $mol_syntax.prototype.regExp = function () {
            var regExp = this['regExp()'];
            if (regExp)
                return regExp;
            var parts = '(' + this.rules().map(function (rule) { return rule.regExp.source; }).join(')|(') + ')';
            regExp = RegExp("([^]*?)(?:(" + parts + ")|$(?![^]))", 'gm');
            return this['regExp()'] = regExp;
        };
        $mol_syntax.prototype.tokenize = function (text) {
            var tokens = [];
            var rules = this.rules();
            var regExp = this.regExp();
            var regExpSize = RegExp('^$|' + regExp.source).exec('').length - 1;
            var position = 0;
            parsing: while (position < text.length) {
                regExp.lastIndex = position;
                var found = regExp.exec(text);
                if (position === regExp.lastIndex)
                    throw new Error('Empty token');
                position = regExp.lastIndex;
                var prefix = found[1];
                if (prefix) {
                    tokens.push({
                        name: '',
                        found: prefix,
                        chunks: [],
                    });
                }
                var suffix = found[2];
                if (suffix) {
                    var offset = 4;
                    for (var _i = 0, rules_1 = rules; _i < rules_1.length; _i++) {
                        var rule = rules_1[_i];
                        if (found[offset - 1]) {
                            tokens.push({
                                name: rule.name,
                                found: suffix,
                                chunks: found.slice(offset, offset + rule.size)
                            });
                            continue parsing;
                        }
                        offset += rule.size + 1;
                    }
                    throw new Error('Something wrong');
                }
            }
            return tokens;
        };
        return $mol_syntax;
    }());
    $.$mol_syntax = $mol_syntax;
})($ || ($ = {}));
//syntax.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'only text': function () {
            var tokens = $.$mol_syntax_md_flow.tokenize('Hello,\nWorld..\r\n\r\n\nof Love!');
            $.$mol_assert_equal(tokens.map(function (token) { return token.found; }).join('|'), 'Hello,\nWorld..\r\n\r\n\n|of Love!');
        },
        'headers and text': function () {
            var tokens = $.$mol_syntax_md_flow.tokenize('# Header1\n\nHello!\n\n## Header2');
            $.$mol_assert_equal(tokens.length, 3);
            $.$mol_assert_equal(tokens[0].name, 'header');
            $.$mol_assert_equal(tokens[0].chunks.join('|'), '#| |Header1|\n\n');
            $.$mol_assert_equal(tokens[1].name, 'block');
            $.$mol_assert_equal(tokens[1].chunks.join('|'), 'Hello!|\n\n');
            $.$mol_assert_equal(tokens[2].name, 'header');
            $.$mol_assert_equal(tokens[2].found, '## Header2');
            $.$mol_assert_equal(tokens[2].chunks.join('|'), '##| |Header2|');
        },
        'codes and text': function () {
            var tokens = $.$mol_syntax_md_flow.tokenize('```\nstart()\n```\n\n```js\nrestart()\n```\n\nHello!\n\n```\nstop()\n```');
            $.$mol_assert_equal(tokens.length, 4);
            $.$mol_assert_equal(tokens[0].name, 'code');
            $.$mol_assert_equal(tokens[0].chunks.join('|'), '```||start()\n|```|\n\n');
            $.$mol_assert_equal(tokens[1].name, 'code');
            $.$mol_assert_equal(tokens[1].chunks.join('|'), '```|js|restart()\n|```|\n\n');
            $.$mol_assert_equal(tokens[2].name, 'block');
            $.$mol_assert_equal(tokens[2].chunks.join('|'), 'Hello!|\n\n');
            $.$mol_assert_equal(tokens[3].name, 'code');
            $.$mol_assert_equal(tokens[3].chunks.join('|'), '```||stop()\n|```|');
        },
        'table': function () {
            var tokens = $.$mol_syntax_md_flow.tokenize('| header1 | header2\n|----|----\n| Cell11 | Cell12\n| Cell21 | Cell22\n\n| Cell11 | Cell12\n| Cell21 | Cell22\n');
            $.$mol_assert_equal(tokens.length, 2);
            $.$mol_assert_equal(tokens[0].name, 'table');
            $.$mol_assert_equal(tokens[0].chunks[0], '| header1 | header2\n|----|----\n| Cell11 | Cell12\n| Cell21 | Cell22\n');
            $.$mol_assert_equal(tokens[1].name, 'table');
            $.$mol_assert_equal(tokens[1].chunks[0], '| Cell11 | Cell12\n| Cell21 | Cell22\n');
        }
    });
})($ || ($ = {}));
//md.test.js.map
;
var $;
(function ($) {
    $.$mol_syntax_md_flow = new $.$mol_syntax({
        'header': /^(#+)(\s*)(.*?)$([\n\r]*)/,
        'list-item': /^(\s?\*\s+)(.*?)$([\n\r]*)/,
        'code': /^(```)(\w*)[\r\n]+([^]*?)^(```)$([\n\r]*)/,
        'code-indent': /^((?:(?:  |\t)(?:[^]*?)$([\n\r]*))+)/,
        'table': /((?:^\|.+?$\r?\n)+)([\n\r]*)/,
        'block': /^(.*?(?:\r?\n.+?)*)$((?:\r?\n)*)/,
    });
    $.$mol_syntax_md_line = new $.$mol_syntax({
        'strong': /\*\*(.+?)\*\*/,
        'emphasis': /\*(.+?)\*/,
        'code3': /```(.+?)```/,
        'code': /`(.+?)`/,
        'strike': /~~(.+?)~~/,
        'text-link': /\[(.*?(?:\[.*?\].*?)*)\]\((.*?)\)/,
        'image-link': /!\[([^\[\]]*?)\]\((.*?)\)/,
    });
})($ || ($ = {}));
//md.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_text = (function (_super) {
        __extends($mol_text, _super);
        function $mol_text() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_text.prototype.text = function () {
            return "";
        };
        $mol_text.prototype.block_content = function (id) {
            return [];
        };
        $mol_text.prototype.block_type = function (id) {
            return "";
        };
        $mol_text.prototype.Row = function (id) {
            var _this = this;
            return new $.$mol_text_row().setup(function (obj) {
                obj.sub = function () { return _this.block_content(id); };
                obj.type = function () { return _this.block_type(id); };
            });
        };
        $mol_text.prototype.Span = function (id) {
            return new $.$mol_text_spanner();
        };
        $mol_text.prototype.Link = function (id) {
            return new $.$mol_text_linker();
        };
        $mol_text.prototype.Image = function (id) {
            return new $.$mol_text_imager();
        };
        $mol_text.prototype.header_level = function (id) {
            return 0;
        };
        $mol_text.prototype.header_content = function (id) {
            return [];
        };
        $mol_text.prototype.Header = function (id) {
            var _this = this;
            return new $.$mol_text_header().setup(function (obj) {
                obj.level = function () { return _this.header_level(id); };
                obj.content = function () { return _this.header_content(id); };
            });
        };
        $mol_text.prototype.table_head_cells = function (id) {
            return [];
        };
        $mol_text.prototype.table_rows = function (id) {
            return [];
        };
        $mol_text.prototype.Table = function (id) {
            var _this = this;
            return new $.$mol_grid().setup(function (obj) {
                obj.head_cells = function () { return _this.table_head_cells(id); };
                obj.rows = function () { return _this.table_rows(id); };
            });
        };
        $mol_text.prototype.table_cells = function (id) {
            return [];
        };
        $mol_text.prototype.Table_row = function (id) {
            var _this = this;
            return new $.$mol_grid_row().setup(function (obj) {
                obj.cells = function () { return _this.table_cells(id); };
            });
        };
        $mol_text.prototype.table_cell_content = function (id) {
            return [];
        };
        $mol_text.prototype.Table_cell = function (id) {
            var _this = this;
            return new $.$mol_grid_cell().setup(function (obj) {
                obj.sub = function () { return _this.table_cell_content(id); };
            });
        };
        $mol_text.prototype.Table_cell_head = function (id) {
            var _this = this;
            return new $.$mol_float().setup(function (obj) {
                obj.sub = function () { return _this.table_cell_content(id); };
            });
        };
        return $mol_text;
    }($.$mol_list));
    __decorate([
        $.$mol_mem_key()
    ], $mol_text.prototype, "Row", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_text.prototype, "Span", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_text.prototype, "Link", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_text.prototype, "Image", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_text.prototype, "Header", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_text.prototype, "Table", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_text.prototype, "Table_row", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_text.prototype, "Table_cell", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_text.prototype, "Table_cell_head", null);
    $.$mol_text = $mol_text;
})($ || ($ = {}));
(function ($) {
    var $mol_text_row = (function (_super) {
        __extends($mol_text_row, _super);
        function $mol_text_row() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_text_row.prototype.minimal_height = function () {
            return 40;
        };
        $mol_text_row.prototype.type = function () {
            return "";
        };
        $mol_text_row.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_text_type": this.type() }));
        };
        return $mol_text_row;
    }($.$mol_view));
    $.$mol_text_row = $mol_text_row;
})($ || ($ = {}));
(function ($) {
    var $mol_text_header = (function (_super) {
        __extends($mol_text_header, _super);
        function $mol_text_header() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_text_header.prototype.dom_name = function () {
            return "h";
        };
        $mol_text_header.prototype.minimal_height = function () {
            return 50;
        };
        $mol_text_header.prototype.level = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_text_header.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_text_header_level": this.level() }));
        };
        $mol_text_header.prototype.content = function () {
            return [];
        };
        $mol_text_header.prototype.sub = function () {
            return this.content();
        };
        return $mol_text_header;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_text_header.prototype, "level", null);
    $.$mol_text_header = $mol_text_header;
})($ || ($ = {}));
(function ($) {
    var $mol_text_spanner = (function (_super) {
        __extends($mol_text_spanner, _super);
        function $mol_text_spanner() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_text_spanner.prototype.dom_name = function () {
            return "span";
        };
        $mol_text_spanner.prototype.type = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_text_spanner.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_text_type": this.type() }));
        };
        $mol_text_spanner.prototype.content = function (val) {
            return (val !== void 0) ? val : [];
        };
        $mol_text_spanner.prototype.sub = function () {
            return this.content();
        };
        return $mol_text_spanner;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_text_spanner.prototype, "type", null);
    __decorate([
        $.$mol_mem()
    ], $mol_text_spanner.prototype, "content", null);
    $.$mol_text_spanner = $mol_text_spanner;
})($ || ($ = {}));
(function ($) {
    var $mol_text_linker = (function (_super) {
        __extends($mol_text_linker, _super);
        function $mol_text_linker() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_text_linker.prototype.dom_name = function () {
            return "a";
        };
        $mol_text_linker.prototype.type = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_text_linker.prototype.link = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_text_linker.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_text_type": this.type(), "href": this.link() }));
        };
        $mol_text_linker.prototype.content = function (val) {
            return (val !== void 0) ? val : [];
        };
        $mol_text_linker.prototype.sub = function () {
            return this.content();
        };
        return $mol_text_linker;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_text_linker.prototype, "type", null);
    __decorate([
        $.$mol_mem()
    ], $mol_text_linker.prototype, "link", null);
    __decorate([
        $.$mol_mem()
    ], $mol_text_linker.prototype, "content", null);
    $.$mol_text_linker = $mol_text_linker;
})($ || ($ = {}));
(function ($) {
    var $mol_text_imager = (function (_super) {
        __extends($mol_text_imager, _super);
        function $mol_text_imager() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_text_imager.prototype.dom_name = function () {
            return "img";
        };
        $mol_text_imager.prototype.type = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_text_imager.prototype.link = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_text_imager.prototype.title = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_text_imager.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_text_type": this.type(), "src": this.link(), "alt": this.title() }));
        };
        return $mol_text_imager;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_text_imager.prototype, "type", null);
    __decorate([
        $.$mol_mem()
    ], $mol_text_imager.prototype, "link", null);
    __decorate([
        $.$mol_mem()
    ], $mol_text_imager.prototype, "title", null);
    $.$mol_text_imager = $mol_text_imager;
})($ || ($ = {}));
//text.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_text = (function (_super) {
            __extends($mol_text, _super);
            function $mol_text() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_text.prototype.tokens_flow = function () {
                return $.$mol_syntax_md_flow.tokenize(this.text());
            };
            $mol_text.prototype.rows = function () {
                var _this = this;
                return this.tokens_flow().map(function (token, index) {
                    switch (token.name) {
                        case 'table': return _this.Table(index);
                        case 'header': return _this.Header(index);
                    }
                    return _this.Row(index);
                });
            };
            $mol_text.prototype.header_level = function (index) {
                return this.tokens_flow()[index].chunks[0].length;
            };
            $mol_text.prototype.header_content = function (index) {
                return this.text2spans("" + index, this.tokens_flow()[index].chunks[2]);
            };
            $mol_text.prototype.block_type = function (index) {
                return this.tokens_flow()[index].name;
            };
            $mol_text.prototype.cell_contents = function (indexBlock) {
                return this.tokens_flow()[indexBlock].chunks[0]
                    .split(/\r?\n/g)
                    .filter(function (row) { return row && !/\|--/.test(row); })
                    .map(function (row, rowId) {
                    return row.split(/\|/g)
                        .filter(function (cell) { return cell; })
                        .map(function (cell, cellId) { return cell.trim(); });
                });
            };
            $mol_text.prototype.table_rows = function (blockId) {
                var _this = this;
                return this.cell_contents(blockId)
                    .slice(1)
                    .map(function (row, rowId) { return _this.Table_row({ block: blockId, row: rowId + 1 }); });
            };
            $mol_text.prototype.table_head_cells = function (blockId) {
                var _this = this;
                return this.cell_contents(blockId)[0]
                    .map(function (cell, cellId) { return _this.Table_cell_head({ block: blockId, row: 0, cell: cellId }); });
            };
            $mol_text.prototype.table_cells = function (id) {
                var _this = this;
                return this.cell_contents(id.block)[id.row]
                    .map(function (cell, cellId) { return _this.Table_cell({ block: id.block, row: id.row, cell: cellId }); });
            };
            $mol_text.prototype.table_cell_content = function (id) {
                return this.text2spans(id.block + "/" + id.row + "/" + id.cell, this.cell_contents(id.block)[id.row][id.cell]);
            };
            $mol_text.prototype.text2spans = function (prefix, text) {
                var _this = this;
                return $.$mol_syntax_md_line.tokenize(text).map(function (token, index) {
                    var id = prefix + "/" + index;
                    switch (token.name) {
                        case 'text-link': {
                            if (/^#|(\w+script+:)+/.test(token.chunks[1])) {
                                var span_1 = _this.Span(id);
                                span_1.content(_this.text2spans(id, token.chunks[0]));
                                return span_1;
                            }
                            else {
                                var span_2 = _this.Link(id);
                                span_2.type(token.name);
                                span_2.link(token.chunks[1]);
                                span_2.content(_this.text2spans(id, token.chunks[0]));
                                return span_2;
                            }
                        }
                        case 'image-link': {
                            var span_3 = _this.Image(id);
                            span_3.type(token.name);
                            span_3.link(token.chunks[1]);
                            span_3.title(token.chunks[0]);
                            return span_3;
                        }
                        case 'code3':
                        case 'code': {
                            var span_4 = _this.Span(id);
                            span_4.type('code');
                            span_4.content([token.chunks[0]]);
                            return span_4;
                        }
                    }
                    var span = _this.Span(id);
                    span.type(token.name);
                    span.content(token.name
                        ? [].concat.apply([], token.chunks.map(function (text, index) { return _this.text2spans(id + "/" + index, text); }))
                        : [token.found]);
                    return span;
                });
            };
            $mol_text.prototype.block_content = function (indexBlock) {
                var token = this.tokens_flow()[indexBlock];
                switch (token.name) {
                    case 'header': return this.text2spans("" + indexBlock, token.chunks[2]);
                    case 'list-item': return this.text2spans("" + indexBlock, token.chunks[1]);
                    case 'code': return [token.chunks[2]];
                    case 'code-indent': return [token.chunks[0].replace(/[\n\r]*$/, '')];
                }
                return this.text2spans("" + indexBlock, token.chunks[0]);
            };
            return $mol_text;
        }($.$mol_text));
        __decorate([
            $.$mol_mem()
        ], $mol_text.prototype, "tokens_flow", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_text.prototype, "cell_contents", null);
        $mol.$mol_text = $mol_text;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//text.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_portion_indicator = (function (_super) {
        __extends($mol_portion_indicator, _super);
        function $mol_portion_indicator() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_portion_indicator.prototype.width_style = function () {
            return "0";
        };
        $mol_portion_indicator.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "width": this.width_style() }));
        };
        return $mol_portion_indicator;
    }($.$mol_view));
    $.$mol_portion_indicator = $mol_portion_indicator;
})($ || ($ = {}));
(function ($) {
    var $mol_portion = (function (_super) {
        __extends($mol_portion, _super);
        function $mol_portion() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_portion.prototype.portion = function () {
            return 0;
        };
        $mol_portion.prototype.indicator_width_style = function () {
            return "0";
        };
        $mol_portion.prototype.indicator = function () {
            var _this = this;
            return new $.$mol_portion_indicator().setup(function (obj) {
                obj.width_style = function () { return _this.indicator_width_style(); };
            });
        };
        $mol_portion.prototype.sub = function () {
            return [].concat(this.indicator());
        };
        return $mol_portion;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_portion.prototype, "indicator", null);
    $.$mol_portion = $mol_portion;
})($ || ($ = {}));
//portion.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_portion = (function (_super) {
            __extends($mol_portion, _super);
            function $mol_portion() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_portion.prototype.indicator_width_style = function () {
                return this.portion() * 100 + '%';
            };
            return $mol_portion;
        }($.$mol_portion));
        $mol.$mol_portion = $mol_portion;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//portion.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_sort_asc = (function (_super) {
        __extends($mol_icon_sort_asc, _super);
        function $mol_icon_sort_asc() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_sort_asc.prototype.path = function () {
            return "M10,11V13H18V11H10M10,5V7H14V5H10M10,17V19H22V17H10M6,7H8.5L5,3.5L1.5,7H4V20H6V7Z";
        };
        return $mol_icon_sort_asc;
    }($.$mol_icon));
    $.$mol_icon_sort_asc = $mol_icon_sort_asc;
})($ || ($ = {}));
//asc.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_state_arg = (function (_super) {
        __extends($mol_state_arg, _super);
        function $mol_state_arg(prefix) {
            if (prefix === void 0) { prefix = ''; }
            var _this = _super.call(this) || this;
            _this.prefix = prefix;
            return _this;
        }
        $mol_state_arg.href = function (next) {
            return next || process.argv.slice(2).join(' ');
        };
        $mol_state_arg.dict = function (next) {
            if (next !== void 0)
                this.href(this.make(next));
            var href = this.href();
            var chunks = href.split(/[\/\?#!&; ]/g);
            var params = {};
            chunks.forEach(function (chunk) {
                if (!chunk)
                    return;
                var vals = chunk.split(/[:=]/).map(decodeURIComponent);
                params[vals.shift()] = vals;
            });
            return params;
        };
        $mol_state_arg.value = function (key, next) {
            if (next === void 0)
                return this.dict()[key] || null;
            this.href(this.link((_a = {}, _a[key] = next, _a)));
            return next;
            var _a;
        };
        $mol_state_arg.link = function (next) {
            var params = {};
            var prev = this.dict();
            for (var key in prev) {
                params[key] = prev[key];
            }
            for (var key in next) {
                params[key] = next[key];
            }
            return this.make(params);
        };
        $mol_state_arg.make = function (next) {
            var chunks = [];
            for (var key in next) {
                if (null == next[key])
                    continue;
                chunks.push([key].concat(next[key]).map(encodeURIComponent).join('='));
            }
            return '#' + chunks.join('#');
        };
        $mol_state_arg.prototype.value = function (key, next) {
            return $mol_state_arg.value(this.prefix + key, next);
        };
        $mol_state_arg.prototype.sub = function (postfix) {
            return new $mol_state_arg(this.prefix + postfix + '.');
        };
        $mol_state_arg.prototype.link = function (next) {
            var prefix = this.prefix;
            var dict = {};
            for (var key in next) {
                dict[prefix + key] = next[key];
            }
            return $mol_state_arg.link(dict);
        };
        return $mol_state_arg;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_state_arg, "href", null);
    __decorate([
        $.$mol_mem()
    ], $mol_state_arg, "dict", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_state_arg, "value", null);
    $.$mol_state_arg = $mol_state_arg;
})($ || ($ = {}));
//arg.node.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_bench = (function (_super) {
        __extends($mol_bench, _super);
        function $mol_bench() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_bench.prototype.result = function () {
            return null;
        };
        $mol_bench.prototype.result_sorted = function () {
            return null;
        };
        $mol_bench.prototype.records = function () {
            return this.result_sorted();
        };
        $mol_bench.prototype.col_sort = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_bench.prototype.event_sort_toggle = function (id, val) {
            return (val !== void 0) ? val : null;
        };
        $mol_bench.prototype.col_head_label = function (id) {
            return [];
        };
        $mol_bench.prototype.Col_head_sort = function (id) {
            return new $.$mol_icon_sort_asc();
        };
        $mol_bench.prototype.col_head_content = function (id) {
            return [].concat(this.col_head_label(id), this.Col_head_sort(id));
        };
        $mol_bench.prototype.Col_head = function (id) {
            var _this = this;
            return new $.$mol_bench_head().setup(function (obj) {
                obj.event_click = function (val) { return _this.event_sort_toggle(id, val); };
                obj.sub = function () { return _this.col_head_content(id); };
            });
        };
        $mol_bench.prototype.result_value = function (id) {
            return "";
        };
        $mol_bench.prototype.result_portion = function (id) {
            return 0;
        };
        $mol_bench.prototype.Result_portion = function (id) {
            var _this = this;
            return new $.$mol_portion().setup(function (obj) {
                obj.portion = function () { return _this.result_portion(id); };
            });
        };
        $mol_bench.prototype.cell_content_number = function (id) {
            return [].concat(this.result_value(id), this.Result_portion(id));
        };
        return $mol_bench;
    }($.$mol_grid));
    __decorate([
        $.$mol_mem()
    ], $mol_bench.prototype, "col_sort", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_bench.prototype, "event_sort_toggle", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_bench.prototype, "Col_head_sort", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_bench.prototype, "Col_head", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_bench.prototype, "Result_portion", null);
    $.$mol_bench = $mol_bench;
})($ || ($ = {}));
(function ($) {
    var $mol_bench_head = (function (_super) {
        __extends($mol_bench_head, _super);
        function $mol_bench_head() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_bench_head.prototype.event_click = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_bench_head.prototype.event = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event.call(this), { "click": function (val) { return _this.event_click(val); } }));
        };
        $mol_bench_head.prototype.hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "hint");
        };
        $mol_bench_head.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "title": this.hint() }));
        };
        return $mol_bench_head;
    }($.$mol_float));
    __decorate([
        $.$mol_mem()
    ], $mol_bench_head.prototype, "event_click", null);
    $.$mol_bench_head = $mol_bench_head;
})($ || ($ = {}));
//bench.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_bench = (function (_super) {
            __extends($mol_bench, _super);
            function $mol_bench() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_bench.prototype.col_sort = function (next) {
                return $.$mol_state_arg.value(this.state_key('sort'), next);
            };
            $mol_bench.prototype.result_sorted = function () {
                var _this = this;
                var prev = this.result();
                var col = this.col_sort();
                if (!col)
                    return prev;
                var next = {};
                var keys = Object.keys(prev);
                keys.sort(function (a, b) { return _this.result_number({ row: ['', a], col: col }) - _this.result_number({ row: ['', b], col: col }); });
                keys.forEach(function (row) { return next[row] = prev[row]; });
                return next;
            };
            $mol_bench.prototype.result_value = function (id) {
                return this.result()[id.row[id.row.length - 1]][id.col];
            };
            $mol_bench.prototype.result_number = function (id) {
                return parseInt(this.result_value(id), 10);
            };
            $mol_bench.prototype.result_value_max = function (col) {
                var _this = this;
                var max = 0;
                var rows = this.row_ids();
                rows.forEach(function (row) {
                    var numb = _this.result_number({ row: row, col: col });
                    if (numb > max)
                        max = numb;
                });
                return max;
            };
            $mol_bench.prototype.result_portion = function (id) {
                return this.result_number(id) / this.result_value_max(id.col);
            };
            $mol_bench.prototype.col_head_label = function (col) {
                return [col];
            };
            $mol_bench.prototype.event_sort_toggle = function (col, next) {
                this.col_sort(col);
            };
            $mol_bench.prototype.col_type = function (col) {
                if (col === this.hierarchy_col())
                    return 'branch';
                var rowFirst = this.row_id(0);
                var val = this.record(rowFirst[rowFirst.length - 1])[col];
                if (!isNaN(parseFloat(val)))
                    return 'number';
                return 'text';
            };
            $mol_bench.prototype.cell_content_number = function (id) {
                return [
                    this.result_value(id),
                    (this.col_sort() === id.col)
                        ? this.Result_portion(id)
                        : null
                ];
            };
            $mol_bench.prototype.col_head_content = function (col) {
                return [].concat(this.col_head_label(col), (this.col_sort() === col)
                    ? this.Col_head_sort(col)
                    : null);
            };
            return $mol_bench;
        }($.$mol_bench));
        __decorate([
            $.$mol_mem()
        ], $mol_bench.prototype, "col_sort", null);
        __decorate([
            $.$mol_mem()
        ], $mol_bench.prototype, "result_sorted", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_bench.prototype, "result_value_max", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_bench.prototype, "col_type", null);
        $mol.$mol_bench = $mol_bench;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//bench.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_bench = (function (_super) {
        __extends($mol_app_bench, _super);
        function $mol_app_bench() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_bench.prototype.addon_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "addon_title");
        };
        $mol_app_bench.prototype.menu_options = function () {
            return [];
        };
        $mol_app_bench.prototype.Menu = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.menu_options(); };
            });
        };
        $mol_app_bench.prototype.Addon_page = function () {
            var _this = this;
            return new $.$mol_page().setup(function (obj) {
                obj.title = function () { return _this.addon_title(); };
                obj.body = function () { return [].concat(_this.Menu()); };
            });
        };
        $mol_app_bench.prototype.description = function () {
            return "";
        };
        $mol_app_bench.prototype.Descr = function () {
            var _this = this;
            return new $.$mol_text().setup(function (obj) {
                obj.text = function () { return _this.description(); };
            });
        };
        $mol_app_bench.prototype.result = function () {
            return null;
        };
        $mol_app_bench.prototype.result_col_title = function (id) {
            return [];
        };
        $mol_app_bench.prototype.result_col_sort = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_bench.prototype.Result = function () {
            var _this = this;
            return new $.$mol_bench().setup(function (obj) {
                obj.result = function () { return _this.result(); };
                obj.col_head_label = function (id) { return [].concat(_this.result_col_title(id)); };
                obj.col_sort = function (val) { return _this.result_col_sort(val); };
            });
        };
        $mol_app_bench.prototype.Inform = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Descr(), _this.Result()); };
            });
        };
        $mol_app_bench.prototype.Sandbox = function () {
            return new $.$mol_view().setup(function (obj) {
                obj.dom_name = function () { return "iframe"; };
            });
        };
        $mol_app_bench.prototype.Main_page = function () {
            var _this = this;
            return new $.$mol_page().setup(function (obj) {
                obj.title = function () { return _this.title(); };
                obj.body = function () { return [].concat(_this.Inform(), _this.Sandbox()); };
            });
        };
        $mol_app_bench.prototype.sub = function () {
            return [].concat(this.Addon_page(), this.Main_page());
        };
        $mol_app_bench.prototype.menu_option_checked = function (id, val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_bench.prototype.menu_option_title = function (id) {
            return "";
        };
        $mol_app_bench.prototype.Menu_option = function (id) {
            var _this = this;
            return new $.$mol_check_box().setup(function (obj) {
                obj.minimal_height = function () { return 36; };
                obj.checked = function (val) { return _this.menu_option_checked(id, val); };
                obj.label = function () { return [].concat(_this.menu_option_title(id)); };
            });
        };
        $mol_app_bench.prototype.result_col_title_sample = function () {
            return $.$mol_locale.text(this.locale_contexts(), "result_col_title_sample");
        };
        return $mol_app_bench;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench.prototype, "Menu", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench.prototype, "Addon_page", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench.prototype, "Descr", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench.prototype, "result_col_sort", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench.prototype, "Result", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench.prototype, "Inform", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench.prototype, "Sandbox", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench.prototype, "Main_page", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_bench.prototype, "menu_option_checked", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_bench.prototype, "Menu_option", null);
    $.$mol_app_bench = $mol_app_bench;
})($ || ($ = {}));
//bench.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_bench = (function (_super) {
            __extends($mol_app_bench, _super);
            function $mol_app_bench() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_bench.prototype.bench = function (next) {
                return $.$mol_state_arg.value(this.state_key('bench'), next) || 'list/';
            };
            $mol_app_bench.prototype.sandbox = function (next, force) {
                var _this = this;
                var next2 = this.Sandbox().render();
                next2.src = this.bench();
                next2.onload = function (event) {
                    next2.onload = null;
                    _this.sandbox(next2, $.$mol_atom_force);
                };
                throw new $.$mol_atom_wait("Loading sandbox...");
            };
            $mol_app_bench.prototype.command_current = function (next, force) {
                if (this['command_current()'])
                    return;
                return next;
            };
            $mol_app_bench.prototype.command_result = function (command, next) {
                var _this = this;
                var sandbox = this.sandbox();
                sandbox.valueOf();
                if (next !== void 0)
                    return next;
                var current = this.command_current(command);
                if (current !== command)
                    throw new $.$mol_atom_wait("Waiting for " + JSON.stringify(current) + "...");
                requestAnimationFrame(function () {
                    sandbox.contentWindow.postMessage(command, '*');
                    window.onmessage = function (event) {
                        if (event.data[0] !== 'done')
                            return;
                        window.onmessage = null;
                        _this.command_current(null, $.$mol_atom_force);
                        _this.command_result(command, event.data[1]);
                    };
                });
                throw new $.$mol_atom_wait("Running " + command + "...");
            };
            $mol_app_bench.prototype.meta = function () {
                return this.command_result(['meta']);
            };
            $mol_app_bench.prototype.samples_all = function (next) {
                var _this = this;
                return Object.keys(this.meta().samples).sort(function (a, b) {
                    var titleA = _this.menu_option_title(a).toLowerCase();
                    var titleB = _this.menu_option_title(a).toLowerCase();
                    return titleA > titleB ? 1 : titleA < titleB ? -1 : 0;
                });
            };
            $mol_app_bench.prototype.samples = function (next) {
                var arg = $.$mol_state_arg.value(this.state_key('sample'), next && next.join('~'));
                return arg ? arg.split('~').sort() : [];
            };
            $mol_app_bench.prototype.steps = function (next) {
                return Object.keys(this.meta().steps);
            };
            $mol_app_bench.prototype.title = function () {
                var title = this.meta().title;
                return title[$.$mol_locale.lang()] || title['en'] || _super.prototype.title.call(this);
            };
            $mol_app_bench.prototype.description = function () {
                var descr = this.meta().descr;
                return descr[$.$mol_locale.lang()] || descr['en'] || '';
            };
            $mol_app_bench.prototype.result_sample = function (sampleId) {
                var _this = this;
                var result = {
                    sample: this.menu_option_title(sampleId),
                };
                this.steps().forEach(function (step) {
                    result[step] = _this.command_result([step, sampleId]);
                });
                return result;
            };
            $mol_app_bench.prototype.result = function () {
                var _this = this;
                var result = {};
                this.samples().forEach(function (sample) {
                    result[sample] = _this.result_sample(sample);
                });
                return result;
            };
            $mol_app_bench.prototype.result_col_title = function (col_id) {
                if (col_id === 'sample')
                    return [this.result_col_title_sample()];
                var title = this.meta().steps[col_id].title;
                return [title[$.$mol_locale.lang()] || title['en']];
            };
            $mol_app_bench.prototype.result_col_sort = function (next) {
                return $.$mol_state_arg.value(this.state_key('sort'), next);
            };
            $mol_app_bench.prototype.menu_options = function () {
                var _this = this;
                return this.samples_all().map(function (sample) { return _this.Menu_option(sample); });
            };
            $mol_app_bench.prototype.menu_option_title = function (sample) {
                var title = this.meta().samples[sample].title;
                return title[$.$mol_locale.lang()] || title['en'];
            };
            $mol_app_bench.prototype.menu_option_checked = function (sample, next) {
                if (next === void 0)
                    return this.samples().indexOf(sample) !== -1;
                if (next)
                    this.samples(this.samples().concat(sample));
                else
                    this.samples(this.samples().filter(function (s) { return s !== sample; }));
                return next;
            };
            return $mol_app_bench;
        }($.$mol_app_bench));
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "bench", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "sandbox", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "command_current", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_bench.prototype, "command_result", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "samples_all", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "samples", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "steps", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "title", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "description", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_bench.prototype, "result_sample", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "result", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench.prototype, "result_col_sort", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_bench.prototype, "menu_option_checked", null);
        $mol.$mol_app_bench = $mol_app_bench;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//bench.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var $;
(function ($) {
    var $mol_plot_graph = (function (_super) {
        __extends($mol_plot_graph, _super);
        function $mol_plot_graph() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_graph.prototype.series = function () {
            return ({});
        };
        $mol_plot_graph.prototype.points_raw = function () {
            return [];
        };
        $mol_plot_graph.prototype.points_scaled = function () {
            return this.points_raw();
        };
        $mol_plot_graph.prototype.points = function () {
            return this.points_scaled();
        };
        $mol_plot_graph.prototype.threshold = function () {
            return 4;
        };
        $mol_plot_graph.prototype.shift = function () {
            return [].concat(0, 0);
        };
        $mol_plot_graph.prototype.scale = function () {
            return [].concat(1, 1);
        };
        $mol_plot_graph.prototype.dimensions = function () {
            return [].concat([], []);
        };
        $mol_plot_graph.prototype.dimensions_expanded = function () {
            return this.dimensions();
        };
        $mol_plot_graph.prototype.hue = function () {
            return 0;
        };
        $mol_plot_graph.prototype.type = function () {
            return "solid";
        };
        $mol_plot_graph.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_plot_graph_type": this.type() }));
        };
        $mol_plot_graph.prototype.color = function () {
            return "black";
        };
        $mol_plot_graph.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "color": this.color() }));
        };
        $mol_plot_graph.prototype.Sample = function () {
            return null;
        };
        $mol_plot_graph.prototype.front = function () {
            return [];
        };
        $mol_plot_graph.prototype.back = function () {
            return [];
        };
        return $mol_plot_graph;
    }($.$mol_svg_group));
    $.$mol_plot_graph = $mol_plot_graph;
})($ || ($ = {}));
(function ($) {
    var $mol_plot_graph_sample = (function (_super) {
        __extends($mol_plot_graph_sample, _super);
        function $mol_plot_graph_sample() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_graph_sample.prototype.type = function () {
            return "solid";
        };
        $mol_plot_graph_sample.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_plot_graph_type": this.type() }));
        };
        $mol_plot_graph_sample.prototype.color = function () {
            return "black";
        };
        $mol_plot_graph_sample.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "color": this.color() }));
        };
        return $mol_plot_graph_sample;
    }($.$mol_view));
    $.$mol_plot_graph_sample = $mol_plot_graph_sample;
})($ || ($ = {}));
//graph.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_graph = (function (_super) {
            __extends($mol_plot_graph, _super);
            function $mol_plot_graph() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_graph.prototype.points_raw = function () {
                var series = this.series();
                return Object.keys(series).map(function (key, index) { return [
                    isNaN(Number(key)) ? index : Number(key),
                    series[key],
                ]; });
            };
            $mol_plot_graph.prototype.points_scaled = function () {
                var shift = this.shift();
                var scale = this.scale();
                return this.points_raw().map(function (point) { return [
                    Math.round(shift[0] + point[0] * scale[0]),
                    Math.round(shift[1] + point[1] * scale[1]),
                ]; });
            };
            $mol_plot_graph.prototype.points = function () {
                var threshold = this.threshold();
                var res = [];
                var last = [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY];
                this.points_scaled().forEach(function (point) {
                    check: {
                        if (Math.abs(point[0] - last[0]) >= threshold)
                            break check;
                        if (Math.abs(point[1] - last[1]) >= threshold)
                            break check;
                        return;
                    }
                    res.push(last = point);
                });
                return res;
            };
            $mol_plot_graph.prototype.dimensions = function () {
                var points = this.points_raw();
                var next = [
                    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],
                    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],
                ];
                for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {
                    var point = points_1[_i];
                    if (point[0] < next[0][0])
                        next[0][0] = point[0];
                    if (point[1] < next[0][1])
                        next[0][1] = point[1];
                    if (point[0] > next[1][0])
                        next[1][0] = point[0];
                    if (point[1] > next[1][1])
                        next[1][1] = point[1];
                }
                return next;
            };
            $mol_plot_graph.prototype.color = function () {
                return "hsl( " + this.hue() + " , 100% , 35% )";
            };
            $mol_plot_graph.prototype.front = function () {
                return [this];
            };
            return $mol_plot_graph;
        }($.$mol_plot_graph));
        __decorate([
            $.$mol_mem()
        ], $mol_plot_graph.prototype, "points_scaled", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_graph.prototype, "points", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_graph.prototype, "dimensions", null);
        $mol.$mol_plot_graph = $mol_plot_graph;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//graph.view.js.map
;
var $;
(function ($) {
    function $mol_math_round_expand(val, gap) {
        if (gap === void 0) { gap = 1; }
        if (val === 0)
            return 0;
        var val_abs = Math.abs(val);
        var val_sign = val ? Math.round(val / val_abs) : 0;
        var digits = Math.floor(Math.log(val_abs) / Math.log(10));
        var precission = Math.pow(10, digits - gap);
        var val_expanded = precission * Math.ceil(val_abs / precission);
        return val_sign * val_expanded;
    }
    $.$mol_math_round_expand = $mol_math_round_expand;
})($ || ($ = {}));
//expand.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_plot_ruler_vert = (function (_super) {
        __extends($mol_plot_ruler_vert, _super);
        function $mol_plot_ruler_vert() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_ruler_vert.prototype.front = function () {
            return [];
        };
        $mol_plot_ruler_vert.prototype.color = function () {
            return null;
        };
        $mol_plot_ruler_vert.prototype.curve = function () {
            return "";
        };
        $mol_plot_ruler_vert.prototype.Curve = function () {
            var _this = this;
            return new $.$mol_svg_path().setup(function (obj) {
                obj.geometry = function () { return _this.curve(); };
            });
        };
        $mol_plot_ruler_vert.prototype.labels = function () {
            return [];
        };
        $mol_plot_ruler_vert.prototype.title_pos_x = function () {
            return "36px";
        };
        $mol_plot_ruler_vert.prototype.title_pos_y = function () {
            return "14px";
        };
        $mol_plot_ruler_vert.prototype.title_pos = function () {
            return [].concat(this.title_pos_x(), this.title_pos_y());
        };
        $mol_plot_ruler_vert.prototype.Title = function () {
            var _this = this;
            return new $.$mol_svg_text().setup(function (obj) {
                obj.pos = function () { return _this.title_pos(); };
                obj.align = function () { return "end"; };
                obj.sub = function () { return [].concat(_this.title()); };
            });
        };
        $mol_plot_ruler_vert.prototype.sub = function () {
            return [].concat(this.Curve(), this.labels(), this.Title());
        };
        $mol_plot_ruler_vert.prototype.label_pos_x = function (index) {
            return this.title_pos_x();
        };
        $mol_plot_ruler_vert.prototype.label_pos_y = function (index) {
            return "";
        };
        $mol_plot_ruler_vert.prototype.label_pos = function (index) {
            return [].concat(this.label_pos_x(index), this.label_pos_y(index));
        };
        $mol_plot_ruler_vert.prototype.label_text = function (index) {
            return "";
        };
        $mol_plot_ruler_vert.prototype.Label = function (index) {
            var _this = this;
            return new $.$mol_svg_text().setup(function (obj) {
                obj.pos = function () { return _this.label_pos(index); };
                obj.align = function () { return "end"; };
                obj.text = function () { return _this.label_text(index); };
            });
        };
        return $mol_plot_ruler_vert;
    }($.$mol_plot_graph));
    __decorate([
        $.$mol_mem()
    ], $mol_plot_ruler_vert.prototype, "Curve", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_ruler_vert.prototype, "Title", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_plot_ruler_vert.prototype, "Label", null);
    $.$mol_plot_ruler_vert = $mol_plot_ruler_vert;
})($ || ($ = {}));
//vert.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_ruler_vert = (function (_super) {
            __extends($mol_plot_ruler_vert, _super);
            function $mol_plot_ruler_vert() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_ruler_vert.prototype.dimensions = function () {
                var series = this.series();
                var next = [
                    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],
                    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],
                ];
                for (var _i = 0, _a = Object.keys(series); _i < _a.length; _i++) {
                    var key = _a[_i];
                    if (series[key] < next[0][1])
                        next[0][1] = series[key];
                    if (series[key] > next[1][1])
                        next[1][1] = series[key];
                }
                return next;
            };
            $mol_plot_ruler_vert.prototype.step = function () {
                var dims = this.dimensions_expanded();
                var size = $.$mol_math_round_expand((dims[1][1] - dims[0][1]), -1);
                var count = Math.max(1, Math.pow(10, Math.floor(Math.log(-size * this.scale()[1] / 24) / Math.log(10))));
                var step = size / count;
                return step;
            };
            $mol_plot_ruler_vert.prototype.points_raw = function () {
                var dims = this.dimensions_expanded();
                var step = this.step();
                var next = [];
                var start = Math.round(dims[0][1] / step) * step;
                var end = Math.round(dims[1][1] / step) * step;
                for (var val = start; val <= end; val += step) {
                    next.push([0, Number(val.toFixed(10))]);
                }
                return next;
            };
            $mol_plot_ruler_vert.prototype.curve = function () {
                var shift = this.shift();
                var points = this.points();
                if (points.length < 1)
                    return '';
                var last = points[points.length - 1];
                return points.map(function (point) { return "M 0 " + point[1] + " H 2000 "; }).join(' ');
            };
            $mol_plot_ruler_vert.prototype.labels = function () {
                var _this = this;
                return this.points().map(function (point, index) { return _this.Label(index); });
            };
            $mol_plot_ruler_vert.prototype.label_pos_y = function (index) {
                return this.points()[index][1] + 'px';
            };
            $mol_plot_ruler_vert.prototype.label_text = function (index) {
                var step = this.step();
                var precision = Math.max(0, Math.min(15, (step - Math.floor(step)).toString().length - 2));
                return this.points_raw()[index][1].toFixed(precision);
            };
            $mol_plot_ruler_vert.prototype.back = function () {
                return [this];
            };
            return $mol_plot_ruler_vert;
        }($.$mol_plot_ruler_vert));
        __decorate([
            $.$mol_mem()
        ], $mol_plot_ruler_vert.prototype, "step", null);
        $mol.$mol_plot_ruler_vert = $mol_plot_ruler_vert;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//vert.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_plot_ruler_hor = (function (_super) {
        __extends($mol_plot_ruler_hor, _super);
        function $mol_plot_ruler_hor() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_ruler_hor.prototype.front = function () {
            return [];
        };
        $mol_plot_ruler_hor.prototype.color = function () {
            return null;
        };
        $mol_plot_ruler_hor.prototype.curve = function () {
            return "";
        };
        $mol_plot_ruler_hor.prototype.Curve = function () {
            var _this = this;
            return new $.$mol_svg_path().setup(function (obj) {
                obj.geometry = function () { return _this.curve(); };
            });
        };
        $mol_plot_ruler_hor.prototype.labels = function () {
            return [];
        };
        $mol_plot_ruler_hor.prototype.title_pos_x = function () {
            return "0";
        };
        $mol_plot_ruler_hor.prototype.title_pos_y = function () {
            return "100%";
        };
        $mol_plot_ruler_hor.prototype.title_pos = function () {
            return [].concat(this.title_pos_x(), this.title_pos_y());
        };
        $mol_plot_ruler_hor.prototype.Title = function () {
            var _this = this;
            return new $.$mol_svg_text().setup(function (obj) {
                obj.pos = function () { return _this.title_pos(); };
                obj.align = function () { return "start"; };
                obj.sub = function () { return [].concat(_this.title()); };
            });
        };
        $mol_plot_ruler_hor.prototype.sub = function () {
            return [].concat(this.Curve(), this.labels(), this.Title());
        };
        $mol_plot_ruler_hor.prototype.label_pos_x = function (index) {
            return "";
        };
        $mol_plot_ruler_hor.prototype.label_pos_y = function (index) {
            return this.title_pos_y();
        };
        $mol_plot_ruler_hor.prototype.label_pos = function (index) {
            return [].concat(this.label_pos_x(index), this.label_pos_y(index));
        };
        $mol_plot_ruler_hor.prototype.label_text = function (index) {
            return "";
        };
        $mol_plot_ruler_hor.prototype.Label = function (index) {
            var _this = this;
            return new $.$mol_svg_text().setup(function (obj) {
                obj.pos = function () { return _this.label_pos(index); };
                obj.text = function () { return _this.label_text(index); };
            });
        };
        return $mol_plot_ruler_hor;
    }($.$mol_plot_graph));
    __decorate([
        $.$mol_mem()
    ], $mol_plot_ruler_hor.prototype, "Curve", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_ruler_hor.prototype, "Title", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_plot_ruler_hor.prototype, "Label", null);
    $.$mol_plot_ruler_hor = $mol_plot_ruler_hor;
})($ || ($ = {}));
//hor.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_ruler_hor = (function (_super) {
            __extends($mol_plot_ruler_hor, _super);
            function $mol_plot_ruler_hor() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_ruler_hor.prototype.count = function () {
                return this.points_raw().length * this.scale()[0] / 100;
            };
            $mol_plot_ruler_hor.prototype.step = function () {
                var count = this.count();
                var points = this.points_scaled();
                var step = Math.max(1, Math.ceil(points.length / count));
                return step;
            };
            $mol_plot_ruler_hor.prototype.keys_visible = function () {
                var res = [];
                var keys = Object.keys(this.series());
                if (keys.length === 0)
                    return [];
                var step = this.step();
                var limit = Math.floor(keys.length - step / 2);
                for (var i = 0; i < limit; i += step) {
                    res.push(keys[i]);
                }
                res.push(keys[keys.length - 1]);
                return res;
            };
            $mol_plot_ruler_hor.prototype.points = function () {
                var points = this.points_scaled();
                var keys = Object.keys(this.series());
                return this.keys_visible().map(function (key) { return points[keys.indexOf(key)]; });
            };
            $mol_plot_ruler_hor.prototype.curve = function () {
                var shift = this.shift();
                var points = this.points();
                if (points.length < 1)
                    return '';
                var last = points[points.length - 1];
                return points.map(function (point) { return "M " + point[0] + " 1000 V 0"; }).join(' ');
            };
            $mol_plot_ruler_hor.prototype.labels = function () {
                var _this = this;
                return this.keys_visible().map(function (key) { return _this.Label(key); });
            };
            $mol_plot_ruler_hor.prototype.label_pos_x = function (key) {
                return String(this.points()[this.keys_visible().indexOf(key)][0]);
            };
            $mol_plot_ruler_hor.prototype.label_text = function (key) {
                return key;
            };
            $mol_plot_ruler_hor.prototype.back = function () {
                return [this];
            };
            return $mol_plot_ruler_hor;
        }($.$mol_plot_ruler_hor));
        __decorate([
            $.$mol_mem()
        ], $mol_plot_ruler_hor.prototype, "step", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_ruler_hor.prototype, "keys_visible", null);
        $mol.$mol_plot_ruler_hor = $mol_plot_ruler_hor;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//hor.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_meter = (function (_super) {
        __extends($mol_meter, _super);
        function $mol_meter() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_meter.prototype.width = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_meter.prototype.height = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_meter.prototype.left = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_meter.prototype.right = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_meter.prototype.bottom = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_meter.prototype.top = function (val) {
            return (val !== void 0) ? val : 0;
        };
        return $mol_meter;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_meter.prototype, "width", null);
    __decorate([
        $.$mol_mem()
    ], $mol_meter.prototype, "height", null);
    __decorate([
        $.$mol_mem()
    ], $mol_meter.prototype, "left", null);
    __decorate([
        $.$mol_mem()
    ], $mol_meter.prototype, "right", null);
    __decorate([
        $.$mol_mem()
    ], $mol_meter.prototype, "bottom", null);
    __decorate([
        $.$mol_mem()
    ], $mol_meter.prototype, "top", null);
    $.$mol_meter = $mol_meter;
})($ || ($ = {}));
//meter.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_meter = (function (_super) {
            __extends($mol_meter, _super);
            function $mol_meter() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this._request_id = 0;
                return _this;
            }
            $mol_meter.prototype.defer_task = function () {
                var _this = this;
                this._request_id = requestAnimationFrame(function () { return _this.update(); });
            };
            $mol_meter.prototype.update = function () {
                var elem = this.render();
                var rect = elem.getBoundingClientRect();
                this.width(Math.round(rect.width));
                this.height(Math.round(rect.height));
                this.top(rect.top);
                this.bottom(rect.bottom);
                this.left(rect.left);
                this.right(rect.right);
                this.defer_task();
            };
            $mol_meter.prototype.destroyed = function (next) {
                if (next)
                    cancelAnimationFrame(this._request_id);
                return _super.prototype.destroyed.call(this, next);
            };
            $mol_meter.prototype.width = function (val) {
                var _this = this;
                if (val !== void 0)
                    return val;
                if (this.render().tagName === 'BODY')
                    return $.$mol_window.size().width;
                new $.$mol_defer(function () { return _this.update(); });
                return 0;
            };
            $mol_meter.prototype.height = function (val) {
                var _this = this;
                if (val !== void 0)
                    return val;
                if (this.render().tagName === 'BODY')
                    return $.$mol_window.size().height;
                new $.$mol_defer(function () { return _this.update(); });
                return 0;
            };
            return $mol_meter;
        }($.$mol_meter));
        __decorate([
            $.$mol_mem()
        ], $mol_meter.prototype, "width", null);
        __decorate([
            $.$mol_mem()
        ], $mol_meter.prototype, "height", null);
        $mol.$mol_meter = $mol_meter;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//meter.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_plot_pane = (function (_super) {
        __extends($mol_plot_pane, _super);
        function $mol_plot_pane() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_pane.prototype.aspect = function () {
            return "none";
        };
        $mol_plot_pane.prototype.hue_base = function (val) {
            return (val !== void 0) ? val : 140;
        };
        $mol_plot_pane.prototype.hue_shift = function (val) {
            return (val !== void 0) ? val : 111;
        };
        $mol_plot_pane.prototype.gap = function () {
            return 24;
        };
        $mol_plot_pane.prototype.gap_hor = function () {
            return this.gap();
        };
        $mol_plot_pane.prototype.gap_vert = function () {
            return this.gap();
        };
        $mol_plot_pane.prototype.gap_left = function () {
            return this.gap_hor();
        };
        $mol_plot_pane.prototype.gap_right = function () {
            return this.gap_hor();
        };
        $mol_plot_pane.prototype.gap_top = function () {
            return this.gap_vert();
        };
        $mol_plot_pane.prototype.gap_bottom = function () {
            return this.gap_vert();
        };
        $mol_plot_pane.prototype.shift = function () {
            return [].concat(0, 0);
        };
        $mol_plot_pane.prototype.scale = function () {
            return [].concat(1, 1);
        };
        $mol_plot_pane.prototype.graphs = function () {
            return [];
        };
        $mol_plot_pane.prototype.graphs_positioned = function () {
            return this.graphs();
        };
        $mol_plot_pane.prototype.graphs_colored = function () {
            return this.graphs_positioned();
        };
        $mol_plot_pane.prototype.graphs_sorted = function () {
            return this.graphs_colored();
        };
        $mol_plot_pane.prototype.sub = function () {
            return this.graphs_sorted();
        };
        $mol_plot_pane.prototype.width = function () {
            return this.Meter().width();
        };
        $mol_plot_pane.prototype.height = function () {
            return this.Meter().height();
        };
        $mol_plot_pane.prototype.Meter = function () {
            return new $.$mol_meter();
        };
        $mol_plot_pane.prototype.plugins = function () {
            return [].concat(this.Meter());
        };
        return $mol_plot_pane;
    }($.$mol_svg_root));
    __decorate([
        $.$mol_mem()
    ], $mol_plot_pane.prototype, "hue_base", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_pane.prototype, "hue_shift", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_pane.prototype, "Meter", null);
    $.$mol_plot_pane = $mol_plot_pane;
})($ || ($ = {}));
//pane.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_pane = (function (_super) {
            __extends($mol_plot_pane, _super);
            function $mol_plot_pane() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_pane.prototype.dimensions = function () {
                var graphs = this.graphs();
                var next = [
                    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],
                    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],
                ];
                for (var _i = 0, graphs_1 = graphs; _i < graphs_1.length; _i++) {
                    var graph = graphs_1[_i];
                    var dims = graph.dimensions();
                    if (dims[0][0] < next[0][0])
                        next[0][0] = dims[0][0];
                    if (dims[0][1] < next[0][1])
                        next[0][1] = dims[0][1];
                    if (dims[1][0] > next[1][0])
                        next[1][0] = dims[1][0];
                    if (dims[1][1] > next[1][1])
                        next[1][1] = dims[1][1];
                }
                return next;
            };
            $mol_plot_pane.prototype.size = function () {
                var dims = this.dimensions();
                return [
                    (dims[1][0] - dims[0][0]) || 1,
                    (dims[1][1] - dims[0][1]) || 1,
                ];
            };
            $mol_plot_pane.prototype.dimensions_expanded = function () {
                var dims = this.dimensions();
                var size = this.size();
                var gap = [0, 0];
                return [
                    [dims[0][0] - size[0] * gap[0], dims[0][1] - size[1] * gap[1]],
                    [dims[1][0] + size[0] * gap[0], dims[1][1] + size[1] * gap[1]],
                ];
            };
            $mol_plot_pane.prototype.size_expaned = function () {
                var dims = this.dimensions_expanded();
                return [
                    (dims[1][0] - dims[0][0]) || 1,
                    (dims[1][1] - dims[0][1]) || 1,
                ];
            };
            $mol_plot_pane.prototype.graph_hue = function (index) {
                return (360 + (this.hue_base() + this.hue_shift() * index) % 360) % 360;
            };
            $mol_plot_pane.prototype.graphs_colored = function () {
                var _this = this;
                var graphs = this.graphs_positioned();
                graphs.forEach(function (graph, index) {
                    graph.hue = function () { return _this.graph_hue(index); };
                });
                return graphs;
            };
            $mol_plot_pane.prototype.size_real = function () {
                return [this.width(), this.height()];
            };
            $mol_plot_pane.prototype.view_box = function () {
                var size = this.size_real();
                return "0 0 " + size[0] + " " + size[1];
            };
            $mol_plot_pane.prototype.scale = function () {
                var size = this.size_expaned();
                var real = this.size_real();
                return [
                    +(real[0] - this.gap_left() - this.gap_right()) / size[0],
                    -(real[1] - this.gap_top() - this.gap_bottom()) / size[1],
                ];
            };
            $mol_plot_pane.prototype.shift = function () {
                var dims = this.dimensions_expanded();
                var scale = this.scale();
                return [
                    Math.round(this.gap_left() - dims[0][0] * scale[0]),
                    Math.round(this.gap_top() - dims[1][1] * scale[1]),
                ];
            };
            $mol_plot_pane.prototype.graphs_positioned = function () {
                var _this = this;
                var graphs = this.graphs();
                graphs.forEach(function (graph, index) {
                    graph.shift = function () { return _this.shift(); };
                    graph.scale = function () { return _this.scale(); };
                    graph.dimensions_expanded = function () { return _this.dimensions_expanded(); };
                });
                return graphs;
            };
            $mol_plot_pane.prototype.graphs_sorted = function () {
                var graphs = this.graphs_colored();
                var sorted = [];
                for (var _i = 0, graphs_2 = graphs; _i < graphs_2.length; _i++) {
                    var graph = graphs_2[_i];
                    sorted.push.apply(sorted, graph.back());
                }
                for (var _a = 0, graphs_3 = graphs; _a < graphs_3.length; _a++) {
                    var graph = graphs_3[_a];
                    sorted.push.apply(sorted, graph.front());
                }
                return sorted;
            };
            return $mol_plot_pane;
        }($.$mol_plot_pane));
        __decorate([
            $.$mol_mem()
        ], $mol_plot_pane.prototype, "dimensions", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_pane.prototype, "size", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_pane.prototype, "dimensions_expanded", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_pane.prototype, "size_expaned", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_pane.prototype, "graphs_colored", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_pane.prototype, "scale", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_pane.prototype, "shift", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_pane.prototype, "graphs_positioned", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_pane.prototype, "graphs_sorted", null);
        $mol.$mol_plot_pane = $mol_plot_pane;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//pane.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_chart = (function (_super) {
        __extends($mol_chart, _super);
        function $mol_chart() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_chart.prototype.graphs = function () {
            return [];
        };
        $mol_chart.prototype.Plot = function () {
            var _this = this;
            return new $.$mol_plot_pane().setup(function (obj) {
                obj.graphs = function () { return _this.graphs(); };
                obj.gap_hor = function () { return 48; };
                obj.gap_vert = function () { return 24; };
            });
        };
        $mol_chart.prototype.Legend = function () {
            var _this = this;
            return new $.$mol_chart_legend().setup(function (obj) {
                obj.graphs = function () { return _this.graphs(); };
            });
        };
        $mol_chart.prototype.sub = function () {
            return [].concat(this.Plot(), this.Legend());
        };
        return $mol_chart;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_chart.prototype, "Plot", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart.prototype, "Legend", null);
    $.$mol_chart = $mol_chart;
})($ || ($ = {}));
//chart.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_chart_legend = (function (_super) {
        __extends($mol_chart_legend, _super);
        function $mol_chart_legend() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_chart_legend.prototype.graphs = function () {
            return [];
        };
        $mol_chart_legend.prototype.graph_legends = function () {
            return [];
        };
        $mol_chart_legend.prototype.sub = function () {
            return this.graph_legends();
        };
        $mol_chart_legend.prototype.Graph_sample = function (id) {
            return null;
        };
        $mol_chart_legend.prototype.graph_title = function (id) {
            return "";
        };
        $mol_chart_legend.prototype.Graph_title = function (id) {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.graph_title(id)); };
            });
        };
        $mol_chart_legend.prototype.Graph_legend = function (id) {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Graph_sample(id), _this.Graph_title(id)); };
            });
        };
        return $mol_chart_legend;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem_key()
    ], $mol_chart_legend.prototype, "Graph_title", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_chart_legend.prototype, "Graph_legend", null);
    $.$mol_chart_legend = $mol_chart_legend;
})($ || ($ = {}));
//legend.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_chart_legend = (function (_super) {
            __extends($mol_chart_legend, _super);
            function $mol_chart_legend() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_chart_legend.prototype.graphs_front = function () {
                return this.graphs().filter(function (graph) { return graph.Sample(); });
            };
            $mol_chart_legend.prototype.graph_legends = function () {
                var _this = this;
                return this.graphs_front().map(function (graph, index) { return _this.Graph_legend(index); });
            };
            $mol_chart_legend.prototype.graph_title = function (index) {
                return this.graphs_front()[index].title();
            };
            $mol_chart_legend.prototype.Graph_sample = function (index) {
                return this.graphs_front()[index].Sample();
            };
            return $mol_chart_legend;
        }($.$mol_chart_legend));
        __decorate([
            $.$mol_mem()
        ], $mol_chart_legend.prototype, "graphs_front", null);
        $mol.$mol_chart_legend = $mol_chart_legend;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//legend.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_plot_bar = (function (_super) {
        __extends($mol_plot_bar, _super);
        function $mol_plot_bar() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_bar.prototype.stroke_width = function () {
            return "1rem";
        };
        $mol_plot_bar.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "stroke-width": this.stroke_width() }));
        };
        $mol_plot_bar.prototype.curve = function () {
            return "";
        };
        $mol_plot_bar.prototype.Curve = function () {
            var _this = this;
            return new $.$mol_svg_path().setup(function (obj) {
                obj.geometry = function () { return _this.curve(); };
            });
        };
        $mol_plot_bar.prototype.sub = function () {
            return [].concat(this.Curve());
        };
        $mol_plot_bar.prototype.Sample = function () {
            var _this = this;
            return new $.$mol_plot_graph_sample().setup(function (obj) {
                obj.color = function () { return _this.color(); };
            });
        };
        return $mol_plot_bar;
    }($.$mol_plot_graph));
    __decorate([
        $.$mol_mem()
    ], $mol_plot_bar.prototype, "Curve", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_bar.prototype, "Sample", null);
    $.$mol_plot_bar = $mol_plot_bar;
})($ || ($ = {}));
//bar.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_bar = (function (_super) {
            __extends($mol_plot_bar, _super);
            function $mol_plot_bar() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_bar.prototype.curve = function () {
                var shift = this.shift();
                var points = this.points();
                if (points.length < 1)
                    return '';
                return points.map(function (point) { return "M " + point[0] + " " + shift[1] + " V " + point[1]; }).join(' ');
            };
            $mol_plot_bar.prototype.stroke_width = function () {
                return (8 / Math.sqrt(this.points().length)).toPrecision(2) + '%';
            };
            $mol_plot_bar.prototype.color = function () {
                return "hsl( " + this.hue() + " , 70% , 85% )";
            };
            $mol_plot_bar.prototype.dimensions = function () {
                var points = this.points_raw();
                var next = [
                    [Number.POSITIVE_INFINITY, 0],
                    [Number.NEGATIVE_INFINITY, 0],
                ];
                for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {
                    var point = points_1[_i];
                    if (point[0] < next[0][0])
                        next[0][0] = point[0];
                    if (point[1] < next[0][1])
                        next[0][1] = point[1];
                    if (point[0] > next[1][0])
                        next[1][0] = point[0];
                    if (point[1] > next[1][1])
                        next[1][1] = point[1];
                }
                var gap = (next[1][0] - next[0][0]) / points.length || 0.00000001;
                next[0][0] -= gap;
                next[1][0] += gap;
                return next;
            };
            return $mol_plot_bar;
        }($.$mol_plot_bar));
        __decorate([
            $.$mol_mem()
        ], $mol_plot_bar.prototype, "dimensions", null);
        $mol.$mol_plot_bar = $mol_plot_bar;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//bar.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_bench_chart_bar_mol = (function (_super) {
        __extends($mol_app_bench_chart_bar_mol, _super);
        function $mol_app_bench_chart_bar_mol() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_bench_chart_bar_mol.prototype.Vert = function () {
            return new $.$mol_plot_ruler_vert().setup(function (obj) {
                obj.title = function () { return "Val"; };
            });
        };
        $mol_app_bench_chart_bar_mol.prototype.hor_series = function () {
            return [];
        };
        $mol_app_bench_chart_bar_mol.prototype.Hor = function () {
            var _this = this;
            return new $.$mol_plot_ruler_hor().setup(function (obj) {
                obj.title = function () { return "Iter"; };
                obj.series = function () { return _this.hor_series(); };
            });
        };
        $mol_app_bench_chart_bar_mol.prototype.graphs = function () {
            return [];
        };
        $mol_app_bench_chart_bar_mol.prototype.Chart = function () {
            var _this = this;
            return new $.$mol_chart().setup(function (obj) {
                obj.graphs = function () { return [].concat(_this.Vert(), _this.Hor(), _this.graphs()); };
            });
        };
        $mol_app_bench_chart_bar_mol.prototype.sub = function () {
            return [].concat(this.Chart());
        };
        $mol_app_bench_chart_bar_mol.prototype.graph_title = function (id) {
            return "";
        };
        $mol_app_bench_chart_bar_mol.prototype.series = function (id) {
            return [];
        };
        $mol_app_bench_chart_bar_mol.prototype.Graph = function (id) {
            var _this = this;
            return new $.$mol_plot_bar().setup(function (obj) {
                obj.title = function () { return _this.graph_title(id); };
                obj.series = function () { return _this.series(id); };
            });
        };
        return $mol_app_bench_chart_bar_mol;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_chart_bar_mol.prototype, "Vert", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_chart_bar_mol.prototype, "Hor", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_chart_bar_mol.prototype, "Chart", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_bench_chart_bar_mol.prototype, "Graph", null);
    $.$mol_app_bench_chart_bar_mol = $mol_app_bench_chart_bar_mol;
})($ || ($ = {}));
//mol.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_bench_chart_bar_mol = (function (_super) {
            __extends($mol_app_bench_chart_bar_mol, _super);
            function $mol_app_bench_chart_bar_mol() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_bench_chart_bar_mol.data = function (next, force) {
                var _this = this;
                window.addEventListener('message', function (event) {
                    switch (event.data[0]) {
                        case 'fill':
                        case 'update':
                            _this.data(event.data[1], $.$mol_atom_force);
                            break;
                    }
                });
                return { sample: '', graphs: [] };
            };
            $mol_app_bench_chart_bar_mol.prototype.graphs = function () {
                var _this = this;
                return $mol_app_bench_chart_bar_mol.data().graphs.map(function (g, i) { return _this.Graph(i); });
            };
            $mol_app_bench_chart_bar_mol.prototype.graph_title = function (id) {
                return "Graph #" + id;
            };
            $mol_app_bench_chart_bar_mol.prototype.series = function (id) {
                return $mol_app_bench_chart_bar_mol.data().graphs[id];
            };
            $mol_app_bench_chart_bar_mol.prototype.hor_series = function () {
                return this.series(0) || [];
            };
            return $mol_app_bench_chart_bar_mol;
        }($.$mol_app_bench_chart_bar_mol));
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench_chart_bar_mol, "data", null);
        $mol.$mol_app_bench_chart_bar_mol = $mol_app_bench_chart_bar_mol;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//mol.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_plot_line = (function (_super) {
        __extends($mol_plot_line, _super);
        function $mol_plot_line() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_line.prototype.color_fill = function () {
            return "none";
        };
        $mol_plot_line.prototype.curve = function () {
            return "";
        };
        $mol_plot_line.prototype.Curve = function () {
            var _this = this;
            return new $.$mol_svg_path().setup(function (obj) {
                obj.geometry = function () { return _this.curve(); };
            });
        };
        $mol_plot_line.prototype.sub = function () {
            return [].concat(this.Curve());
        };
        $mol_plot_line.prototype.Sample = function () {
            var _this = this;
            return new $.$mol_plot_graph_sample().setup(function (obj) {
                obj.color = function () { return _this.color(); };
                obj.type = function () { return _this.type(); };
            });
        };
        return $mol_plot_line;
    }($.$mol_plot_graph));
    __decorate([
        $.$mol_mem()
    ], $mol_plot_line.prototype, "Curve", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_line.prototype, "Sample", null);
    $.$mol_plot_line = $mol_plot_line;
})($ || ($ = {}));
//line.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_line = (function (_super) {
            __extends($mol_plot_line, _super);
            function $mol_plot_line() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_line.prototype.curve = function () {
                var points = this.points();
                if (points.length < 1)
                    return '';
                return 'M ' + points[0].join(' ') + ' ' + points.map(function (point) { return 'L ' + point.join(' '); }).join(' ');
            };
            return $mol_plot_line;
        }($.$mol_plot_line));
        $mol.$mol_plot_line = $mol_plot_line;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//line.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_plot_dot = (function (_super) {
        __extends($mol_plot_dot, _super);
        function $mol_plot_dot() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_dot.prototype.curve = function () {
            return "";
        };
        $mol_plot_dot.prototype.Curve = function () {
            var _this = this;
            return new $.$mol_svg_path().setup(function (obj) {
                obj.geometry = function () { return _this.curve(); };
            });
        };
        $mol_plot_dot.prototype.sub = function () {
            return [].concat(this.Curve());
        };
        $mol_plot_dot.prototype.Sample = function () {
            var _this = this;
            return new $.$mol_plot_graph_sample().setup(function (obj) {
                obj.color = function () { return _this.color(); };
            });
        };
        return $mol_plot_dot;
    }($.$mol_plot_graph));
    __decorate([
        $.$mol_mem()
    ], $mol_plot_dot.prototype, "Curve", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_dot.prototype, "Sample", null);
    $.$mol_plot_dot = $mol_plot_dot;
})($ || ($ = {}));
//dot.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_dot = (function (_super) {
            __extends($mol_plot_dot, _super);
            function $mol_plot_dot() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_dot.prototype.curve = function () {
                var points = this.points();
                if (points.length < 1)
                    return '';
                return points.map(function (point) { return 'M ' + point.join(' ') + ' v 0'; }).join(' ');
            };
            return $mol_plot_dot;
        }($.$mol_plot_dot));
        $mol.$mol_plot_dot = $mol_plot_dot;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//dot.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_plot_group = (function (_super) {
        __extends($mol_plot_group, _super);
        function $mol_plot_group() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_group.prototype.graphs = function () {
            return [];
        };
        $mol_plot_group.prototype.graphs_enriched = function () {
            return this.graphs();
        };
        $mol_plot_group.prototype.sub = function () {
            return this.graphs_enriched();
        };
        $mol_plot_group.prototype.graph_samples = function () {
            return [];
        };
        $mol_plot_group.prototype.Sample = function () {
            var _this = this;
            return new $.$mol_plot_graph_sample().setup(function (obj) {
                obj.sub = function () { return _this.graph_samples(); };
            });
        };
        return $mol_plot_group;
    }($.$mol_plot_graph));
    __decorate([
        $.$mol_mem()
    ], $mol_plot_group.prototype, "Sample", null);
    $.$mol_plot_group = $mol_plot_group;
})($ || ($ = {}));
//group.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_group = (function (_super) {
            __extends($mol_plot_group, _super);
            function $mol_plot_group() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_group.prototype.graphs_enriched = function () {
                var _this = this;
                var graphs = this.graphs();
                for (var _i = 0, graphs_1 = graphs; _i < graphs_1.length; _i++) {
                    var graph = graphs_1[_i];
                    graph.hue = function () { return _this.hue(); };
                    graph.points = function () { return _this.points(); };
                    graph.shift = function () { return _this.shift(); };
                    graph.scale = function () { return _this.scale(); };
                    graph.dimensions_expanded = function () { return _this.dimensions_expanded(); };
                }
                return graphs;
            };
            $mol_plot_group.prototype.graph_samples = function () {
                return this.graphs().map(function (graph) { return graph.Sample(); });
            };
            $mol_plot_group.prototype.back = function () {
                var graphs = this.graphs_enriched();
                var next = [];
                for (var _i = 0, graphs_2 = graphs; _i < graphs_2.length; _i++) {
                    var graph = graphs_2[_i];
                    next.push.apply(next, graph.back());
                }
                return next;
            };
            $mol_plot_group.prototype.front = function () {
                var graphs = this.graphs_enriched();
                var next = [];
                for (var _i = 0, graphs_3 = graphs; _i < graphs_3.length; _i++) {
                    var graph = graphs_3[_i];
                    next.push.apply(next, graph.front());
                }
                return next;
            };
            return $mol_plot_group;
        }($.$mol_plot_group));
        __decorate([
            $.$mol_mem()
        ], $mol_plot_group.prototype, "graphs_enriched", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_group.prototype, "graph_samples", null);
        $mol.$mol_plot_group = $mol_plot_group;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//group.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_bench_chart_rope_mol = (function (_super) {
        __extends($mol_app_bench_chart_rope_mol, _super);
        function $mol_app_bench_chart_rope_mol() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_bench_chart_rope_mol.prototype.Vert = function () {
            return new $.$mol_plot_ruler_vert().setup(function (obj) {
                obj.title = function () { return "Val"; };
            });
        };
        $mol_app_bench_chart_rope_mol.prototype.hor_series = function () {
            return [];
        };
        $mol_app_bench_chart_rope_mol.prototype.Hor = function () {
            var _this = this;
            return new $.$mol_plot_ruler_hor().setup(function (obj) {
                obj.title = function () { return "Iter"; };
                obj.series = function () { return _this.hor_series(); };
            });
        };
        $mol_app_bench_chart_rope_mol.prototype.graphs = function () {
            return [];
        };
        $mol_app_bench_chart_rope_mol.prototype.Chart = function () {
            var _this = this;
            return new $.$mol_chart().setup(function (obj) {
                obj.graphs = function () { return [].concat(_this.Vert(), _this.Hor(), _this.graphs()); };
            });
        };
        $mol_app_bench_chart_rope_mol.prototype.sub = function () {
            return [].concat(this.Chart());
        };
        $mol_app_bench_chart_rope_mol.prototype.graph_title = function (id) {
            return "";
        };
        $mol_app_bench_chart_rope_mol.prototype.series = function (id) {
            return [];
        };
        $mol_app_bench_chart_rope_mol.prototype.Line = function (id) {
            return new $.$mol_plot_line();
        };
        $mol_app_bench_chart_rope_mol.prototype.Dots = function (id) {
            return new $.$mol_plot_dot();
        };
        $mol_app_bench_chart_rope_mol.prototype.Graph = function (id) {
            var _this = this;
            return new $.$mol_plot_group().setup(function (obj) {
                obj.title = function () { return _this.graph_title(id); };
                obj.series = function () { return _this.series(id); };
                obj.graphs = function () { return [].concat(_this.Line(id), _this.Dots(id)); };
            });
        };
        return $mol_app_bench_chart_rope_mol;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_chart_rope_mol.prototype, "Vert", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_chart_rope_mol.prototype, "Hor", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_chart_rope_mol.prototype, "Chart", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_bench_chart_rope_mol.prototype, "Line", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_bench_chart_rope_mol.prototype, "Dots", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_bench_chart_rope_mol.prototype, "Graph", null);
    $.$mol_app_bench_chart_rope_mol = $mol_app_bench_chart_rope_mol;
})($ || ($ = {}));
//mol.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_bench_chart_rope_mol = (function (_super) {
            __extends($mol_app_bench_chart_rope_mol, _super);
            function $mol_app_bench_chart_rope_mol() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_bench_chart_rope_mol.data = function (next, force) {
                var _this = this;
                window.addEventListener('message', function (event) {
                    switch (event.data[0]) {
                        case 'fill':
                        case 'update':
                            _this.data(event.data[1], $.$mol_atom_force);
                            break;
                    }
                });
                return { sample: '', graphs: [] };
            };
            $mol_app_bench_chart_rope_mol.prototype.graphs = function () {
                var _this = this;
                return $mol_app_bench_chart_rope_mol.data().graphs.map(function (g, i) { return _this.Graph(i); });
            };
            $mol_app_bench_chart_rope_mol.prototype.graph_title = function (id) {
                return "Graph #" + id;
            };
            $mol_app_bench_chart_rope_mol.prototype.series = function (id) {
                return $mol_app_bench_chart_rope_mol.data().graphs[id];
            };
            $mol_app_bench_chart_rope_mol.prototype.hor_series = function () {
                return this.series(0) || [];
            };
            return $mol_app_bench_chart_rope_mol;
        }($.$mol_app_bench_chart_rope_mol));
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench_chart_rope_mol, "data", null);
        $mol.$mol_app_bench_chart_rope_mol = $mol_app_bench_chart_rope_mol;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//mol.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_bench_list_mol = (function (_super) {
        __extends($mol_app_bench_list_mol, _super);
        function $mol_app_bench_list_mol() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_bench_list_mol.prototype.sample = function () {
            return "";
        };
        $mol_app_bench_list_mol.prototype.Head = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.sample()); };
            });
        };
        $mol_app_bench_list_mol.prototype.rows = function () {
            return [];
        };
        $mol_app_bench_list_mol.prototype.List = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return [].concat(_this.Head(), _this.rows()); };
            });
        };
        $mol_app_bench_list_mol.prototype.sub = function () {
            return [].concat(this.List());
        };
        $mol_app_bench_list_mol.prototype.row_selected = function (id, val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_bench_list_mol.prototype.row_title = function (id) {
            return "";
        };
        $mol_app_bench_list_mol.prototype.row_content = function (id) {
            return "";
        };
        $mol_app_bench_list_mol.prototype.Row = function (id) {
            var _this = this;
            return new $.$mol_app_bench_list_mol_row().setup(function (obj) {
                obj.checked = function (val) { return _this.row_selected(id, val); };
                obj.title = function () { return _this.row_title(id); };
                obj.content = function () { return _this.row_content(id); };
            });
        };
        return $mol_app_bench_list_mol;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_list_mol.prototype, "Head", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_list_mol.prototype, "List", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_bench_list_mol.prototype, "row_selected", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_bench_list_mol.prototype, "Row", null);
    $.$mol_app_bench_list_mol = $mol_app_bench_list_mol;
})($ || ($ = {}));
(function ($) {
    var $mol_app_bench_list_mol_row = (function (_super) {
        __extends($mol_app_bench_list_mol_row, _super);
        function $mol_app_bench_list_mol_row() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_bench_list_mol_row.prototype.selected = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_bench_list_mol_row.prototype.minimal_height = function () {
            return 56;
        };
        $mol_app_bench_list_mol_row.prototype.title = function () {
            return "";
        };
        $mol_app_bench_list_mol_row.prototype.Title = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.title()); };
            });
        };
        $mol_app_bench_list_mol_row.prototype.content = function () {
            return "";
        };
        $mol_app_bench_list_mol_row.prototype.Content = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.content()); };
            });
        };
        $mol_app_bench_list_mol_row.prototype.sub = function () {
            return [].concat(this.Title(), this.Content());
        };
        return $mol_app_bench_list_mol_row;
    }($.$mol_check));
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_list_mol_row.prototype, "selected", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_list_mol_row.prototype, "Title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_bench_list_mol_row.prototype, "Content", null);
    $.$mol_app_bench_list_mol_row = $mol_app_bench_list_mol_row;
})($ || ($ = {}));
//mol.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_bench_list_mol = (function (_super) {
            __extends($mol_app_bench_list_mol, _super);
            function $mol_app_bench_list_mol() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_bench_list_mol.data = function (next, force) {
                var _this = this;
                window.addEventListener('message', function (event) {
                    if (event.data[0] !== 'set data')
                        return;
                    _this.data(event.data[1], $.$mol_atom_force);
                });
                return { sample: '', items: [] };
            };
            $mol_app_bench_list_mol.prototype.sample = function () {
                return $mol_app_bench_list_mol.data().sample;
            };
            $mol_app_bench_list_mol.prototype.items = function () {
                return $mol_app_bench_list_mol.data().items;
            };
            $mol_app_bench_list_mol.prototype.rows = function () {
                var _this = this;
                return this.items().map(function (row, id) { return _this.Row(id); });
            };
            $mol_app_bench_list_mol.prototype.row_title = function (id) {
                return this.items()[id].title;
            };
            $mol_app_bench_list_mol.prototype.row_content = function (id) {
                return this.items()[id].content;
            };
            $mol_app_bench_list_mol.prototype.row_selected = function (id, next) {
                if (next !== void 0)
                    this.selected_id(next ? id : null);
                return this.selected_id() === id;
            };
            $mol_app_bench_list_mol.prototype.selected_id = function (next) {
                this.items();
                if (next === void 0)
                    return null;
                return next;
            };
            return $mol_app_bench_list_mol;
        }($.$mol_app_bench_list_mol));
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench_list_mol.prototype, "rows", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_bench_list_mol.prototype, "row_title", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_bench_list_mol.prototype, "row_content", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench_list_mol.prototype, "selected_id", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_bench_list_mol, "data", null);
        $mol.$mol_app_bench_list_mol = $mol_app_bench_list_mol;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//mol.view.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'Make empty div': function () {
            $.$mol_assert_equal(($.$mol_dom_jsx("div", null)).outerHTML, '<div></div>');
        },
        'Make input with id and value': function () {
            var dom = $.$mol_dom_jsx("input", { id: "$mol_dom_make_test", value: 123 });
            $.$mol_assert_equal(dom.outerHTML, '<input id="$mol_dom_make_test">');
            $.$mol_assert_equal(dom.value, '123');
        },
        'Make content': function () {
            var id = '$mol_dom_make_test';
            var dom = $.$mol_dom_jsx("div", null,
                "hello",
                $.$mol_dom_jsx("strong", null, "world"),
                "!");
            $.$mol_assert_equal(dom.outerHTML, '<div>' +
                'hello' +
                '<strong>world</strong>' +
                '!' +
                '</div>');
        },
        'Make to exists element': function () {
            var dom1 = $.$mol_dom_jsx("div", { id: "$mol_dom_make_test" });
            $.$mol_dom_context.document.body.appendChild(dom1);
            var dom2 = $.$mol_dom_jsx("div", { id: "$mol_dom_make_test" }, "hello");
            $.$mol_dom_context.document.body.removeChild(dom1);
            $.$mol_assert_equal(dom1, dom2);
            $.$mol_assert_equal(dom1.outerHTML, '<div id="$mol_dom_make_test">hello</div>');
        },
        'Make by another dom element': function () {
            var dom1 = $.$mol_dom_jsx("div", { className: "hello" }, "world");
            var dom2 = $.$mol_dom_jsx("div", { className: dom1.className, childNodes: dom1.childNodes });
            $.$mol_assert_equal(dom2.outerHTML, '<div class="hello">world</div>');
        },
    });
})($ || ($ = {}));
//jsx.test.js.map
;
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var $;
(function ($) {
    function $mol_dom_jsx(localName, props) {
        var childNodes = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            childNodes[_i - 2] = arguments[_i];
        }
        var config = __assign({ localName: localName, childNodes: [].concat.apply([], childNodes) }, props);
        return $.$mol_dom_make(config);
    }
    $.$mol_dom_jsx = $mol_dom_jsx;
})($ || ($ = {}));
//jsx.js.map
;
var $;
(function ($) {
    var $mol_app_bench_list_tsx = (function () {
        function $mol_app_bench_list_tsx() {
        }
        $mol_app_bench_list_tsx.onClick = function (item, event) {
            this.selected = item.id;
            this.render();
        };
        $mol_app_bench_list_tsx.render = function () {
            var _this = this;
            return ($.$mol_dom_jsx("div", { id: "list", className: "list" },
                $.$mol_dom_jsx("div", { id: "list-header", className: "list-header" }, this.data.sample),
                " ,",
                this.data.items.map(function (item) { return ($.$mol_dom_jsx("div", { id: 'list-item#' + item.id, className: "list-item list-item-selected-" + (_this.selected === item.id), onclick: _this.onClick.bind(_this, item) },
                    $.$mol_dom_jsx("div", { id: 'list-item#' + item.id + '-title', className: "list-item-title" }, item.title),
                    $.$mol_dom_jsx("div", { id: 'list-item#' + item.id + '-content', className: "list-item-content", childNodes: [item.content] }, item.content))); })));
        };
        return $mol_app_bench_list_tsx;
    }());
    $mol_app_bench_list_tsx.data = {
        sample: '',
        items: []
    };
    $mol_app_bench_list_tsx.selected = null;
    $.$mol_app_bench_list_tsx = $mol_app_bench_list_tsx;
})($ || ($ = {}));
//index.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_ghost = (function (_super) {
        __extends($mol_ghost, _super);
        function $mol_ghost() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_ghost.prototype.Sub = function () {
            return new $.$mol_view();
        };
        return $mol_ghost;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_ghost.prototype, "Sub", null);
    $.$mol_ghost = $mol_ghost;
})($ || ($ = {}));
//ghost.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_ghost = (function (_super) {
            __extends($mol_ghost, _super);
            function $mol_ghost() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_ghost.prototype.dom_node = function () {
                return $.$mol_view_dom.node(this.Sub());
            };
            $mol_ghost.prototype.render = function () {
                this.Sub().render();
                return _super.prototype.render.call(this);
            };
            return $mol_ghost;
        }($.$mol_ghost));
        $mol.$mol_ghost = $mol_ghost;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//ghost.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_book = (function (_super) {
        __extends($mol_book, _super);
        function $mol_book() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_book.prototype.pages_extended = function () {
            return [];
        };
        $mol_book.prototype.sub = function () {
            return this.pages_extended();
        };
        $mol_book.prototype.pages = function () {
            return [];
        };
        $mol_book.prototype.width = function () {
            return this.Meter().width();
        };
        $mol_book.prototype.Meter = function () {
            return new $.$mol_meter();
        };
        $mol_book.prototype.plugins = function () {
            return [].concat(this.Meter());
        };
        $mol_book.prototype.page = function (index) {
            return null;
        };
        $mol_book.prototype.page_visible = function (index) {
            return true;
        };
        $mol_book.prototype.Page = function (index) {
            var _this = this;
            return new $.$mol_book_page().setup(function (obj) {
                obj.Sub = function () { return _this.page(index); };
                obj.visible = function () { return _this.page_visible(index); };
            });
        };
        return $mol_book;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_book.prototype, "Meter", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_book.prototype, "Page", null);
    $.$mol_book = $mol_book;
})($ || ($ = {}));
(function ($) {
    var $mol_book_placeholder = (function (_super) {
        __extends($mol_book_placeholder, _super);
        function $mol_book_placeholder() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_book_placeholder.prototype.minimal_width = function () {
            return 400;
        };
        $mol_book_placeholder.prototype.sub = function () {
            return [].concat(this.title());
        };
        return $mol_book_placeholder;
    }($.$mol_view));
    $.$mol_book_placeholder = $mol_book_placeholder;
})($ || ($ = {}));
(function ($) {
    var $mol_book_page = (function (_super) {
        __extends($mol_book_page, _super);
        function $mol_book_page() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_book_page.prototype.visible = function () {
            return true;
        };
        $mol_book_page.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_book_page_visible": this.visible() }));
        };
        return $mol_book_page;
    }($.$mol_ghost));
    $.$mol_book_page = $mol_book_page;
})($ || ($ = {}));
//book.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_book = (function (_super) {
            __extends($mol_book, _super);
            function $mol_book() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_book.prototype.pages_filtered = function () {
                return this.pages().filter(function (page) { return page; });
            };
            $mol_book.prototype.break_point = function () {
                var pages = this.pages_filtered();
                var limit = this.width();
                var width = 0;
                for (var break_point = pages.length; break_point > 0; --break_point) {
                    width += pages[break_point - 1].minimal_width();
                    if (width > limit)
                        break;
                }
                if (break_point === pages.length)
                    --break_point;
                return break_point;
            };
            $mol_book.prototype.page = function (index) {
                return this.pages_filtered()[index];
            };
            $mol_book.prototype.page_visible = function (index) {
                return index >= this.break_point();
            };
            $mol_book.prototype.pages_extended = function () {
                var _this = this;
                return this.pages_filtered().map(function (page, index) { return _this.Page(index); });
            };
            $mol_book.prototype.title = function () {
                return this.pages_filtered()[this.pages_filtered().length - 1].title();
            };
            return $mol_book;
        }($.$mol_book));
        __decorate([
            $.$mol_mem()
        ], $mol_book.prototype, "pages_filtered", null);
        __decorate([
            $.$mol_mem()
        ], $mol_book.prototype, "break_point", null);
        $mol.$mol_book = $mol_book;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//book.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_bar = (function (_super) {
        __extends($mol_bar, _super);
        function $mol_bar() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_bar;
    }($.$mol_view));
    $.$mol_bar = $mol_bar;
})($ || ($ = {}));
//bar.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_cross = (function (_super) {
        __extends($mol_icon_cross, _super);
        function $mol_icon_cross() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_cross.prototype.path = function () {
            return "M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z";
        };
        return $mol_icon_cross;
    }($.$mol_icon));
    $.$mol_icon_cross = $mol_icon_cross;
})($ || ($ = {}));
//cross.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_pop = (function (_super) {
        __extends($mol_pop, _super);
        function $mol_pop() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_pop.prototype.showed = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_pop.prototype.Anchor = function () {
            return null;
        };
        $mol_pop.prototype.align = function () {
            return "bottom_center";
        };
        $mol_pop.prototype.bubble_content = function () {
            return [];
        };
        $mol_pop.prototype.height_max = function () {
            return 9999;
        };
        $mol_pop.prototype.Bubble = function () {
            var _this = this;
            return new $.$mol_pop_tip().setup(function (obj) {
                obj.align = function () { return _this.align(); };
                obj.content = function () { return _this.bubble_content(); };
                obj.height_max = function () { return _this.height_max(); };
            });
        };
        $mol_pop.prototype.sub = function () {
            return [].concat(this.Anchor(), this.Bubble());
        };
        return $mol_pop;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_pop.prototype, "showed", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop.prototype, "Bubble", null);
    $.$mol_pop = $mol_pop;
})($ || ($ = {}));
(function ($) {
    var $mol_pop_tip = (function (_super) {
        __extends($mol_pop_tip, _super);
        function $mol_pop_tip() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_pop_tip.prototype.content = function () {
            return [];
        };
        $mol_pop_tip.prototype.sub = function () {
            return this.content();
        };
        $mol_pop_tip.prototype.height_max = function () {
            return 9999;
        };
        $mol_pop_tip.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "maxHeight": this.height_max() }));
        };
        $mol_pop_tip.prototype.align = function () {
            return "";
        };
        $mol_pop_tip.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_pop_align": this.align() }));
        };
        return $mol_pop_tip;
    }($.$mol_scroll));
    $.$mol_pop_tip = $mol_pop_tip;
})($ || ($ = {}));
//pop.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_pop = (function (_super) {
            __extends($mol_pop, _super);
            function $mol_pop() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_pop.prototype.sub = function () {
                return [
                    this.Anchor(),
                    this.showed() ? this.Bubble() : null,
                ];
            };
            $mol_pop.prototype.height_max = function () {
                return this.context().$mol_view_visible_height() * 0.3;
            };
            return $mol_pop;
        }($.$mol_pop));
        $mol.$mol_pop = $mol_pop;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//pop.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_nav = (function (_super) {
        __extends($mol_nav, _super);
        function $mol_nav() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_nav.prototype.cycle = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_nav.prototype.keys_x = function (val) {
            return (val !== void 0) ? val : [];
        };
        $mol_nav.prototype.keys_y = function (val) {
            return (val !== void 0) ? val : [];
        };
        $mol_nav.prototype.current_x = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_nav.prototype.current_y = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_nav.prototype.event_up = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_nav.prototype.event_down = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_nav.prototype.event_left = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_nav.prototype.event_right = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_nav.prototype.event_key = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_nav.prototype.event = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event.call(this), { "keydown": function (event) { return _this.event_key(event); } }));
        };
        $mol_nav.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_nav_x": this.current_x(), "mol_nav_y": this.current_y() }));
        };
        return $mol_nav;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "cycle", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "keys_x", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "keys_y", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "current_x", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "current_y", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "event_up", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "event_down", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "event_left", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "event_right", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav.prototype, "event_key", null);
    $.$mol_nav = $mol_nav;
})($ || ($ = {}));
//nav.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_nav = (function (_super) {
            __extends($mol_nav, _super);
            function $mol_nav() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_nav.prototype.event_key = function (event) {
                if (event.defaultPrevented)
                    return;
                switch (event.keyCode) {
                    case $.$mol_keyboard_code.up: return this.event_up(event);
                    case $.$mol_keyboard_code.down: return this.event_down(event);
                    case $.$mol_keyboard_code.left: return this.event_left(event);
                    case $.$mol_keyboard_code.right: return this.event_right(event);
                }
            };
            $mol_nav.prototype.event_up = function (event) {
                var keys = this.keys_y();
                if (keys.length < 2)
                    return;
                var index_y = this.index_y();
                var index_old = index_y === null ? 0 : index_y;
                var index_new = (index_old + keys.length - 1) % keys.length;
                if (index_old === 0 && !this.cycle())
                    return;
                event.preventDefault();
                this.current_y(this.keys_y()[index_new]);
            };
            $mol_nav.prototype.event_down = function (event) {
                var keys = this.keys_y();
                if (keys.length < 2)
                    return;
                var index_y = this.index_y();
                var index_old = index_y === null ? keys.length - 1 : index_y;
                var index_new = (index_old + 1) % keys.length;
                if (index_new === keys.length && !this.cycle())
                    return;
                event.preventDefault();
                this.current_y(this.keys_y()[index_new]);
            };
            $mol_nav.prototype.event_left = function (event) {
                var keys = this.keys_x();
                if (keys.length < 2)
                    return;
                var index_x = this.index_x();
                var index_old = index_x === null ? 0 : index_x;
                var index_new = (index_old + keys.length - 1) % keys.length;
                if (index_old === 0 && !this.cycle())
                    return;
                event.preventDefault();
                this.current_x(this.keys_x()[index_new]);
            };
            $mol_nav.prototype.event_right = function (event) {
                var keys = this.keys_x();
                if (keys.length < 2)
                    return;
                var index_x = this.index_x();
                var index_old = index_x === null ? keys.length - 1 : index_x;
                var index_new = (index_old + 1) % keys.length;
                if (index_new === keys.length && !this.cycle())
                    return;
                event.preventDefault();
                this.current_x(this.keys_x()[index_new]);
            };
            $mol_nav.prototype.index_y = function () {
                var index = this.keys_y().indexOf(this.current_y());
                if (index < 0)
                    return null;
                return index;
            };
            $mol_nav.prototype.index_x = function () {
                var index = this.keys_x().indexOf(this.current_x());
                if (index < 0)
                    return null;
                return index;
            };
            return $mol_nav;
        }($.$mol_nav));
        $mol.$mol_nav = $mol_nav;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//nav.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_string = (function (_super) {
        __extends($mol_string, _super);
        function $mol_string() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_string.prototype.dom_name = function () {
            return "input";
        };
        $mol_string.prototype.enabled = function () {
            return true;
        };
        $mol_string.prototype.disabled = function () {
            return false;
        };
        $mol_string.prototype.value = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_string.prototype.value_changed = function (val) {
            return this.value(val);
        };
        $mol_string.prototype.hint = function () {
            return "";
        };
        $mol_string.prototype.type = function (val) {
            return (val !== void 0) ? val : "text";
        };
        $mol_string.prototype.field = function () {
            return (__assign({}, _super.prototype.field.call(this), { "disabled": this.disabled(), "value": this.value_changed(), "placeholder": this.hint(), "type": this.type() }));
        };
        $mol_string.prototype.event_change = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_string.prototype.event = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event.call(this), { "input": function (event) { return _this.event_change(event); } }));
        };
        return $mol_string;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_string.prototype, "value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_string.prototype, "value_changed", null);
    __decorate([
        $.$mol_mem()
    ], $mol_string.prototype, "type", null);
    __decorate([
        $.$mol_mem()
    ], $mol_string.prototype, "event_change", null);
    $.$mol_string = $mol_string;
})($ || ($ = {}));
//string.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_string = (function (_super) {
            __extends($mol_string, _super);
            function $mol_string() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_string.prototype.event_change = function (next) {
                this.value(next.target.value.trim());
            };
            $mol_string.prototype.disabled = function () {
                return !this.enabled();
            };
            return $mol_string;
        }($.$mol_string));
        $mol.$mol_string = $mol_string;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//string.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_select = (function (_super) {
        __extends($mol_select, _super);
        function $mol_select() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_select.prototype.dictionary = function () {
            return ({});
        };
        $mol_select.prototype.options = function () {
            return [];
        };
        $mol_select.prototype.value = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_select.prototype.searchable = function () {
            return true;
        };
        $mol_select.prototype.search_breakpoint = function () {
            return 7;
        };
        $mol_select.prototype.clearable = function () {
            return true;
        };
        $mol_select.prototype.event_select = function (id, event) {
            return (event !== void 0) ? event : null;
        };
        $mol_select.prototype.option_label = function (id) {
            return "";
        };
        $mol_select.prototype.filter_pattern = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_select.prototype.Option_label = function (id) {
            var _this = this;
            return new $.$mol_dimmer().setup(function (obj) {
                obj.minimal_height = function () { return 40; };
                obj.haystack = function () { return _this.option_label(id); };
                obj.needle = function () { return _this.filter_pattern(); };
            });
        };
        $mol_select.prototype.option_content = function (id) {
            return [].concat(this.Option_label(id));
        };
        $mol_select.prototype.option_content_super = function (id) {
            return this.option_content(id);
        };
        $mol_select.prototype.Option_row = function (id) {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.event_click = function (event) { return _this.event_select(id, event); };
                obj.sub = function () { return _this.option_content_super(id); };
            });
        };
        $mol_select.prototype.no_options_message = function () {
            return $.$mol_locale.text(this.locale_contexts(), "no_options_message");
        };
        $mol_select.prototype.No_options = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.no_options_message()); };
            });
        };
        $mol_select.prototype.clear_option_message = function () {
            return $.$mol_locale.text(this.locale_contexts(), "clear_option_message");
        };
        $mol_select.prototype.Clear_icon = function () {
            return new $.$mol_icon_cross();
        };
        $mol_select.prototype.clear_option_content = function () {
            return [].concat(this.clear_option_message(), this.Clear_icon());
        };
        $mol_select.prototype.lear_option_content = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.clear_option_content(); };
            });
        };
        $mol_select.prototype.nav_components = function () {
            return [].concat(this.Filter_string(), this.option_rows());
        };
        $mol_select.prototype.option_focused = function (key) {
            return (key !== void 0) ? key : "";
        };
        $mol_select.prototype.nav_cycle = function (val) {
            return (val !== void 0) ? val : true;
        };
        $mol_select.prototype.Nav = function () {
            var _this = this;
            return new $.$mol_nav().setup(function (obj) {
                obj.keys_y = function () { return _this.nav_components(); };
                obj.current_y = function (key) { return _this.option_focused(key); };
                obj.cycle = function (val) { return _this.nav_cycle(val); };
            });
        };
        $mol_select.prototype.plugins = function () {
            return [].concat(this.Nav());
        };
        $mol_select.prototype.options_showed = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_select.prototype.options_align = function (val) {
            return (val !== void 0) ? val : "bottom_right";
        };
        $mol_select.prototype.event_showed_toggle = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_select.prototype.Trigger_icon = function () {
            return new $.$mol_icon_chevron();
        };
        $mol_select.prototype.value_content = function () {
            return [];
        };
        $mol_select.prototype.trigger_content = function () {
            return [].concat(this.Trigger_icon(), this.value_content());
        };
        $mol_select.prototype.Trigger = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.event_click = function (event) { return _this.event_showed_toggle(event); };
                obj.sub = function () { return _this.trigger_content(); };
            });
        };
        $mol_select.prototype.filter_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "filter_hint");
        };
        $mol_select.prototype.Filter_string = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.filter_pattern(val); };
                obj.hint = function () { return _this.filter_hint(); };
            });
        };
        $mol_select.prototype.filter_content = function () {
            return [].concat(this.Filter_string());
        };
        $mol_select.prototype.option_rows = function () {
            return [];
        };
        $mol_select.prototype.bubble_content = function () {
            return [].concat(this.filter_content(), this.option_rows());
        };
        $mol_select.prototype.Bubble_content = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.bubble_content(); };
            });
        };
        $mol_select.prototype.Pop = function () {
            var _this = this;
            return new $.$mol_pop().setup(function (obj) {
                obj.showed = function (val) { return _this.options_showed(val); };
                obj.align = function (val) { return _this.options_align(val); };
                obj.Anchor = function () { return _this.Trigger(); };
                obj.bubble_content = function () { return [].concat(_this.Bubble_content()); };
            });
        };
        $mol_select.prototype.sub = function () {
            return [].concat(this.Pop());
        };
        return $mol_select;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "value", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_select.prototype, "event_select", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "filter_pattern", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_select.prototype, "Option_label", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_select.prototype, "Option_row", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "No_options", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "Clear_icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "\u0421lear_option_content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "option_focused", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "nav_cycle", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "Nav", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "options_showed", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "options_align", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "event_showed_toggle", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "Trigger_icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "Trigger", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "Filter_string", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "Bubble_content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select.prototype, "Pop", null);
    $.$mol_select = $mol_select;
})($ || ($ = {}));
//select.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_select = (function (_super) {
            __extends($mol_select, _super);
            function $mol_select() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_select.prototype.filter_pattern = function (next) {
                if (!this.focused())
                    return '';
                return next || '';
            };
            $mol_select.prototype.options_showed = function (val) {
                if (!this.focused())
                    return false;
                if (val !== void 0)
                    return val;
                if (this.filter_pattern())
                    return true;
                return false;
            };
            $mol_select.prototype.options = function () {
                return Object.keys(this.dictionary());
            };
            $mol_select.prototype.options_filtered = function () {
                var _this = this;
                var filter = this.filter_pattern().toLowerCase();
                var value = this.value();
                return this.options().filter(function (id) {
                    if (id === value)
                        return false;
                    return _this.option_label(id).toLowerCase().match(filter);
                });
            };
            $mol_select.prototype.option_label = function (id) {
                var value = this.dictionary()[id];
                return value == null ? id : value;
            };
            $mol_select.prototype.option_rows = function () {
                var _this = this;
                if (this.options_filtered().length === 0)
                    return [this.No_options()];
                var options = this.options_filtered().map(function (option) { return _this.Option_row(option); });
                if (this.clearable() && this.value())
                    options = [this.Option_row('')].concat(options);
                return options;
            };
            $mol_select.prototype.option_content_super = function (id) {
                if (id === '')
                    return [this.lear_option_content()];
                else
                    return this.option_content(id);
            };
            $mol_select.prototype.option_focused = function (component) {
                if (component === void 0)
                    return this.Filter_string();
                if (this.options_showed()) {
                    component.focused(true);
                }
                return component;
            };
            $mol_select.prototype.event_showed_toggle = function (event) {
                this.options_showed(!this.options_showed());
            };
            $mol_select.prototype.event_select = function (id, event) {
                this.value(id);
                this.options_showed(false);
            };
            $mol_select.prototype.searchable = function () {
                return this.options().length >= this.search_breakpoint();
            };
            $mol_select.prototype.nav_components = function () {
                return (this.searchable() ? this.filter_content() : []).slice().concat(this.option_rows());
            };
            $mol_select.prototype.bubble_content = function () {
                return (this.searchable() ? this.filter_content() : []).slice().concat(this.option_rows());
            };
            $mol_select.prototype.value_content = function () {
                return this.value() ? this.option_content(this.value()) : null;
            };
            return $mol_select;
        }($.$mol_select));
        __decorate([
            $.$mol_mem()
        ], $mol_select.prototype, "filter_pattern", null);
        __decorate([
            $.$mol_mem()
        ], $mol_select.prototype, "options_showed", null);
        __decorate([
            $.$mol_mem()
        ], $mol_select.prototype, "options", null);
        __decorate([
            $.$mol_mem()
        ], $mol_select.prototype, "option_focused", null);
        $mol.$mol_select = $mol_select;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//select.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_search = (function (_super) {
        __extends($mol_search, _super);
        function $mol_search() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_search.prototype.query = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_search.prototype.suggest_selected = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_search.prototype.hint = function () {
            return "Search...";
        };
        $mol_search.prototype.suggests_showed = function () {
            return false;
        };
        $mol_search.prototype.suggests = function () {
            return [];
        };
        $mol_search.prototype.Suggest = function () {
            var _this = this;
            return new $.$mol_search_suggest().setup(function (obj) {
                obj.value = function (val) { return _this.suggest_selected(val); };
                obj.filter_hint = function () { return _this.hint(); };
                obj.filter_pattern = function (val) { return _this.query(val); };
                obj.options_showed = function () { return _this.suggests_showed(); };
                obj.options = function () { return _this.suggests(); };
            });
        };
        $mol_search.prototype.Clear_icon = function () {
            return new $.$mol_icon_cross();
        };
        $mol_search.prototype.event_clear = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_search.prototype.Clear = function () {
            var _this = this;
            return new $.$mol_button_minor().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Clear_icon()); };
                obj.event_click = function (val) { return _this.event_clear(val); };
            });
        };
        $mol_search.prototype.sub = function () {
            return [].concat(this.Suggest(), this.Clear());
        };
        return $mol_search;
    }($.$mol_bar));
    __decorate([
        $.$mol_mem()
    ], $mol_search.prototype, "query", null);
    __decorate([
        $.$mol_mem()
    ], $mol_search.prototype, "suggest_selected", null);
    __decorate([
        $.$mol_mem()
    ], $mol_search.prototype, "Suggest", null);
    __decorate([
        $.$mol_mem()
    ], $mol_search.prototype, "Clear_icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_search.prototype, "event_clear", null);
    __decorate([
        $.$mol_mem()
    ], $mol_search.prototype, "Clear", null);
    $.$mol_search = $mol_search;
})($ || ($ = {}));
(function ($) {
    var $mol_search_suggest = (function (_super) {
        __extends($mol_search_suggest, _super);
        function $mol_search_suggest() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_search_suggest.prototype.trigger_content = function () {
            return this.filter_content();
        };
        $mol_search_suggest.prototype.bubble_content = function () {
            return this.option_rows();
        };
        $mol_search_suggest.prototype.clearable = function () {
            return false;
        };
        return $mol_search_suggest;
    }($.$mol_select));
    $.$mol_search_suggest = $mol_search_suggest;
})($ || ($ = {}));
//search.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_search = (function (_super) {
            __extends($mol_search, _super);
            function $mol_search() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_search.prototype.suggests_showed = function () {
                if (!this.focused())
                    return false;
                return this.suggests().length > 1;
            };
            $mol_search.prototype.suggest_selected = function (next) {
                if (next)
                    this.Suggest().Filter_string().focused(true);
                return this.query(next);
            };
            $mol_search.prototype.sub = function () {
                return [
                    this.Suggest(),
                    (this.query().length > 0) ? this.Clear() : null,
                ];
            };
            $mol_search.prototype.event_clear = function (event) {
                this.query('');
            };
            return $mol_search;
        }($.$mol_search));
        $mol.$mol_search = $mol_search;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//search.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var $;
(function ($) {
    var $mol_row = (function (_super) {
        __extends($mol_row, _super);
        function $mol_row() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_row.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "minHeight": this.minimal_height() }));
        };
        return $mol_row;
    }($.$mol_view));
    $.$mol_row = $mol_row;
})($ || ($ = {}));
(function ($) {
    var $mol_row_sub = (function (_super) {
        __extends($mol_row_sub, _super);
        function $mol_row_sub() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_row_sub;
    }($.$mol_view));
    $.$mol_row_sub = $mol_row_sub;
})($ || ($ = {}));
//row.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_row = (function (_super) {
            __extends($mol_row, _super);
            function $mol_row() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_row.prototype.item_offsets_top = function () {
                var next = [];
                var sub = this.sub();
                if (!sub)
                    return next;
                var context = this.context_sub();
                var widthLimit = context.$mol_view_visible_width();
                var allHeight = 0;
                var rowWidth = 0;
                var row_height = 0;
                for (var _i = 0, sub_1 = sub; _i < sub_1.length; _i++) {
                    var child = sub_1[_i];
                    next.push(allHeight);
                    if (!(child instanceof $.$mol_view))
                        continue;
                    var width = child.minimal_width();
                    var height = child.minimal_height();
                    rowWidth += width;
                    if (rowWidth > widthLimit) {
                        allHeight += row_height;
                        rowWidth = width;
                        row_height = height;
                    }
                    else {
                        row_height = Math.max(row_height, height);
                    }
                }
                next.push(allHeight + row_height);
                return next;
            };
            $mol_row.prototype.sub_visible = function () {
                var sub = this.sub();
                var visible = [];
                var context = this.context_sub();
                var heightLimit = context.$mol_view_visible_height();
                var offsets = this.item_offsets_top();
                var height = 0;
                for (var i = 0; i < offsets.length - 1; ++i) {
                    if (offsets[i] > heightLimit)
                        break;
                    var child = sub[i];
                    if (child instanceof $.$mol_view) {
                        child.context(context);
                    }
                    visible.push(child);
                }
                return visible;
            };
            $mol_row.prototype.minimal_height = function () {
                var offsets = this.item_offsets_top();
                return offsets[offsets.length - 1];
            };
            return $mol_row;
        }($.$mol_row));
        __decorate([
            $.$mol_mem()
        ], $mol_row.prototype, "item_offsets_top", null);
        $mol.$mol_row = $mol_row;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//row.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_status = (function (_super) {
        __extends($mol_status, _super);
        function $mol_status() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_status.prototype.status = function () {
            return null;
        };
        $mol_status.prototype.message = function () {
            return "";
        };
        $mol_status.prototype.sub = function () {
            return [].concat(this.message());
        };
        return $mol_status;
    }($.$mol_view));
    $.$mol_status = $mol_status;
})($ || ($ = {}));
//status.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_status = (function (_super) {
            __extends($mol_status, _super);
            function $mol_status() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_status.prototype.message = function () {
                try {
                    var status_1 = this.status();
                    if (status_1)
                        status_1.valueOf();
                    return null;
                }
                catch (error) {
                    if (error instanceof $.$mol_atom_wait)
                        throw error;
                    return error.message;
                }
            };
            return $mol_status;
        }($.$mol_status));
        $mol.$mol_status = $mol_status;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//status.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var $;
(function ($) {
    var $mol_link = (function (_super) {
        __extends($mol_link, _super);
        function $mol_link() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_link.prototype.minimal_height = function () {
            return 36;
        };
        $mol_link.prototype.dom_name = function () {
            return "a";
        };
        $mol_link.prototype.uri = function () {
            return "";
        };
        $mol_link.prototype.hint = function () {
            return "";
        };
        $mol_link.prototype.current = function () {
            return false;
        };
        $mol_link.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "href": this.uri(), "title": this.hint(), "mol_link_current": this.current() }));
        };
        $mol_link.prototype.sub = function () {
            return [].concat(this.title());
        };
        $mol_link.prototype.arg = function () {
            return ({});
        };
        return $mol_link;
    }($.$mol_view));
    $.$mol_link = $mol_link;
})($ || ($ = {}));
//link.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_link = (function (_super) {
            __extends($mol_link, _super);
            function $mol_link() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_link.prototype.uri = function () {
                return new $.$mol_state_arg(this.state_key()).link(this.arg());
            };
            $mol_link.prototype.current = function () {
                return this.uri() === $.$mol_state_arg.link({});
            };
            return $mol_link;
        }($.$mol_link));
        __decorate([
            $.$mol_mem()
        ], $mol_link.prototype, "uri", null);
        $mol.$mol_link = $mol_link;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//link.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_http_request = (function (_super) {
        __extends($mol_http_request, _super);
        function $mol_http_request() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_http_request.prototype.uri = function () { return ''; };
        $mol_http_request.prototype.method_get = function () { return 'Get'; };
        $mol_http_request.prototype.method_put = function () { return 'Put'; };
        $mol_http_request.prototype.credentials = function () {
            return null;
        };
        $mol_http_request.prototype.headers = function () {
            return {};
        };
        $mol_http_request.prototype.body = function () { return null; };
        $mol_http_request.prototype.native = function () {
            var _this = this;
            if (this['native()'])
                return this['native()'];
            var next = this['native()'] = new $.$mol_dom_context.XMLHttpRequest;
            next.withCredentials = Boolean(this.credentials());
            next.onload = function (event) {
                if ((next.status === 0) || (Math.floor(next.status / 100) === 2)) {
                    _this.response(next, $.$mol_atom_force);
                }
                else {
                    _this.response(new Error(next.responseText), $.$mol_atom_force);
                }
            };
            next.onerror = function (event) {
                _this.response(event.error || new Error('Unknown HTTP error'), $.$mol_atom_force);
            };
            return next;
        };
        $mol_http_request.prototype.destroyed = function (next) {
            if (next) {
                var native = this['native()'];
                if (native)
                    native.abort();
            }
            return _super.prototype.destroyed.call(this, next);
        };
        $mol_http_request.prototype.response = function (next, force) {
            var creds = this.credentials();
            var native = this.native();
            var method = (next === void 0) ? this.method_get() : this.method_put();
            var uri = this.uri();
            native.open(method, uri, true, creds && creds.login, creds && creds.password);
            var headers = this.headers();
            for (var name_1 in headers)
                native.setRequestHeader(name_1, headers[name_1]);
            native.send(next);
            throw new $.$mol_atom_wait(method + " " + uri);
        };
        $mol_http_request.prototype.text = function (next, force) {
            return this.response(next, force).responseText;
        };
        return $mol_http_request;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_http_request.prototype, "response", null);
    $.$mol_http_request = $mol_http_request;
})($ || ($ = {}));
//request.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_http_resource = (function (_super) {
        __extends($mol_http_resource, _super);
        function $mol_http_resource() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_http_resource.item = function (uri) {
            return new $mol_http_resource().setup(function (obj) {
                obj.uri = function () { return uri; };
            });
        };
        $mol_http_resource.prototype.uri = function () { return ''; };
        $mol_http_resource.prototype.method_get = function () { return 'Get'; };
        $mol_http_resource.prototype.method_put = function () { return 'Put'; };
        $mol_http_resource.prototype.credentials = function () {
            return null;
        };
        $mol_http_resource.prototype.headers = function () {
            return {};
        };
        $mol_http_resource.prototype.request = function () {
            var _this = this;
            var request = new $.$mol_http_request();
            request.uri = function () { return _this.uri(); };
            request.method_get = function () { return _this.method_get(); };
            request.method_put = function () { return _this.method_put(); };
            request.credentials = function () { return _this.credentials(); };
            request.headers = function () { return _this.headers(); };
            return request;
        };
        $mol_http_resource.prototype.text = function (next, force) {
            return this.request().text(next, force);
        };
        return $mol_http_resource;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_http_resource.prototype, "request", null);
    __decorate([
        $.$mol_mem()
    ], $mol_http_resource.prototype, "text", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_http_resource, "item", null);
    $.$mol_http_resource = $mol_http_resource;
})($ || ($ = {}));
//resource.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_demo = (function (_super) {
        __extends($mol_demo, _super);
        function $mol_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_demo.prototype.name = function () {
            return "$mol_view";
        };
        $mol_demo.prototype.title = function () {
            return this.name();
        };
        $mol_demo.prototype.Title = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.arg = function () { return ({
                    "demo": _this.name(),
                }); };
                obj.sub = function () { return [].concat(_this.title()); };
            });
        };
        $mol_demo.prototype.Head = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Title()); };
            });
        };
        $mol_demo.prototype.widget = function () {
            return null;
        };
        $mol_demo.prototype.Screen = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.widget()); };
            });
        };
        $mol_demo.prototype.sub = function () {
            return [].concat(this.Head(), this.Screen());
        };
        return $mol_demo;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_demo.prototype, "Title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_demo.prototype, "Head", null);
    __decorate([
        $.$mol_mem()
    ], $mol_demo.prototype, "Screen", null);
    $.$mol_demo = $mol_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_demo = (function (_super) {
            __extends($mol_demo, _super);
            function $mol_demo() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_demo.prototype.widget = function () {
                var Class = $["$" + this.name()];
                return new Class();
            };
            $mol_demo.prototype.title = function () {
                return "$" + this.name();
            };
            return $mol_demo;
        }($.$mol_demo));
        __decorate([
            $.$mol_mem()
        ], $mol_demo.prototype, "widget", null);
        $mol.$mol_demo = $mol_demo;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_demo_small = (function (_super) {
        __extends($mol_demo_small, _super);
        function $mol_demo_small() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_demo_small.prototype.height = function () {
            return 340;
        };
        $mol_demo_small.prototype.minimal_height = function () {
            return this.height();
        };
        $mol_demo_small.prototype.width = function () {
            return 340;
        };
        $mol_demo_small.prototype.minimal_width = function () {
            return this.width();
        };
        return $mol_demo_small;
    }($.$mol_demo));
    $.$mol_demo_small = $mol_demo_small;
})($ || ($ = {}));
//small.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_demo_small = (function (_super) {
            __extends($mol_demo_small, _super);
            function $mol_demo_small() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_demo_small.prototype.context_sub = function () {
                var _this = this;
                var context = this.context();
                var subContext = Object.create(context);
                subContext.$mol_view_visible_height = function () { return _this.height(); };
                subContext.$mol_view_visible_width = function () { return _this.width(); };
                return subContext;
            };
            return $mol_demo_small;
        }($.$mol_demo_small));
        __decorate([
            $.$mol_mem()
        ], $mol_demo_small.prototype, "context_sub", null);
        $mol.$mol_demo_small = $mol_demo_small;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//small.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_demo_large = (function (_super) {
        __extends($mol_demo_large, _super);
        function $mol_demo_large() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_demo_large;
    }($.$mol_demo));
    $.$mol_demo_large = $mol_demo_large;
})($ || ($ = {}));
//large.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_demo = (function (_super) {
        __extends($mol_app_demo, _super);
        function $mol_app_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_demo.prototype.Placeholder = function () {
            var _this = this;
            return new $.$mol_book_placeholder().setup(function (obj) {
                obj.title = function () { return _this.title(); };
            });
        };
        $mol_app_demo.prototype.filter_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "filter_hint");
        };
        $mol_app_demo.prototype.filter_string = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_demo.prototype.Filter_string = function () {
            var _this = this;
            return new $.$mol_search().setup(function (obj) {
                obj.hint = function () { return _this.filter_hint(); };
                obj.query = function (val) { return _this.filter_string(val); };
            });
        };
        $mol_app_demo.prototype.Nav_head = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Filter_string()); };
            });
        };
        $mol_app_demo.prototype.nav_hierarchy = function () {
            return null;
        };
        $mol_app_demo.prototype.nav_option = function (id) {
            return null;
        };
        $mol_app_demo.prototype.Nav = function () {
            var _this = this;
            return new $.$mol_app_demo_nav().setup(function (obj) {
                obj.hierarchy = function () { return _this.nav_hierarchy(); };
                obj.record = function (id) { return _this.nav_option(id); };
                obj.needle = function () { return _this.filter_string(); };
            });
        };
        $mol_app_demo.prototype.Menu = function () {
            var _this = this;
            return new $.$mol_page().setup(function (obj) {
                obj.minimal_width = function () { return 200; };
                obj.head = function () { return [].concat(_this.Nav_head()); };
                obj.Body = function () { return _this.Nav(); };
            });
        };
        $mol_app_demo.prototype.main_content = function () {
            return [];
        };
        $mol_app_demo.prototype.Detail = function () {
            var _this = this;
            return new $.$mol_app_demo_page().setup(function (obj) {
                obj.minimal_width = function () { return 600; };
                obj.title = function () { return _this.title(); };
                obj.body = function () { return _this.main_content(); };
            });
        };
        $mol_app_demo.prototype.blocks = function () {
            return [].concat(this.Menu(), this.Detail());
        };
        $mol_app_demo.prototype.pages = function () {
            return this.blocks();
        };
        $mol_app_demo.prototype.welcome_text = function () {
            return "";
        };
        $mol_app_demo.prototype.Welcome_text = function () {
            var _this = this;
            return new $.$mol_text().setup(function (obj) {
                obj.text = function () { return _this.welcome_text(); };
            });
        };
        $mol_app_demo.prototype.Welcome = function () {
            var _this = this;
            return new $.$mol_scroll().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Welcome_text()); };
            });
        };
        $mol_app_demo.prototype.Samples = function () {
            return [];
        };
        $mol_app_demo.prototype.Detail_row = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Samples()); };
            });
        };
        $mol_app_demo.prototype.detail_empty_prefix = function () {
            return $.$mol_locale.text(this.locale_contexts(), "detail_empty_prefix");
        };
        $mol_app_demo.prototype.selected = function () {
            return "";
        };
        $mol_app_demo.prototype.detail_empty_postfix = function () {
            return $.$mol_locale.text(this.locale_contexts(), "detail_empty_postfix");
        };
        $mol_app_demo.prototype.Detail_empty_message = function () {
            var _this = this;
            return new $.$mol_status().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.detail_empty_prefix(), _this.selected(), _this.detail_empty_postfix()); };
            });
        };
        return $mol_app_demo;
    }($.$mol_book));
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Placeholder", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "filter_string", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Filter_string", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Nav_head", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Nav", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Menu", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Detail", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Welcome_text", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Welcome", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Detail_row", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo.prototype, "Detail_empty_message", null);
    $.$mol_app_demo = $mol_app_demo;
})($ || ($ = {}));
(function ($) {
    var $mol_app_demo_page = (function (_super) {
        __extends($mol_app_demo_page, _super);
        function $mol_app_demo_page() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_demo_page.prototype.Close_icon = function () {
            return new $.$mol_icon_cross();
        };
        $mol_app_demo_page.prototype.close_arg = function () {
            return ({
                "demo": null,
            });
        };
        $mol_app_demo_page.prototype.Close = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Close_icon()); };
                obj.arg = function () { return _this.close_arg(); };
            });
        };
        $mol_app_demo_page.prototype.tools = function () {
            return [].concat(this.Close());
        };
        return $mol_app_demo_page;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo_page.prototype, "Close_icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_demo_page.prototype, "Close", null);
    $.$mol_app_demo_page = $mol_app_demo_page;
})($ || ($ = {}));
(function ($) {
    var $mol_app_demo_nav = (function (_super) {
        __extends($mol_app_demo_nav, _super);
        function $mol_app_demo_nav() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_demo_nav.prototype.row_height = function () {
            return 32;
        };
        $mol_app_demo_nav.prototype.hierarchy_col = function () {
            return "title";
        };
        $mol_app_demo_nav.prototype.Head = function () {
            return null;
        };
        $mol_app_demo_nav.prototype.arg = function (id) {
            return ({});
        };
        $mol_app_demo_nav.prototype.Expand = function (id) {
            var _this = this;
            return new $.$mol_check_expand().setup(function (obj) {
                obj.expanded = function (val) { return _this.cell_expanded(id, val); };
                obj.level = function () { return _this.cell_level(id); };
            });
        };
        $mol_app_demo_nav.prototype.Option = function (id) {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.arg = function () { return _this.arg(id); };
                obj.sub = function () { return [].concat(_this.Expand(id), _this.cell_content(id)); };
            });
        };
        return $mol_app_demo_nav;
    }($.$mol_grid));
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_demo_nav.prototype, "Expand", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_demo_nav.prototype, "Option", null);
    $.$mol_app_demo_nav = $mol_app_demo_nav;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_demo = (function (_super) {
            __extends($mol_app_demo, _super);
            function $mol_app_demo() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_demo.prototype.title = function () {
                var selected = this.selected();
                if (selected) {
                    var names = this.names_demo();
                    if (names.length === 1) {
                        return "$" + selected.replace(/_demo.*/, '') + ": " + this.Sample_large(names[0]).widget().title();
                    }
                    return "$" + selected;
                }
                return _super.prototype.title.call(this);
            };
            $mol_app_demo.prototype.welcome_text = function () {
                return $.$mol_http_resource.item('readme.md').text();
            };
            $mol_app_demo.prototype.names_demo_all = function () {
                var next = [];
                for (var name in $) {
                    if (!/^\$.*_demo($|_)/i.test(name))
                        continue;
                    if (/^\$mol_demo/.test(name))
                        continue;
                    if (/^\$mol_app_demo/.test(name))
                        continue;
                    if (typeof $[name] !== 'function')
                        continue;
                    next.push(name.substring(1));
                }
                return next.sort();
            };
            $mol_app_demo.prototype.names_demo_filtered = function () {
                var filter = this.filter_string();
                var names = this.names_demo_all().filter(function (name) { return (name.indexOf(filter) != -1); });
                return names;
            };
            $mol_app_demo.prototype.nav_hierarchy = function () {
                var names = this.names_demo_filtered();
                var hierarchy = {};
                var root = hierarchy[''] = {
                    id: '',
                    parent: null,
                    sub: [],
                };
                names.forEach(function (name) {
                    var chunks = name.split(/(?=[_.-])/);
                    var branch = root;
                    for (var i = 1; i <= chunks.length; ++i) {
                        var prefix = chunks.slice(0, i).join('');
                        if (!hierarchy[prefix]) {
                            branch.sub.push(hierarchy[prefix] = {
                                id: prefix,
                                parent: branch,
                                sub: [],
                            });
                        }
                        branch = hierarchy[prefix];
                    }
                });
                hierarchy[''].sub.map(function (child) { return reduce(child); });
                function reduce(node) {
                    if (names.indexOf(node.id) >= 0)
                        return node;
                    node.sub = node.sub.map(function (child) { return reduce(child); });
                    if (node.sub.length !== 1)
                        return node;
                    node.sub[0].parent = node.parent;
                    return node.sub[0];
                }
                return hierarchy;
            };
            $mol_app_demo.prototype.nav_option = function (id) {
                var parent = this.nav_hierarchy()[id].parent;
                var title = ("$" + id).substring(parent.id.length + 1).replace(/^[-._]|[-._]demo$/g, '');
                return { title: title };
            };
            $mol_app_demo.prototype.selected = function () {
                return $.$mol_state_arg.value(this.state_key('demo')) || '';
            };
            $mol_app_demo.prototype.option = function (name) {
                return new $mol.$mol_link().setup(function (obj) {
                    obj.sub = function () { return [name ? ('$' + name) : 'All']; };
                    obj.arg = function () { return ({ demo: name }); };
                });
            };
            $mol_app_demo.prototype.widget = function (name) {
                var Class = $['$' + name];
                return new Class();
            };
            $mol_app_demo.prototype.names_demo = function () {
                var selected = this.selected();
                var all = this.names_demo_all();
                var root = this.nav_hierarchy()[selected];
                if (!root)
                    return [];
                var names = [];
                var collect = function (node) {
                    var demo = node.id + "_demo";
                    if (all.indexOf(demo) !== -1) {
                        if (names.indexOf(demo) === -1)
                            names.push(demo);
                    }
                    else if (all.indexOf(node.id) !== -1) {
                        if (names.indexOf(node.id) === -1)
                            names.push(node.id);
                    }
                    else {
                        node.sub.forEach(function (child) { return collect(child); });
                    }
                };
                if (root.sub.length)
                    root.sub.forEach(function (child) { return collect(child); });
                collect(root);
                return names;
            };
            $mol_app_demo.prototype.blocks = function () {
                var sub = [];
                sub.push(this.Menu());
                if (this.selected())
                    sub.push(this.Detail());
                else
                    sub.unshift(this.Placeholder());
                return sub;
            };
            $mol_app_demo.prototype.main_content = function () {
                var names = this.names_demo();
                switch (names.length) {
                    case 0:
                        return [this.Detail_empty_message()];
                    case 1:
                        return [this.Sample_large(names[0])];
                    default:
                        return [this.Detail_row()];
                }
            };
            $mol_app_demo.prototype.Samples = function () {
                var _this = this;
                return this.names_demo().map(function (name) { return _this.Sample_small(name); });
            };
            $mol_app_demo.prototype.Sample_small = function (name) {
                var sample = new $mol.$mol_demo_small;
                sample.name = function () { return name; };
                return sample;
            };
            $mol_app_demo.prototype.Sample_large = function (name) {
                var sample = new $.$mol_demo_large();
                sample.title = function () { return null; };
                sample.name = function () { return name; };
                return sample;
            };
            $mol_app_demo.prototype.logo_uri = function () {
                return $.$mol_file.relative('/mol/logo/logo.svg').path();
            };
            return $mol_app_demo;
        }($.$mol_app_demo));
        __decorate([
            $.$mol_mem()
        ], $mol_app_demo.prototype, "welcome_text", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_demo.prototype, "names_demo_all", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_demo.prototype, "names_demo_filtered", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_demo.prototype, "nav_hierarchy", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_demo.prototype, "option", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_demo.prototype, "widget", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_demo.prototype, "names_demo", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_demo.prototype, "main_content", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_demo.prototype, "Samples", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_demo.prototype, "Sample_small", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_demo.prototype, "Sample_large", null);
        $mol.$mol_app_demo = $mol_app_demo;
        var $mol_app_demo_nav = (function (_super) {
            __extends($mol_app_demo_nav, _super);
            function $mol_app_demo_nav() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_demo_nav.prototype.Cell = function (id) {
                if (id.col === 'title')
                    return this.Option(id);
                return _super.prototype.cell.call(this, id);
            };
            $mol_app_demo_nav.prototype.arg = function (id) {
                return { 'demo': id.row[id.row.length - 1] };
            };
            return $mol_app_demo_nav;
        }($.$mol_app_demo_nav));
        $mol.$mol_app_demo_nav = $mol_app_demo_nav;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_folder = (function (_super) {
        __extends($mol_icon_folder, _super);
        function $mol_icon_folder() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_folder.prototype.path = function () {
            return "M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z";
        };
        return $mol_icon_folder;
    }($.$mol_icon));
    $.$mol_icon_folder = $mol_icon_folder;
})($ || ($ = {}));
//folder.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_file = (function (_super) {
        __extends($mol_icon_file, _super);
        function $mol_icon_file() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_file.prototype.path = function () {
            return "M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z";
        };
        return $mol_icon_file;
    }($.$mol_icon));
    $.$mol_icon_file = $mol_icon_file;
})($ || ($ = {}));
//file.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var $;
(function ($) {
    var $mol_embed = (function (_super) {
        __extends($mol_embed, _super);
        function $mol_embed() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_embed.prototype.dom_name = function () {
            return "object";
        };
        $mol_embed.prototype.uri = function () {
            return "";
        };
        $mol_embed.prototype.mime = function () {
            return "";
        };
        $mol_embed.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "data": this.uri(), "type": this.mime() }));
        };
        return $mol_embed;
    }($.$mol_view));
    $.$mol_embed = $mol_embed;
})($ || ($ = {}));
//embed.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_webdav = (function (_super) {
        __extends($mol_webdav, _super);
        function $mol_webdav() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_webdav.item = function (uri) {
            return new $mol_webdav().setup(function (obj) {
                obj.uri = function () { return uri; };
            });
        };
        $mol_webdav.prototype.data_tree = function () {
            var dom = this.request().response().responseXML;
            var responses = dom.querySelectorAll('response');
            var data = {};
            for (var _i = 0, responses_1 = responses; _i < responses_1.length; _i++) {
                var response = responses_1[_i];
                var uri = this.resolve(response.querySelector('href').textContent).uri();
                data[uri] = response;
            }
            return data;
        };
        $mol_webdav.prototype.data_self = function () {
            return this.parent().data_tree();
        };
        $mol_webdav.prototype.parent = function () {
            return $mol_webdav.item(this.uri().replace(/\/[^\/]*\/?$/, '/'));
        };
        $mol_webdav.prototype.sub = function () {
            var next = [];
            for (var uri in this.data_tree()) {
                if (uri == this.uri())
                    continue;
                next.push($mol_webdav.item(uri));
            }
            return next;
        };
        $mol_webdav.prototype.depth = function () {
            return 1;
        };
        $mol_webdav.prototype.headers = function () {
            return {
                'Depth': String(this.depth())
            };
        };
        $mol_webdav.prototype.method_get = function () {
            return 'PROPFIND';
        };
        $mol_webdav.prototype.resolve = function (uri) {
            if (!uri)
                return this;
            if (/^[-\w]+:/.test(uri)) {
                return $mol_webdav.item(uri);
            }
            if (uri[0] === '/') {
                return $mol_webdav.item(this.uri().replace(/^([^\/]+\/\/[^\/]+).*/, '$1') + uri);
            }
            var res = this.uri() + '/' + uri;
            while (true) {
                var prev = res;
                res = res.replace(/\/[^\/]+\/\.\.\//, '/');
                if (prev === res)
                    break;
            }
            while (true) {
                var prev = res;
                res = res.replace(/\/\.\.\/[^\/]+\//, '/');
                if (prev === res)
                    break;
            }
            return this.Class().item(res);
        };
        $mol_webdav.prototype.prop = function (prop) {
            return this.data_self()[this.uri()].querySelector(prop).textContent;
        };
        $mol_webdav.prototype.type = function () {
            return this.data_self()[this.uri()].querySelector('collection') ? 'dir' : 'file';
        };
        return $mol_webdav;
    }($.$mol_http_resource));
    __decorate([
        $.$mol_mem()
    ], $mol_webdav.prototype, "data_tree", null);
    __decorate([
        $.$mol_mem()
    ], $mol_webdav.prototype, "sub", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_webdav, "item", null);
    $.$mol_webdav = $mol_webdav;
})($ || ($ = {}));
//webdav.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_files = (function (_super) {
        __extends($mol_app_files, _super);
        function $mol_app_files() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_files.prototype.uri_root = function () {
            return "";
        };
        $mol_app_files.prototype.uri_current = function () {
            return this.uri_root();
        };
        $mol_app_files.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_files.prototype.webdav_title = function (folder) {
            return "";
        };
        $mol_app_files.prototype.folder_rows = function (folder) {
            return [];
        };
        $mol_app_files.prototype.Folder = function (folder) {
            var _this = this;
            return new $.$mol_app_files_folder().setup(function (obj) {
                obj.minimal_width = function () { return 400; };
                obj.title = function () { return _this.webdav_title(folder); };
                obj.tools = function () { return _this.page_tools(folder); };
                obj.rows = function () { return _this.folder_rows(folder); };
            });
        };
        $mol_app_files.prototype.folder_row_arg = function (uri) {
            return ({});
        };
        $mol_app_files.prototype.folder_row_current = function (uri) {
            return false;
        };
        $mol_app_files.prototype.folder_row_icon = function (uri) {
            return null;
        };
        $mol_app_files.prototype.folder_row_title = function (uri) {
            return "";
        };
        $mol_app_files.prototype.Folder_row = function (uri) {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.minimal_height = function () { return 40; };
                obj.arg = function () { return _this.folder_row_arg(uri); };
                obj.current = function () { return _this.folder_row_current(uri); };
                obj.sub = function () { return [].concat(_this.folder_row_icon(uri), _this.folder_row_title(uri)); };
            });
        };
        $mol_app_files.prototype.file_uri = function (file) {
            return "";
        };
        $mol_app_files.prototype.file_mime = function (file) {
            return "";
        };
        $mol_app_files.prototype.File = function (file) {
            var _this = this;
            return new $.$mol_app_files_file().setup(function (obj) {
                obj.minimal_width = function () { return 800; };
                obj.title = function () { return _this.webdav_title(file); };
                obj.tools = function () { return _this.page_tools(file); };
                obj.src = function () { return _this.file_uri(file); };
                obj.mime = function () { return _this.file_mime(file); };
            });
        };
        $mol_app_files.prototype.Icon_folder = function (uri) {
            return new $.$mol_icon_folder();
        };
        $mol_app_files.prototype.Icon_file = function (uri) {
            return new $.$mol_icon_file();
        };
        $mol_app_files.prototype.Placeholder = function () {
            var _this = this;
            return new $.$mol_book_placeholder().setup(function (obj) {
                obj.title = function () { return _this.title(); };
            });
        };
        $mol_app_files.prototype.Close_icon = function (uri) {
            return new $.$mol_icon_cross();
        };
        $mol_app_files.prototype.close_arg = function (uri) {
            return ({});
        };
        $mol_app_files.prototype.Close = function (uri) {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Close_icon(uri)); };
                obj.arg = function () { return _this.close_arg(uri); };
            });
        };
        $mol_app_files.prototype.page_tools = function (uri) {
            return [].concat(this.Close(uri));
        };
        return $mol_app_files;
    }($.$mol_book));
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_files.prototype, "Folder", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_files.prototype, "Folder_row", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_files.prototype, "File", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_files.prototype, "Icon_folder", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_files.prototype, "Icon_file", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_files.prototype, "Placeholder", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_files.prototype, "Close_icon", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_files.prototype, "Close", null);
    $.$mol_app_files = $mol_app_files;
})($ || ($ = {}));
(function ($) {
    var $mol_app_files_folder = (function (_super) {
        __extends($mol_app_files_folder, _super);
        function $mol_app_files_folder() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_files_folder.prototype.rows = function () {
            return [];
        };
        $mol_app_files_folder.prototype.Status = function () {
            var _this = this;
            return new $.$mol_status().setup(function (obj) {
                obj.status = function () { return _this.rows(); };
            });
        };
        $mol_app_files_folder.prototype.Folder_rows = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.rows(); };
            });
        };
        $mol_app_files_folder.prototype.body = function () {
            return [].concat(this.Status(), this.Folder_rows());
        };
        return $mol_app_files_folder;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_files_folder.prototype, "Status", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_files_folder.prototype, "Folder_rows", null);
    $.$mol_app_files_folder = $mol_app_files_folder;
})($ || ($ = {}));
(function ($) {
    var $mol_app_files_file = (function (_super) {
        __extends($mol_app_files_file, _super);
        function $mol_app_files_file() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_files_file.prototype.src = function () {
            return "";
        };
        $mol_app_files_file.prototype.mime = function () {
            return "";
        };
        $mol_app_files_file.prototype.Embed = function () {
            var _this = this;
            return new $.$mol_embed().setup(function (obj) {
                obj.uri = function () { return _this.src(); };
                obj.mime = function () { return _this.mime(); };
            });
        };
        $mol_app_files_file.prototype.body = function () {
            return [].concat(this.Embed());
        };
        return $mol_app_files_file;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_files_file.prototype, "Embed", null);
    $.$mol_app_files_file = $mol_app_files_file;
})($ || ($ = {}));
//files.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_files = (function (_super) {
            __extends($mol_app_files, _super);
            function $mol_app_files() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_files.prototype.pages = function () {
                var _this = this;
                return [
                    this.webdav_type(this.uri_current()) === 'dir'
                        ? this.Placeholder()
                        : null
                ].concat(this.webdavs().map(function (webdav) { return (_this.webdav_type(webdav.uri()) === 'dir')
                    ? _this.Folder(webdav.uri())
                    : _this.File(webdav.uri()); }));
            };
            $mol_app_files.prototype.uri_root = function (next) {
                return $.$mol_state_arg.value(this.state_key('root'), next) || _super.prototype.uri_root.call(this);
            };
            $mol_app_files.prototype.uri_current = function (next) {
                return $.$mol_state_arg.value(this.state_key('current'), next) || _super.prototype.uri_current.call(this);
            };
            $mol_app_files.prototype.root = function () {
                return $.$mol_webdav.item(this.uri_root());
            };
            $mol_app_files.prototype.current = function () {
                return $.$mol_webdav.item(this.uri_current());
            };
            $mol_app_files.prototype.webdav = function (uri) {
                return $.$mol_webdav.item(uri);
            };
            $mol_app_files.prototype.folder_row_current = function (uri) {
                return this.webdavs().indexOf(this.webdav(uri)) !== -1;
            };
            $mol_app_files.prototype.webdavs = function () {
                var root = this.root();
                var current = this.current();
                var webdavs = [current];
                var webdav = current;
                while (webdav !== root) {
                    webdav = webdav.parent();
                    webdavs.unshift(webdav);
                }
                return webdavs;
            };
            $mol_app_files.prototype.webdav_type = function (uri) {
                var webdav = this.webdav(uri);
                if (webdav === this.root() || webdav.type() === 'dir')
                    return 'dir';
                return 'file';
            };
            $mol_app_files.prototype.webdav_title = function (uri) {
                var webdav = this.webdav(uri);
                if (webdav === this.root())
                    return _super.prototype.title.call(this);
                return webdav.prop('displayname') || '';
            };
            $mol_app_files.prototype.folder_rows = function (uri) {
                var _this = this;
                return this.webdav(uri).sub().map(function (webdav) { return _this.Folder_row(webdav.uri()); });
            };
            $mol_app_files.prototype.folder_row_arg = function (uri) {
                return { 'current': uri };
            };
            $mol_app_files.prototype.folder_row_icon = function (uri) {
                return this.webdav_type(uri) === 'dir'
                    ? this.Icon_folder(uri)
                    : this.Icon_file(uri);
            };
            $mol_app_files.prototype.folder_row_title = function (uri) {
                return this.webdav(uri).prop('displayname');
            };
            $mol_app_files.prototype.file_uri = function (uri) {
                return uri;
            };
            $mol_app_files.prototype.file_mime = function (uri) {
                return this.webdav(uri).prop('getcontenttype');
            };
            $mol_app_files.prototype.title = function () {
                return this.webdav_title(this.uri_current());
            };
            $mol_app_files.prototype.Close = function (uri) {
                return uri !== this.uri_root()
                    ? _super.prototype.Close.call(this, uri)
                    : null;
            };
            $mol_app_files.prototype.close_arg = function (uri) {
                return { 'current': this.webdav(uri).parent().uri() };
            };
            return $mol_app_files;
        }($.$mol_app_files));
        $mol.$mol_app_files = $mol_app_files;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//files.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_files_demo = (function (_super) {
        __extends($mol_app_files_demo, _super);
        function $mol_app_files_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_files_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_files_demo.prototype.uri_root = function () {
            return "http://ajaxexplorer.com/User5df12c6/";
        };
        return $mol_app_files_demo;
    }($.$mol_app_files));
    $.$mol_app_files_demo = $mol_app_files_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_http_resource_json = (function (_super) {
        __extends($mol_http_resource_json, _super);
        function $mol_http_resource_json() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_http_resource_json.item = function (uri) {
            return new $mol_http_resource_json().setup(function (obj) {
                obj.uri = function () { return uri; };
            });
        };
        $mol_http_resource_json.prototype.json = function (next, force) {
            return JSON.parse(this.text(next && JSON.stringify(next, null, '\t'), force));
        };
        return $mol_http_resource_json;
    }($.$mol_http_resource));
    __decorate([
        $.$mol_mem()
    ], $mol_http_resource_json.prototype, "json", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_http_resource_json, "item", null);
    $.$mol_http_resource_json = $mol_http_resource_json;
})($ || ($ = {}));
//json.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_habhub = (function (_super) {
        __extends($mol_app_habhub, _super);
        function $mol_app_habhub() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_habhub.prototype.Placeholder = function () {
            var _this = this;
            return new $.$mol_book_placeholder().setup(function (obj) {
                obj.minimal_width = function () { return 600; };
                obj.title = function () { return _this.title_default(); };
            });
        };
        $mol_app_habhub.prototype.title_default = function () {
            return "HabHub";
        };
        $mol_app_habhub.prototype.gists = function () {
            return [];
        };
        $mol_app_habhub.prototype.Status = function () {
            var _this = this;
            return new $.$mol_status().setup(function (obj) {
                obj.status = function () { return _this.gists(); };
            });
        };
        $mol_app_habhub.prototype.menu_rows = function () {
            return [];
        };
        $mol_app_habhub.prototype.Menu = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.menu_rows(); };
            });
        };
        $mol_app_habhub.prototype.Menu_page = function () {
            var _this = this;
            return new $.$mol_page().setup(function (obj) {
                obj.minimal_width = function () { return 400; };
                obj.title = function () { return _this.title_default(); };
                obj.body = function () { return [].concat(_this.Status(), _this.Menu()); };
            });
        };
        $mol_app_habhub.prototype.gist_current_title = function () {
            return "";
        };
        $mol_app_habhub.prototype.close_arg = function () {
            return ({
                "gist": null,
            });
        };
        $mol_app_habhub.prototype.Close_icon = function () {
            return new $.$mol_icon_cross();
        };
        $mol_app_habhub.prototype.Close = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.arg = function () { return _this.close_arg(); };
                obj.sub = function () { return [].concat(_this.Close_icon()); };
            });
        };
        $mol_app_habhub.prototype.details_scroll_top = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_app_habhub.prototype.gist_current_content = function () {
            return "";
        };
        $mol_app_habhub.prototype.Datails_text = function () {
            var _this = this;
            return new $.$mol_text().setup(function (obj) {
                obj.text = function () { return _this.gist_current_content(); };
            });
        };
        $mol_app_habhub.prototype.Details = function () {
            var _this = this;
            return new $.$mol_page().setup(function (obj) {
                obj.minimal_width = function () { return 600; };
                obj.title = function () { return _this.gist_current_title(); };
                obj.tools = function () { return [].concat(_this.Close()); };
                obj.body_scroll_top = function (val) { return _this.details_scroll_top(val); };
                obj.body = function () { return [].concat(_this.Datails_text()); };
            });
        };
        $mol_app_habhub.prototype.pages = function () {
            return [].concat(this.Placeholder(), this.Menu_page(), this.Details());
        };
        $mol_app_habhub.prototype.gist_title = function (id) {
            return "";
        };
        $mol_app_habhub.prototype.gist_arg = function (id) {
            return ({});
        };
        $mol_app_habhub.prototype.Menu_row = function (id) {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.title = function () { return _this.gist_title(id); };
                obj.arg = function () { return _this.gist_arg(id); };
            });
        };
        return $mol_app_habhub;
    }($.$mol_book));
    __decorate([
        $.$mol_mem()
    ], $mol_app_habhub.prototype, "Placeholder", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_habhub.prototype, "Status", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_habhub.prototype, "Menu", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_habhub.prototype, "Menu_page", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_habhub.prototype, "Close_icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_habhub.prototype, "Close", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_habhub.prototype, "details_scroll_top", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_habhub.prototype, "Datails_text", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_habhub.prototype, "Details", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_habhub.prototype, "Menu_row", null);
    $.$mol_app_habhub = $mol_app_habhub;
})($ || ($ = {}));
//habhub.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_habhub = (function (_super) {
            __extends($mol_app_habhub, _super);
            function $mol_app_habhub() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_habhub.prototype.uriSource = function () {
                return 'https://api.github.com/search/issues?q=label:HabHub+is:open&sort=reactions';
            };
            $mol_app_habhub.prototype.gists = function () {
                return $.$mol_http_resource_json.item(this.uriSource()).json().items;
            };
            $mol_app_habhub.prototype.gists_dict = function () {
                var dict = {};
                this.gists().forEach(function (gist) { return dict[gist.id] = gist; });
                return dict;
            };
            $mol_app_habhub.prototype.gist = function (id) {
                return this.gists_dict()[id];
            };
            $mol_app_habhub.prototype.gist_current_id = function () {
                return Number($.$mol_state_arg.value('gist'));
            };
            $mol_app_habhub.prototype.pages = function () {
                var gist = this.gist_current_id();
                return [
                    gist ? null : this.Placeholder(),
                    this.Menu_page(),
                    gist ? this.Details() : null
                ];
            };
            $mol_app_habhub.prototype.menu_rows = function () {
                var _this = this;
                return this.gists().map(function (gist, index) { return _this.Menu_row(gist.id); });
            };
            $mol_app_habhub.prototype.gist_title = function (id) {
                return this.gist(id).title;
            };
            $mol_app_habhub.prototype.gist_arg = function (id) {
                return { gist: id };
            };
            $mol_app_habhub.prototype.gist_current_title = function () {
                return this.gist(this.gist_current_id()).title;
            };
            $mol_app_habhub.prototype.gist_current_content = function () {
                return this.gist(this.gist_current_id()).body;
            };
            $mol_app_habhub.prototype.details_scroll_top = function (next) {
                var current = this.gist_current_id();
                return $.$mol_state_session.value(this + ".details_scroll_top(" + current + ")", next);
            };
            return $mol_app_habhub;
        }($.$mol_app_habhub));
        $mol.$mol_app_habhub = $mol_app_habhub;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//habhub.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_habhub_demo = (function (_super) {
        __extends($mol_app_habhub_demo, _super);
        function $mol_app_habhub_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_habhub_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        return $mol_app_habhub_demo;
    }($.$mol_app_habhub));
    $.$mol_app_habhub_demo = $mol_app_habhub_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_hello = (function (_super) {
        __extends($mol_app_hello, _super);
        function $mol_app_hello() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_hello.prototype.name_hint = function () {
            return "Name";
        };
        $mol_app_hello.prototype.name = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_hello.prototype.Name = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return _this.name_hint(); };
                obj.value = function (val) { return _this.name(val); };
            });
        };
        $mol_app_hello.prototype.greeting = function () {
            return "";
        };
        $mol_app_hello.prototype.Greeting = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.greeting()); };
            });
        };
        $mol_app_hello.prototype.sub = function () {
            return [].concat(this.Name(), this.Greeting());
        };
        return $mol_app_hello;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_app_hello.prototype, "name", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_hello.prototype, "Name", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_hello.prototype, "Greeting", null);
    $.$mol_app_hello = $mol_app_hello;
})($ || ($ = {}));
//hello.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_hello = (function (_super) {
            __extends($mol_app_hello, _super);
            function $mol_app_hello() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_hello.prototype.greeting = function () {
                var name = this.name();
                return name && "Hello, " + name + "!";
            };
            return $mol_app_hello;
        }($.$mol_app_hello));
        $mol.$mol_app_hello = $mol_app_hello;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//hello.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_hello_demo = (function (_super) {
        __extends($mol_app_hello_demo, _super);
        function $mol_app_hello_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_hello_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        return $mol_app_hello_demo;
    }($.$mol_app_hello));
    $.$mol_app_hello_demo = $mol_app_hello_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_inventory = (function (_super) {
        __extends($mol_app_inventory, _super);
        function $mol_app_inventory() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory.prototype.domain = function () {
            return new $.$mol_app_inventory_domain();
        };
        $mol_app_inventory.prototype.Page = function () {
            return null;
        };
        $mol_app_inventory.prototype.sub = function () {
            return [].concat(this.Page());
        };
        $mol_app_inventory.prototype.can_write_off = function () {
            return false;
        };
        $mol_app_inventory.prototype.can_approve = function () {
            return false;
        };
        $mol_app_inventory.prototype.Head = function () {
            var _this = this;
            return new $.$mol_app_inventory_head().setup(function (obj) {
                obj.keeper_show = function () { return _this.can_write_off(); };
                obj.control_show = function () { return _this.can_approve(); };
            });
        };
        $mol_app_inventory.prototype.Enter = function () {
            var _this = this;
            return new $.$mol_app_inventory_enter().setup(function (obj) {
                obj.domain = function () { return _this.domain(); };
            });
        };
        $mol_app_inventory.prototype.Controller = function () {
            var _this = this;
            return new $.$mol_app_inventory_controller().setup(function (obj) {
                obj.Head = function () { return _this.Head(); };
                obj.domain = function () { return _this.domain(); };
            });
        };
        $mol_app_inventory.prototype.Keeper = function () {
            var _this = this;
            return new $.$mol_app_inventory_keeper().setup(function (obj) {
                obj.Head = function () { return _this.Head(); };
                obj.domain = function () { return _this.domain(); };
            });
        };
        $mol_app_inventory.prototype.Stats = function () {
            var _this = this;
            return new $.$mol_app_inventory_stats().setup(function (obj) {
                obj.Head = function () { return _this.Head(); };
                obj.domain = function () { return _this.domain(); };
            });
        };
        return $mol_app_inventory;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory.prototype, "domain", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory.prototype, "Head", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory.prototype, "Enter", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory.prototype, "Controller", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory.prototype, "Keeper", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory.prototype, "Stats", null);
    $.$mol_app_inventory = $mol_app_inventory;
})($ || ($ = {}));
(function ($) {
    var $mol_app_inventory_head = (function (_super) {
        __extends($mol_app_inventory_head, _super);
        function $mol_app_inventory_head() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_head.prototype.keeper_show = function () {
            return false;
        };
        $mol_app_inventory_head.prototype.control_show = function () {
            return false;
        };
        $mol_app_inventory_head.prototype.keeper_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "keeper_label");
        };
        $mol_app_inventory_head.prototype.Keeper_link = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.arg = function () { return ({
                    "page": "keeper",
                }); };
                obj.sub = function () { return [].concat(_this.keeper_label()); };
            });
        };
        $mol_app_inventory_head.prototype.control_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "control_label");
        };
        $mol_app_inventory_head.prototype.Control_link = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.arg = function () { return ({
                    "page": "controller",
                }); };
                obj.sub = function () { return [].concat(_this.control_label()); };
            });
        };
        $mol_app_inventory_head.prototype.stats_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "stats_label");
        };
        $mol_app_inventory_head.prototype.Stats_link = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.arg = function () { return ({
                    "page": "stats",
                }); };
                obj.sub = function () { return [].concat(_this.stats_label()); };
            });
        };
        $mol_app_inventory_head.prototype.sub = function () {
            return [].concat(this.Keeper_link(), this.Control_link(), this.Stats_link());
        };
        return $mol_app_inventory_head;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_head.prototype, "Keeper_link", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_head.prototype, "Control_link", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_head.prototype, "Stats_link", null);
    $.$mol_app_inventory_head = $mol_app_inventory_head;
})($ || ($ = {}));
//inventory.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_inventory = (function (_super) {
            __extends($mol_app_inventory, _super);
            function $mol_app_inventory() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_inventory.prototype.Page = function () {
                if (!this.domain().authentificated()) {
                    return this.Enter();
                }
                switch (this.page_name()) {
                    case 'keeper': return this.Keeper();
                    case 'controller': return this.Controller();
                    case 'stats': return this.Stats();
                }
                if (this.can_write_off())
                    return this.Keeper();
                if (this.can_approve())
                    return this.Controller();
                return null;
            };
            $mol_app_inventory.prototype.page_name = function (next) {
                return $.$mol_state_arg.value(this.state_key('page'), next) || '';
            };
            $mol_app_inventory.prototype.can_write_off = function () {
                return this.domain().can_write_off();
            };
            $mol_app_inventory.prototype.can_approve = function () {
                return this.domain().can_approve();
            };
            return $mol_app_inventory;
        }($.$mol_app_inventory));
        __decorate([
            $.$mol_mem()
        ], $mol_app_inventory.prototype, "page_name", null);
        $mol.$mol_app_inventory = $mol_app_inventory;
        var $mol_app_inventory_head = (function (_super) {
            __extends($mol_app_inventory_head, _super);
            function $mol_app_inventory_head() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_inventory_head.prototype.sub = function () {
                return [
                    this.keeper_show() ? this.Keeper_link() : null,
                    this.control_show() ? this.Control_link() : null,
                ];
            };
            return $mol_app_inventory_head;
        }($.$mol_app_inventory_head));
        $mol.$mol_app_inventory_head = $mol_app_inventory_head;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//inventory.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_inventory_stats = (function (_super) {
        __extends($mol_app_inventory_stats, _super);
        function $mol_app_inventory_stats() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_stats.prototype.domain = function () {
            return new $.$mol_app_inventory_domain();
        };
        return $mol_app_inventory_stats;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_stats.prototype, "domain", null);
    $.$mol_app_inventory_stats = $mol_app_inventory_stats;
})($ || ($ = {}));
//stats.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_minus = (function (_super) {
        __extends($mol_icon_minus, _super);
        function $mol_icon_minus() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_minus.prototype.path = function () {
            return "M19 13H5v-2h14v2z";
        };
        return $mol_icon_minus;
    }($.$mol_icon));
    $.$mol_icon_minus = $mol_icon_minus;
})($ || ($ = {}));
//minus.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_plus = (function (_super) {
        __extends($mol_icon_plus, _super);
        function $mol_icon_plus() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_plus.prototype.path = function () {
            return "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z";
        };
        return $mol_icon_plus;
    }($.$mol_icon));
    $.$mol_icon_plus = $mol_icon_plus;
})($ || ($ = {}));
//plus.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_number = (function (_super) {
        __extends($mol_number, _super);
        function $mol_number() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_number.prototype.precision = function () {
            return 1;
        };
        $mol_number.prototype.precision_view = function () {
            return this.precision();
        };
        $mol_number.prototype.precision_change = function () {
            return this.precision();
        };
        $mol_number.prototype.value = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_number.prototype.event_wheel = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_number.prototype.event_async = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event_async.call(this), { "wheel": function (val) { return _this.event_wheel(val); } }));
        };
        $mol_number.prototype.event_dec = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_number.prototype.enabled = function () {
            return true;
        };
        $mol_number.prototype.dec_enabled = function () {
            return this.enabled();
        };
        $mol_number.prototype.dec_icon = function () {
            return new $.$mol_icon_minus();
        };
        $mol_number.prototype.Dec = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.event_click = function (val) { return _this.event_dec(val); };
                obj.enabled = function () { return _this.dec_enabled(); };
                obj.sub = function () { return [].concat(_this.dec_icon()); };
            });
        };
        $mol_number.prototype.value_string = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_number.prototype.hint = function () {
            return "";
        };
        $mol_number.prototype.string_enabled = function () {
            return this.enabled();
        };
        $mol_number.prototype.String = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.type = function () { return "number"; };
                obj.value = function (val) { return _this.value_string(val); };
                obj.hint = function () { return _this.hint(); };
                obj.enabled = function () { return _this.string_enabled(); };
            });
        };
        $mol_number.prototype.event_inc = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_number.prototype.inc_enabled = function () {
            return this.enabled();
        };
        $mol_number.prototype.inc_icon = function () {
            return new $.$mol_icon_plus();
        };
        $mol_number.prototype.Inc = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.event_click = function (val) { return _this.event_inc(val); };
                obj.enabled = function () { return _this.inc_enabled(); };
                obj.sub = function () { return [].concat(_this.inc_icon()); };
            });
        };
        $mol_number.prototype.sub = function () {
            return [].concat(this.Dec(), this.String(), this.Inc());
        };
        return $mol_number;
    }($.$mol_bar));
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "event_wheel", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "event_dec", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "dec_icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "Dec", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "value_string", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "String", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "event_inc", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "inc_icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number.prototype, "Inc", null);
    $.$mol_number = $mol_number;
})($ || ($ = {}));
//number.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_number = (function (_super) {
            __extends($mol_number, _super);
            function $mol_number() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_number.prototype.event_dec = function (next) {
                this.value(this.value() - this.precision_change());
            };
            $mol_number.prototype.event_inc = function (next) {
                this.value(Number(this.value()) + this.precision_change());
            };
            $mol_number.prototype.value_string = function (next) {
                if (next !== void 0) {
                    this.value(next === '' ? null : Number(next));
                }
                var precisionView = this.precision_view();
                var value = next ? Number(next) : this.value();
                if (value === null)
                    return '';
                if (precisionView >= 1) {
                    return (value / precisionView).toFixed();
                }
                else {
                    var fixedNumber = Math.log(1 / precisionView) / Math.log(10);
                    return value.toFixed(fixedNumber);
                }
            };
            $mol_number.prototype.event_wheel = function (next) {
                next.preventDefault();
                if (next.wheelDelta < 0 && this.inc_enabled())
                    this.event_inc(next);
                if (next.wheelDelta > 0 && this.dec_enabled())
                    this.event_dec(next);
            };
            return $mol_number;
        }($.$mol_number));
        $mol.$mol_number = $mol_number;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//number.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_switch = (function (_super) {
        __extends($mol_switch, _super);
        function $mol_switch() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_switch.prototype.minimal_height = function () {
            return 44;
        };
        $mol_switch.prototype.option_checked = function (id, val) {
            return (val !== void 0) ? val : false;
        };
        $mol_switch.prototype.option_title = function (id) {
            return "";
        };
        $mol_switch.prototype.enabled = function () {
            return true;
        };
        $mol_switch.prototype.option_enabled = function (id) {
            return this.enabled();
        };
        $mol_switch.prototype.Option = function (id) {
            var _this = this;
            return new $.$mol_check().setup(function (obj) {
                obj.checked = function (val) { return _this.option_checked(id, val); };
                obj.label = function () { return [].concat(_this.option_title(id)); };
                obj.enabled = function () { return _this.option_enabled(id); };
            });
        };
        $mol_switch.prototype.value = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_switch.prototype.options = function () {
            return ({});
        };
        $mol_switch.prototype.items = function () {
            return [];
        };
        $mol_switch.prototype.sub = function () {
            return this.items();
        };
        return $mol_switch;
    }($.$mol_view));
    __decorate([
        $.$mol_mem_key()
    ], $mol_switch.prototype, "option_checked", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_switch.prototype, "Option", null);
    __decorate([
        $.$mol_mem()
    ], $mol_switch.prototype, "value", null);
    $.$mol_switch = $mol_switch;
})($ || ($ = {}));
//switch.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_switch = (function (_super) {
            __extends($mol_switch, _super);
            function $mol_switch() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_switch.prototype.value = function (next) {
                return $.$mol_state_session.value(this + ".value()", next);
            };
            $mol_switch.prototype.options = function () {
                return {};
            };
            $mol_switch.prototype.items = function () {
                var _this = this;
                return Object.keys(this.options()).map(function (key) { return _this.Option(key); });
            };
            $mol_switch.prototype.option_title = function (key) {
                return this.options()[key];
            };
            $mol_switch.prototype.option_checked = function (key, next) {
                if (next === void 0)
                    return this.value() === key;
                this.value(next ? key : null);
            };
            return $mol_switch;
        }($.$mol_switch));
        __decorate([
            $.$mol_mem()
        ], $mol_switch.prototype, "items", null);
        $mol.$mol_switch = $mol_switch;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//switch.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_inventory_position = (function (_super) {
        __extends($mol_app_inventory_position, _super);
        function $mol_app_inventory_position() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_position.prototype.position = function () {
            return null;
        };
        $mol_app_inventory_position.prototype.title = function () {
            return "";
        };
        $mol_app_inventory_position.prototype.Title = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.title()); };
            });
        };
        $mol_app_inventory_position.prototype.description = function () {
            return "";
        };
        $mol_app_inventory_position.prototype.Description = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.description()); };
            });
        };
        $mol_app_inventory_position.prototype.Product = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Title(), _this.Description()); };
            });
        };
        $mol_app_inventory_position.prototype.count_editable = function () {
            return true;
        };
        $mol_app_inventory_position.prototype.count = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_app_inventory_position.prototype.Count = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.enabled = function () { return _this.count_editable(); };
                obj.value = function (val) { return _this.count(val); };
            });
        };
        $mol_app_inventory_position.prototype.status = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_app_inventory_position.prototype.status_label_pending = function () {
            return $.$mol_locale.text(this.locale_contexts(), "status_label_pending");
        };
        $mol_app_inventory_position.prototype.status_label_approved = function () {
            return $.$mol_locale.text(this.locale_contexts(), "status_label_approved");
        };
        $mol_app_inventory_position.prototype.status_label_rejected = function () {
            return $.$mol_locale.text(this.locale_contexts(), "status_label_rejected");
        };
        $mol_app_inventory_position.prototype.Status = function () {
            var _this = this;
            return new $.$mol_switch().setup(function (obj) {
                obj.value = function (val) { return _this.status(val); };
                obj.options = function () { return ({
                    "pending": _this.status_label_pending(),
                    "approved": _this.status_label_approved(),
                    "rejected": _this.status_label_rejected(),
                }); };
            });
        };
        $mol_app_inventory_position.prototype.sub = function () {
            return [].concat(this.Product(), this.Count(), this.Status());
        };
        return $mol_app_inventory_position;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_position.prototype, "Title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_position.prototype, "Description", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_position.prototype, "Product", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_position.prototype, "count", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_position.prototype, "Count", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_position.prototype, "status", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_position.prototype, "Status", null);
    $.$mol_app_inventory_position = $mol_app_inventory_position;
})($ || ($ = {}));
//position.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_inventory_position = (function (_super) {
            __extends($mol_app_inventory_position, _super);
            function $mol_app_inventory_position() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_inventory_position.prototype.position = function () {
                return new $.$mol_app_inventory_domain_position();
            };
            $mol_app_inventory_position.prototype.title = function () {
                return this.position().product().title();
            };
            $mol_app_inventory_position.prototype.description = function () {
                return this.position().product().description();
            };
            $mol_app_inventory_position.prototype.count = function (next) {
                return this.position().count(next);
            };
            $mol_app_inventory_position.prototype.status = function (next) {
                return this.position().status(next);
            };
            return $mol_app_inventory_position;
        }($.$mol_app_inventory_position));
        __decorate([
            $.$mol_mem()
        ], $mol_app_inventory_position.prototype, "position", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_inventory_position.prototype, "status", null);
        $mol.$mol_app_inventory_position = $mol_app_inventory_position;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//position.view.js.map
;
var cordova;
var $;
(function ($) {
    $.$mol_cordova = cordova || {
        plugins: {
            barcodeScanner: null
        }
    };
    function $mol_cordova_camera() {
        return navigator['camera'];
    }
    $.$mol_cordova_camera = $mol_cordova_camera;
})($ || ($ = {}));
//cordova.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_code = (function (_super) {
        __extends($mol_code, _super);
        function $mol_code() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_code.prototype.value = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_code.prototype.format = function () {
            return "";
        };
        $mol_code.prototype.hint = function () {
            return this.format();
        };
        $mol_code.prototype.Manual = function () {
            var _this = this;
            return new $.$mol_search().setup(function (obj) {
                obj.query = function (val) { return _this.value(val); };
                obj.hint = function () { return _this.hint(); };
            });
        };
        $mol_code.prototype.event_scan = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_code.prototype.scan_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "scan_label");
        };
        $mol_code.prototype.Scan = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.event_click = function (val) { return _this.event_scan(val); };
                obj.sub = function () { return [].concat(_this.scan_label()); };
            });
        };
        $mol_code.prototype.sub = function () {
            return [].concat(this.Manual(), this.Scan());
        };
        return $mol_code;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_code.prototype, "value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code.prototype, "Manual", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code.prototype, "event_scan", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code.prototype, "Scan", null);
    $.$mol_code = $mol_code;
})($ || ($ = {}));
//code.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_code = (function (_super) {
            __extends($mol_code, _super);
            function $mol_code() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_code.prototype.scan_support = function () {
                return Boolean($.$mol_cordova.plugins.barcodeScanner);
            };
            $mol_code.prototype.Scan = function () {
                return this.scan_support() ? _super.prototype.Scan.call(this) : null;
            };
            $mol_code.prototype.event_scan = function () {
                var _this = this;
                $.$mol_cordova.plugins.barcodeScanner.scan(function (result) {
                    if (result.cancelled)
                        return;
                    _this.value(result.text);
                }, function (error) {
                    alert("Scanning failed: " + error);
                });
            };
            return $mol_code;
        }($.$mol_code));
        $mol.$mol_code = $mol_code;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//code.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_inventory_keeper = (function (_super) {
        __extends($mol_app_inventory_keeper, _super);
        function $mol_app_inventory_keeper() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_keeper.prototype.domain = function () {
            return new $.$mol_app_inventory_domain();
        };
        $mol_app_inventory_keeper.prototype.position_rows = function () {
            return [];
        };
        $mol_app_inventory_keeper.prototype.body = function () {
            return this.position_rows();
        };
        $mol_app_inventory_keeper.prototype.position = function (id) {
            return null;
        };
        $mol_app_inventory_keeper.prototype.Position_row = function (id) {
            var _this = this;
            return new $.$mol_app_inventory_position().setup(function (obj) {
                obj.Status = function () { return null; };
                obj.position = function () { return _this.position(id); };
            });
        };
        $mol_app_inventory_keeper.prototype.code_new = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_inventory_keeper.prototype.code_new_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "code_new_hint");
        };
        $mol_app_inventory_keeper.prototype.Code = function () {
            var _this = this;
            return new $.$mol_code().setup(function (obj) {
                obj.value = function (val) { return _this.code_new(val); };
                obj.hint = function () { return _this.code_new_hint(); };
            });
        };
        $mol_app_inventory_keeper.prototype.event_submit = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_app_inventory_keeper.prototype.submit_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "submit_label");
        };
        $mol_app_inventory_keeper.prototype.Submit = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.event_click = function (event) { return _this.event_submit(event); };
                obj.sub = function () { return [].concat(_this.submit_label()); };
            });
        };
        $mol_app_inventory_keeper.prototype.Action_row = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Code(), _this.Submit()); };
            });
        };
        $mol_app_inventory_keeper.prototype.foot = function () {
            return [].concat(this.Action_row());
        };
        return $mol_app_inventory_keeper;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_keeper.prototype, "domain", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_inventory_keeper.prototype, "Position_row", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_keeper.prototype, "code_new", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_keeper.prototype, "Code", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_keeper.prototype, "event_submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_keeper.prototype, "Submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_keeper.prototype, "Action_row", null);
    $.$mol_app_inventory_keeper = $mol_app_inventory_keeper;
})($ || ($ = {}));
//keeper.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_inventory_keeper = (function (_super) {
            __extends($mol_app_inventory_keeper, _super);
            function $mol_app_inventory_keeper() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_inventory_keeper.prototype.position = function (id) {
                return this.domain().position(id);
            };
            $mol_app_inventory_keeper.prototype.code_new = function (next) {
                if (next === void 0)
                    return '';
                var domain = this.domain();
                var product = domain.product_by_code(next);
                if (!product)
                    return next;
                var position = domain.position_by_product_id(product.id());
                position.count(position.count() + 1);
                return '';
            };
            $mol_app_inventory_keeper.prototype.position_rows = function () {
                var _this = this;
                return this.positions().map(function (position) { return _this.Position_row(position.id()); });
            };
            $mol_app_inventory_keeper.prototype.positions = function () {
                return this.domain().positions().filter(function (position) {
                    switch (position.status()) {
                        case 'draft': return true;
                        case 'rejected': return true;
                    }
                    return false;
                });
            };
            $mol_app_inventory_keeper.prototype.event_submit = function (next) {
                this.positions().forEach(function (position) {
                    position.status('pending');
                });
            };
            return $mol_app_inventory_keeper;
        }($.$mol_app_inventory_keeper));
        __decorate([
            $.$mol_mem()
        ], $mol_app_inventory_keeper.prototype, "code_new", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_inventory_keeper.prototype, "position_rows", null);
        $mol.$mol_app_inventory_keeper = $mol_app_inventory_keeper;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//keeper.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_inventory_controller = (function (_super) {
        __extends($mol_app_inventory_controller, _super);
        function $mol_app_inventory_controller() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_controller.prototype.domain = function () {
            return new $.$mol_app_inventory_domain();
        };
        $mol_app_inventory_controller.prototype.position_rows = function () {
            return [];
        };
        $mol_app_inventory_controller.prototype.body = function () {
            return this.position_rows();
        };
        $mol_app_inventory_controller.prototype.position = function (id) {
            return null;
        };
        $mol_app_inventory_controller.prototype.Position_row = function (id) {
            var _this = this;
            return new $.$mol_app_inventory_position().setup(function (obj) {
                obj.count_editable = function () { return false; };
                obj.position = function () { return _this.position(id); };
            });
        };
        $mol_app_inventory_controller.prototype.event_sweep = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_app_inventory_controller.prototype.submit_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "submit_label");
        };
        $mol_app_inventory_controller.prototype.Sweep = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.event_click = function (event) { return _this.event_sweep(event); };
                obj.sub = function () { return [].concat(_this.submit_label()); };
            });
        };
        $mol_app_inventory_controller.prototype.Controls_row = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Sweep()); };
            });
        };
        $mol_app_inventory_controller.prototype.foot = function () {
            return [].concat(this.Controls_row());
        };
        return $mol_app_inventory_controller;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_controller.prototype, "domain", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_inventory_controller.prototype, "Position_row", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_controller.prototype, "event_sweep", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_controller.prototype, "Sweep", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_controller.prototype, "Controls_row", null);
    $.$mol_app_inventory_controller = $mol_app_inventory_controller;
})($ || ($ = {}));
//controller.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_inventory_controller = (function (_super) {
            __extends($mol_app_inventory_controller, _super);
            function $mol_app_inventory_controller() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_inventory_controller.prototype.position = function (id) {
                return this.domain().position(id);
            };
            $mol_app_inventory_controller.prototype.position_rows = function () {
                var _this = this;
                return this.positions().map(function (position) { return _this.Position_row(position.id()); });
            };
            $mol_app_inventory_controller.prototype.positions = function () {
                return this.domain().positions().filter(function (position) {
                    switch (position.status()) {
                        case 'pending': return true;
                        case 'rejected': return true;
                        case 'approved': return true;
                    }
                    return false;
                });
            };
            $mol_app_inventory_controller.prototype.event_sweep = function (next) {
                this.positions().forEach(function (position) {
                    if (position.status() === 'approved') {
                        position.status('completed');
                    }
                });
            };
            return $mol_app_inventory_controller;
        }($.$mol_app_inventory_controller));
        __decorate([
            $.$mol_mem()
        ], $mol_app_inventory_controller.prototype, "position_rows", null);
        $mol.$mol_app_inventory_controller = $mol_app_inventory_controller;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//controller.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_form = (function (_super) {
        __extends($mol_form, _super);
        function $mol_form() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_form.prototype.submit_blocked = function () {
            return false;
        };
        $mol_form.prototype.form_fields = function () {
            return [];
        };
        $mol_form.prototype.Bar_fields = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.form_fields(); };
            });
        };
        $mol_form.prototype.buttons = function () {
            return [];
        };
        $mol_form.prototype.Bar_buttons = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return _this.buttons(); };
            });
        };
        $mol_form.prototype.sub = function () {
            return [].concat(this.Bar_fields(), this.Bar_buttons());
        };
        return $mol_form;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_form.prototype, "Bar_fields", null);
    __decorate([
        $.$mol_mem()
    ], $mol_form.prototype, "Bar_buttons", null);
    $.$mol_form = $mol_form;
})($ || ($ = {}));
//form.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_form = (function (_super) {
            __extends($mol_form, _super);
            function $mol_form() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_form.prototype.submit_blocked = function () {
                return this.form_fields().some(function (field) { return field.errors().length !== 0; });
            };
            return $mol_form;
        }($.$mol_form));
        __decorate([
            $.$mol_mem()
        ], $mol_form.prototype, "submit_blocked", null);
        $mol.$mol_form = $mol_form;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//form.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_labeler = (function (_super) {
        __extends($mol_labeler, _super);
        function $mol_labeler() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_labeler.prototype.dom_name = function () {
            return "label";
        };
        $mol_labeler.prototype.label = function () {
            return [].concat(this.title());
        };
        $mol_labeler.prototype.Title = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.label(); };
            });
        };
        $mol_labeler.prototype.content = function () {
            return null;
        };
        $mol_labeler.prototype.Content = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.content()); };
            });
        };
        $mol_labeler.prototype.sub = function () {
            return [].concat(this.Title(), this.Content());
        };
        return $mol_labeler;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_labeler.prototype, "Title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_labeler.prototype, "Content", null);
    $.$mol_labeler = $mol_labeler;
})($ || ($ = {}));
//labeler.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_form_field = (function (_super) {
        __extends($mol_form_field, _super);
        function $mol_form_field() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_form_field.prototype.name = function () {
            return "";
        };
        $mol_form_field.prototype.errors = function () {
            return [];
        };
        $mol_form_field.prototype.Bid = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.errors(); };
            });
        };
        $mol_form_field.prototype.label = function () {
            return [].concat(this.name(), this.Bid());
        };
        $mol_form_field.prototype.control = function () {
            return null;
        };
        $mol_form_field.prototype.content = function () {
            return this.control();
        };
        return $mol_form_field;
    }($.$mol_labeler));
    __decorate([
        $.$mol_mem()
    ], $mol_form_field.prototype, "Bid", null);
    $.$mol_form_field = $mol_form_field;
})($ || ($ = {}));
//field.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_inventory_enter = (function (_super) {
        __extends($mol_app_inventory_enter, _super);
        function $mol_app_inventory_enter() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_enter.prototype.domain = function () {
            return new $.$mol_app_inventory_domain();
        };
        $mol_app_inventory_enter.prototype.entered = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_inventory_enter.prototype.loginLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "loginLabel");
        };
        $mol_app_inventory_enter.prototype.loginErrors = function () {
            return [];
        };
        $mol_app_inventory_enter.prototype.login = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_inventory_enter.prototype.loginControl = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.login(val); };
            });
        };
        $mol_app_inventory_enter.prototype.loginField = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.loginLabel(); };
                obj.errors = function () { return _this.loginErrors(); };
                obj.control = function () { return _this.loginControl(); };
            });
        };
        $mol_app_inventory_enter.prototype.passwordLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "passwordLabel");
        };
        $mol_app_inventory_enter.prototype.passwordErrors = function () {
            return [];
        };
        $mol_app_inventory_enter.prototype.password = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_inventory_enter.prototype.passControl = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.password(val); };
                obj.type = function () { return "password"; };
            });
        };
        $mol_app_inventory_enter.prototype.passwordField = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.passwordLabel(); };
                obj.errors = function () { return _this.passwordErrors(); };
                obj.control = function () { return _this.passControl(); };
            });
        };
        $mol_app_inventory_enter.prototype.submitLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "submitLabel");
        };
        $mol_app_inventory_enter.prototype.event_submit = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_app_inventory_enter.prototype.submit_blocked = function () {
            return false;
        };
        $mol_app_inventory_enter.prototype.submit = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.submitLabel()); };
                obj.event_click = function (event) { return _this.event_submit(event); };
                obj.disabled = function () { return _this.submit_blocked(); };
            });
        };
        $mol_app_inventory_enter.prototype.form = function () {
            var _this = this;
            return new $.$mol_form().setup(function (obj) {
                obj.form_fields = function () { return [].concat(_this.loginField(), _this.passwordField()); };
                obj.buttons = function () { return [].concat(_this.submit()); };
            });
        };
        $mol_app_inventory_enter.prototype.message = function () {
            return "";
        };
        $mol_app_inventory_enter.prototype.sub = function () {
            return [].concat(this.form(), this.message());
        };
        $mol_app_inventory_enter.prototype.messageNoAccess = function () {
            return $.$mol_locale.text(this.locale_contexts(), "messageNoAccess");
        };
        return $mol_app_inventory_enter;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "domain", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "entered", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "login", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "loginControl", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "loginField", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "password", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "passControl", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "passwordField", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "event_submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_enter.prototype, "form", null);
    $.$mol_app_inventory_enter = $mol_app_inventory_enter;
})($ || ($ = {}));
//enter.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_inventory_enter = (function (_super) {
            __extends($mol_app_inventory_enter, _super);
            function $mol_app_inventory_enter() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_inventory_enter.prototype.event_submit = function () {
                this.domain().credentials({
                    login: this.login(),
                    password: this.password(),
                });
            };
            $mol_app_inventory_enter.prototype.message = function () {
                var domain = this.domain();
                if (domain.credentials() && !domain.authentificated()) {
                    return this.messageNoAccess();
                }
                return '';
            };
            return $mol_app_inventory_enter;
        }($.$mol_app_inventory_enter));
        $mol.$mol_app_inventory_enter = $mol_app_inventory_enter;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//enter.view.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'const returns stored value': function () {
            var foo = { bar: $.$mol_const(Math.random()) };
            $.$mol_assert_equal(foo.bar(), foo.bar());
            $.$mol_assert_equal(foo.bar(), foo.bar['()']);
        },
    });
})($ || ($ = {}));
//const.test.js.map
;
var $;
(function ($) {
    function $mol_const(value) {
        var getter = (function () { return value; });
        getter['()'] = value;
        return getter;
    }
    $.$mol_const = $mol_const;
})($ || ($ = {}));
//const.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_hyperhive = (function (_super) {
        __extends($mol_hyperhive, _super);
        function $mol_hyperhive() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_hyperhive.initialize = function (params) {
            if (typeof hhfw === 'undefined')
                return this;
            hhfw.Init(params.host, params.version, params.environment, params.project, params.application);
            hhfw.SetSslChecks(false);
            return this;
        };
        $mol_hyperhive.authentificated = function (credentials, next, force) {
            var _this = this;
            if (typeof hhfw === 'undefined')
                return true;
            hhfw.Auth(credentials.login, credentials.password, function (message) { return _this.authentificated(credentials, true, $.$mol_atom_force); }, function (message) { return _this.authentificated(credentials, new Error(JSON.stringify(credentials) + " " + message), $.$mol_atom_force); });
            throw new $.$mol_atom_wait('Authentification...');
        };
        $mol_hyperhive.data = function (resource, next, force) {
            if (typeof hhfw === 'undefined') {
                var uri = "" + resource.uri + resource.table + "/table/GET_" + resource.table + "/";
                var res = $.$mol_http_resource_json.item(uri);
                res.credentials = $.$mol_const({});
                return res.json();
            }
            var handleError = function (message) {
                var error = new Error(JSON.stringify(resource) + " " + message);
                $mol_hyperhive.data(resource, error, $.$mol_atom_force);
            };
            $.$mol_dom_context.document.addEventListener('deviceready', function () {
                if (next === void 0) {
                    hhfw.GetDeltaStream("GET_" + resource.table, function (result) {
                        console.debug('GetDeltaStream', resource, result.substring(0, 512));
                        hhfw.QueryToResTable("GET_" + resource.table, "select * from GET_" + resource.table + "_$_GET_" + resource.table, function (resp) {
                            console.debug('QueryToResTable', resource, resp.substring(0, 512));
                            $mol_hyperhive.data(resource, JSON.parse(resp).data || [], $.$mol_atom_force);
                        }, handleError);
                    }, handleError);
                }
                else {
                    hhfw.Post("UPSERT_" + resource.table, resource.table, JSON.stringify(next), function (resp) {
                        console.debug('Post', resource, next, resp.substring(0, 512));
                        $mol_hyperhive.data(resource, void 0, $.$mol_atom_force);
                    }, handleError);
                }
            });
            throw new $.$mol_atom_wait("Loading " + resource.table + " from " + resource.uri);
        };
        return $mol_hyperhive;
    }($.$mol_object));
    __decorate([
        $.$mol_mem_key()
    ], $mol_hyperhive, "initialize", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_hyperhive, "authentificated", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_hyperhive, "data", null);
    $.$mol_hyperhive = $mol_hyperhive;
})($ || ($ = {}));
//hyperhive.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    $.$mol_app_inventory_domain_position_status = {
        draft: 'Inserted',
        approved: 'Approved',
        completed: 'Completed',
        pending: 'Pending',
        rejected: 'Rejected',
    };
    var $mol_app_inventory_domain = (function (_super) {
        __extends($mol_app_inventory_domain, _super);
        function $mol_app_inventory_domain() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_domain.prototype.table = function (name, next) {
            var creds = this.credentials();
            var uri = "https://" + creds.login + ":" + creds.password + "@mobrun.sp.saprun.com/api/v0.5/data/demo/demo/inventory/";
            return $.$mol_hyperhive.data({
                uri: uri,
                table: name,
            }, next);
        };
        $mol_app_inventory_domain.prototype.products_table = function () {
            return this.table('MATERIALS');
        };
        $mol_app_inventory_domain.prototype.positions_table = function (next) {
            return this.table('MOVEMENTS', next);
        };
        $mol_app_inventory_domain.prototype.product_rows_by_id = function () {
            var table = this.products_table();
            var dict = {};
            table.forEach(function (row) {
                dict[row.R_MATERIAL_ID] = row;
            });
            return dict;
        };
        $mol_app_inventory_domain.prototype.product_by_code = function (code) {
            var row = this.product_rows_by_code()[code];
            return row ? this.product(row.R_MATERIAL_ID) : null;
        };
        $mol_app_inventory_domain.prototype.product_rows_by_code = function () {
            var table = this.products_table();
            var dict = {};
            table.forEach(function (row) {
                dict[row.R_BARCODE] = row;
            });
            return dict;
        };
        $mol_app_inventory_domain.prototype.position_rows_by_id = function () {
            var table = this.positions_table();
            var dict = {};
            table.forEach(function (row) {
                dict[row.R_MOVEMENT_ID] = row;
            });
            return dict;
        };
        $mol_app_inventory_domain.prototype.products = function () {
            var _this = this;
            return this.products_table().map(function (row) { return _this.product(row.R_MATERIAL_ID); });
        };
        $mol_app_inventory_domain.prototype.product = function (id) {
            var _this = this;
            var next = new $mol_app_inventory_domain_product;
            next.id = $.$mol_const(id);
            next.code = function () { return _this.product_code(id); };
            next.title = function () { return _this.product_title(id); };
            return next;
        };
        $mol_app_inventory_domain.prototype.product_code = function (id) {
            return this.product_rows_by_id()[id].R_BARCODE;
        };
        $mol_app_inventory_domain.prototype.product_title = function (id) {
            return this.product_rows_by_id()[id].R_NAME;
        };
        $mol_app_inventory_domain.prototype.positions = function (next) {
            var _this = this;
            var table = next && next.map(function (position) {
                return {
                    R_MOVEMENT_ID: position.id(),
                    R_MATERIAL_ID: position.product().id(),
                    R_QUANTITY: position.count(),
                    R_COMMENT: position.remark(),
                    R_STATUS: $.$mol_app_inventory_domain_position_status[position.status()]
                };
            });
            return this.positions_table(table)
                .map(function (row) { return _this.position(row.R_MOVEMENT_ID); })
                .filter(function (position) { return position.status(); });
        };
        $mol_app_inventory_domain.prototype.positions_by_product_id = function () {
            var positions = this.positions();
            var dict = {};
            positions.forEach(function (position) {
                if (position.status() === 'completed')
                    return;
                dict[position.product().id()] = position;
            });
            return dict;
        };
        $mol_app_inventory_domain.prototype.position_by_product_id = function (product_id) {
            var position = this.positions_by_product_id()[product_id];
            if (position)
                return position;
            this.positions_table([{
                    R_MOVEMENT_ID: null,
                    R_MATERIAL_ID: product_id,
                    R_STATUS: $.$mol_app_inventory_domain_position_status.draft,
                    R_QUANTITY: 0,
                    R_COMMENT: '',
                }]);
            return this.positions_by_product_id()[product_id];
        };
        $mol_app_inventory_domain.prototype.position = function (id) {
            var _this = this;
            var next = new $mol_app_inventory_domain_position();
            next.id = $.$mol_const(id);
            next.product = function () { return _this.position_product(id); };
            next.count = function (next) { return _this.position_count(id, next); };
            next.status = function (next) { return _this.position_status(id, next); };
            return next;
        };
        $mol_app_inventory_domain.prototype.position_product = function (id, next) {
            return this.product(this.position_rows_by_id()[id].R_MATERIAL_ID);
        };
        $mol_app_inventory_domain.prototype.position_count = function (id, next) {
            if (next >= 0) {
                var pos = this.position(id);
                var row = this.position_rows_by_id()[id];
                if (row.R_QUANTITY === next)
                    return next;
                this.positions_table([
                    {
                        R_MOVEMENT_ID: id,
                        R_MATERIAL_ID: pos.product().id(),
                        R_QUANTITY: next,
                        R_COMMENT: pos.remark(),
                        R_STATUS: $.$mol_app_inventory_domain_position_status.draft,
                    }
                ]);
            }
            return Number(this.position_rows_by_id()[id].R_QUANTITY);
        };
        $mol_app_inventory_domain.prototype.position_status = function (id, next) {
            var remap = {};
            for (var key in $.$mol_app_inventory_domain_position_status) {
                remap[$.$mol_app_inventory_domain_position_status[key]] = key;
            }
            if (next) {
                var pos = this.position(id);
                this.positions_table([{
                        R_MOVEMENT_ID: id,
                        R_MATERIAL_ID: pos.product().id(),
                        R_QUANTITY: pos.count(),
                        R_COMMENT: pos.remark(),
                        R_STATUS: $.$mol_app_inventory_domain_position_status[next],
                    }]);
            }
            return remap[this.position_rows_by_id()[id].R_STATUS];
        };
        $mol_app_inventory_domain.prototype.credentials = function (next) {
            return $.$mol_state_session.value('credentials', next);
        };
        $mol_app_inventory_domain.prototype.authentificated = function () {
            $.$mol_hyperhive.initialize({
                host: "mobrun.sp.saprun.com",
                version: "v0.5",
                environment: "demo",
                project: "demo",
                application: "inventory",
            });
            var creds = this.credentials();
            if (!creds)
                return false;
            return $.$mol_hyperhive.authentificated(creds);
        };
        $mol_app_inventory_domain.prototype.can_write_off = function () {
            return !this.credentials().login.match('controller');
        };
        $mol_app_inventory_domain.prototype.can_approve = function () {
            return !this.credentials().login.match('keeper');
        };
        $mol_app_inventory_domain.prototype.message = function () {
            return void 0;
        };
        return $mol_app_inventory_domain;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "products_table", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "positions_table", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "product_rows_by_id", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "product_rows_by_code", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "position_rows_by_id", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "products", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_inventory_domain.prototype, "product", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "positions", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "positions_by_product_id", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_inventory_domain.prototype, "position_by_product_id", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_inventory_domain.prototype, "position", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "credentials", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain.prototype, "authentificated", null);
    $.$mol_app_inventory_domain = $mol_app_inventory_domain;
    var $mol_app_inventory_domain_product = (function (_super) {
        __extends($mol_app_inventory_domain_product, _super);
        function $mol_app_inventory_domain_product() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_domain_product.prototype.id = function () { return void 0; };
        $mol_app_inventory_domain_product.prototype.code = function () { return void 0; };
        $mol_app_inventory_domain_product.prototype.title = function () { return void 0; };
        $mol_app_inventory_domain_product.prototype.description = function () { return void 0; };
        return $mol_app_inventory_domain_product;
    }($.$mol_object));
    $.$mol_app_inventory_domain_product = $mol_app_inventory_domain_product;
    var $mol_app_inventory_domain_position = (function (_super) {
        __extends($mol_app_inventory_domain_position, _super);
        function $mol_app_inventory_domain_position() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_domain_position.prototype.id = function () { return void 0; };
        $mol_app_inventory_domain_position.prototype.product = function () { return void 0; };
        $mol_app_inventory_domain_position.prototype.count = function (next) {
            return next || 0;
        };
        $mol_app_inventory_domain_position.prototype.status = function (next) {
            return next || 'draft';
        };
        $mol_app_inventory_domain_position.prototype.remark = function (next) {
            return next;
        };
        return $mol_app_inventory_domain_position;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain_position.prototype, "count", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain_position.prototype, "status", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain_position.prototype, "remark", null);
    $.$mol_app_inventory_domain_position = $mol_app_inventory_domain_position;
})($ || ($ = {}));
//domain.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'convertion to primitives': function () {
            var unit = new $.$mol_unit_money_usd(5);
            $.$mol_assert_equal(unit.valueOf(), 5);
            $.$mol_assert_equal(unit * 2, 10);
            $.$mol_assert_equal(unit + '', '5');
            $.$mol_assert_equal("" + unit, '5');
            $.$mol_assert_equal(unit.toString(), '$5');
            $.$mol_assert_equal(String(unit), '$5');
        },
        'arithmetic': function () {
            var usd1 = new $.$mol_unit_money_usd(5);
            var usd2 = new $.$mol_unit_money_usd(10);
            var rur = new $.$mol_unit_money_rur(5);
            $.$mol_assert_equal($.$mol_unit.summ(usd1, usd2).toString(), '$15');
            $.$mol_assert_equal(usd1.mult(2).toString(), '$10');
        },
    });
})($ || ($ = {}));
//unit.test.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_unit = (function (_super) {
        __extends($mol_unit, _super);
        function $mol_unit(value) {
            var _this = _super.call(this) || this;
            _this['valueOf()'] = value;
            return _this;
        }
        $mol_unit.prototype.prefix = function () {
            return '';
        };
        $mol_unit.prototype.postfix = function () {
            return '';
        };
        $mol_unit.prototype.valueOf = function () {
            return this['valueOf()'];
        };
        $mol_unit.prototype.delimiter = function () {
            return ' ';
        };
        $mol_unit.prototype.value_view = function () {
            return String(this.valueOf()).split(/(?=(?:...)+$)/).join(this.delimiter());
        };
        $mol_unit.prototype.toString = function () {
            return this.prefix() + this.value_view() + this.postfix();
        };
        $mol_unit.summ = function (a, b) {
            var Class = a.Class();
            if (Class !== b.Class())
                throw new Error("Not same measure: " + Class + " , " + b.Class());
            return new Class(a.valueOf() + b.valueOf());
        };
        $mol_unit.prototype.mult = function (m) {
            var Class = this.Class();
            return new Class(this.valueOf() * m);
        };
        return $mol_unit;
    }($.$mol_object));
    $.$mol_unit = $mol_unit;
})($ || ($ = {}));
//unit.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_unit_money = (function (_super) {
        __extends($mol_unit_money, _super);
        function $mol_unit_money() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_unit_money;
    }($.$mol_unit));
    $.$mol_unit_money = $mol_unit_money;
    var $mol_unit_money_usd = (function (_super) {
        __extends($mol_unit_money_usd, _super);
        function $mol_unit_money_usd() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_unit_money_usd.prototype.prefix = function () {
            return '$';
        };
        return $mol_unit_money_usd;
    }($mol_unit_money));
    $.$mol_unit_money_usd = $mol_unit_money_usd;
    var $mol_unit_money_rur = (function (_super) {
        __extends($mol_unit_money_rur, _super);
        function $mol_unit_money_rur() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_unit_money_rur.prototype.postfix = function () {
            return ' ';
        };
        return $mol_unit_money_rur;
    }($mol_unit_money));
    $.$mol_unit_money_rur = $mol_unit_money_rur;
})($ || ($ = {}));
//money.js.map
;
require( 'source-map-support' ).install();

;
var $jin = this.$jin = {}

;
var $jin;
(function ($jin) {
    function concater(funcs) {
        switch (funcs.length) {
            case 0:
                return function (value) { return value; };
            case 1:
                return funcs[0];
            default:
                var mid = Math.ceil(funcs.length / 2);
                var first = $jin.concater(funcs.slice(0, mid));
                var second = $jin.concater(funcs.slice(mid));
                return function (value) {
                    return first(value) + second(value);
                };
        }
    }
    $jin.concater = concater;
})($jin || ($jin = {}));
//jin-concater.js.map
;
var $jin;
(function ($jin) {
    var time;
    (function (time) {
        var base_class = (function () {
            function base_class() {
            }
            base_class.formatter = function (pattern) {
                var _this = this;
                if (this.patterns[pattern])
                    return this.patterns[pattern];
                var tokens = Object.keys(this.patterns)
                    .sort()
                    .reverse()
                    .map(function (token) { return token.replace(/([-+*.\[\]()\^])/g, '\\$1'); });
                var lexer = RegExp('(.*?)(' + tokens.join('|') + '|$)', 'g');
                var funcs = [];
                pattern.replace(lexer, function (str, text, token) {
                    if (text)
                        funcs.push(function () { return text; });
                    if (token)
                        funcs.push(_this.patterns[token]);
                    return str;
                });
                return this.patterns[pattern] = $jin.concater(funcs);
            };
            base_class.prototype.toString = function (pattern) {
                var Base = this.constructor;
                var formatter = Base.formatter(pattern);
                return formatter.call(Base, this);
            };
            return base_class;
        }());
        base_class.patterns = {};
        time.base_class = base_class;
    })(time = $jin.time || ($jin.time = {}));
})($jin || ($jin = {}));
//base.js.map
;
function $jin_type(value) {
    var str = {}.toString.apply(value);
    var type = str.substring(8, str.length - 1);
    if (['Window', 'global'].indexOf(type) >= 0)
        type = 'Global';
    return type;
}
//type.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'scalars': function () {
            $.$mol_assert_equal($jin_type(void 0), 'Undefined');
            $.$mol_assert_equal($jin_type(null), 'Null');
            $.$mol_assert_equal($jin_type(0), 'Number');
            $.$mol_assert_equal($jin_type(''), 'String');
            $.$mol_assert_equal($jin_type(false), 'Boolean');
        },
        'common objects': function () {
            $.$mol_assert_equal($jin_type({}), 'Object');
            $.$mol_assert_equal($jin_type([]), 'Array');
            $.$mol_assert_equal($jin_type(arguments), 'Arguments');
        },
        'special objects': function () {
            $.$mol_assert_equal($jin_type(new Date), 'Date');
            $.$mol_assert_equal($jin_type(new RegExp('')), 'RegExp');
        },
    });
})($ || ($ = {}));
//type_tests.test.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $jin;
(function ($jin) {
    var time;
    (function (time) {
        var duration_class = (function (_super) {
            __extends(duration_class, _super);
            function duration_class(config) {
                var _this = _super.call(this) || this;
                _this._year = config.year && Number(config.year) || 0;
                _this._month = config.month && Number(config.month) || 0;
                _this._day = config.day && Number(config.day) || 0;
                _this._hour = config.hour && Number(config.hour) || 0;
                _this._minute = config.minute && Number(config.minute) || 0;
                _this._second = config.second && Number(config.second) || 0;
                return _this;
            }
            duration_class.make = function (duration) {
                if (!arguments.length)
                    duration = [];
                var type = $jin_type(duration);
                switch (type) {
                    case 'Number':
                        return new this({ second: duration / 1000 });
                    case 'Array':
                        var dur = duration;
                        return new this({
                            year: dur[0],
                            month: dur[1],
                            day: dur[2],
                            hour: dur[3],
                            minute: dur[4],
                            second: dur[5],
                        });
                    case 'Object':
                        if (duration instanceof this)
                            return duration;
                        return new this(duration);
                    case 'String':
                        if (duration === 'Z') {
                            return new this({});
                        }
                        var parser = /^P(?:([+-]?\d+(?:\.\d+)?)Y)?(?:([+-]?\d+(?:\.\d+)?)M)?(?:([+-]?\d+(?:\.\d+)?)D)?(?:T(?:([+-]?\d+(?:\.\d+)?)h)?(?:([+-]?\d+(?:\.\d+)?)m)?(?:([+-]?\d+(?:\.\d+)?)s)?)?$/i;
                        var found = parser.exec(duration);
                        if (found) {
                            return new this({
                                year: found[1],
                                month: found[2],
                                day: found[3],
                                hour: found[4],
                                minute: found[5],
                                second: found[6],
                            });
                        }
                        var parser = /^[+-](\d\d)(?::?(\d\d))?$/i;
                        var found = parser.exec(duration);
                        if (found) {
                            return new this({
                                hour: found[1],
                                minute: found[2],
                            });
                        }
                        throw new Error('Can not parse time duration (' + duration + ')');
                    default:
                        throw new Error('Wrong type of time duration (' + type + ')');
                }
            };
            Object.defineProperty(duration_class.prototype, "year", {
                get: function () { return this._year; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(duration_class.prototype, "month", {
                get: function () { return this._month; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(duration_class.prototype, "day", {
                get: function () { return this._day; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(duration_class.prototype, "hour", {
                get: function () { return this._hour; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(duration_class.prototype, "minute", {
                get: function () { return this._minute; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(duration_class.prototype, "second", {
                get: function () { return this._second; },
                enumerable: true,
                configurable: true
            });
            duration_class.prototype.summ = function (config) {
                var Duration = this.constructor;
                var duration = Duration.make(config);
                return new Duration({
                    year: this.year + duration.year,
                    month: this.month + duration.month,
                    day: this.day + duration.day,
                    hour: this.hour + duration.hour,
                    minute: this.minute + duration.minute,
                    second: this.second + duration.second,
                });
            };
            duration_class.prototype.sub = function (config) {
                var Duration = this.constructor;
                var duration = Duration.make(config);
                return new Duration({
                    year: this.year - duration.year,
                    month: this.month - duration.month,
                    day: this.day - duration.day,
                    hour: this.hour - duration.hour,
                    minute: this.minute - duration.minute,
                    second: this.second - duration.second,
                });
            };
            duration_class.prototype.valueOf = function () {
                var day = this.year * 365 + this.month * 30.4 + this.day;
                var second = ((day * 24 + this.hour) * 60 + this.minute) * 60 + this.second;
                return second * 1000;
            };
            duration_class.prototype.toJSON = function () { return this.toString(); };
            duration_class.prototype.toString = function (pattern) {
                if (pattern === void 0) { pattern = 'P#Y#M#DT#h#m#s'; }
                return _super.prototype.toString.call(this, pattern);
            };
            return duration_class;
        }($jin.time.base_class));
        duration_class.patterns = {
            '#Y': function (duration) {
                if (!duration.year)
                    return '';
                return duration.year + 'Y';
            },
            '#M': function (duration) {
                if (!duration.month)
                    return '';
                return duration.month + 'M';
            },
            '#D': function (duration) {
                if (!duration.day)
                    return '';
                return duration.day + 'D';
            },
            '#h': function (duration) {
                if (!duration.hour)
                    return '';
                return duration.hour + 'H';
            },
            '#m': function (duration) {
                if (!duration.minute)
                    return '';
                return duration.minute + 'M';
            },
            '#s': function (duration) {
                if (!duration.second)
                    return '';
                return duration.second + 'S';
            },
            '+hh': function (duration) {
                var hour = duration.hour;
                var sign = '+';
                if (hour < 0) {
                    sign = '-';
                    hour = -hour;
                }
                return (hour < 10)
                    ? (sign + '0' + hour)
                    : (sign + hour);
            },
            'mm': function (duration) {
                return (duration.minute < 10)
                    ? ('0' + duration.minute)
                    : String(duration.minute);
            },
        };
        time.duration_class = duration_class;
        time.duration = duration_class.make.bind(duration_class);
    })(time = $jin.time || ($jin.time = {}));
})($jin || ($jin = {}));
//duration.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'parse and serial': function () {
            $.$mol_assert_equal($jin.time.duration('P42.1Y').toString(), 'P42.1YT');
            $.$mol_assert_equal($jin.time.duration('P42.1M').toString(), 'P42.1MT');
            $.$mol_assert_equal($jin.time.duration('P42.1D').toString(), 'P42.1DT');
            $.$mol_assert_equal($jin.time.duration('PT42.1h').toString(), 'PT42.1H');
            $.$mol_assert_equal($jin.time.duration('PT42.1m').toString(), 'PT42.1M');
            $.$mol_assert_equal($jin.time.duration('PT42.1s').toString(), 'PT42.1S');
            $.$mol_assert_equal($jin.time.duration('P1Y2M3DT4h5m6.7s').toString(), 'P1Y2M3DT4H5M6.7S');
        },
        'format typed': function () {
            $.$mol_assert_equal($jin.time.duration('P1Y2M3DT4h5m6s').toString('P#Y#M#DT#h#m#s'), 'P1Y2M3DT4H5M6S');
        },
    });
})($ || ($ = {}));
//duration_tests.stage=dev.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $jin;
(function ($jin) {
    var time;
    (function (time) {
        var moment_class = (function (_super) {
            __extends(moment_class, _super);
            function moment_class(config) {
                var _this = _super.call(this) || this;
                _this._year = config.year && Number(config.year);
                _this._month = config.month && Number(config.month);
                _this._day = config.day && Number(config.day);
                _this._hour = config.hour && Number(config.hour);
                _this._minute = config.minute && Number(config.minute);
                _this._second = config.second && Number(config.second);
                _this._offset = config.offset && _this.constructor.duration_class.make(config.offset);
                _this._native = null;
                return _this;
            }
            moment_class.make = function (moment) {
                if (!arguments.length)
                    moment = new Date;
                var type = $jin_type(moment);
                switch (type) {
                    case 'Number':
                        moment = new Date(moment);
                    case 'Date':
                        var native = moment;
                        var offset = -native.getTimezoneOffset();
                        return new this({
                            year: native.getFullYear(),
                            month: native.getMonth(),
                            day: native.getDate() - 1,
                            hour: native.getHours(),
                            minute: native.getMinutes(),
                            second: native.getSeconds() + native.getMilliseconds() / 1000,
                            offset: {
                                hour: (offset < 0) ? Math.ceil(offset / 60) : Math.floor(offset / 60),
                                minute: offset % 60
                            }
                        });
                    case 'String':
                        var parsed = /^(?:(\d\d\d\d)(?:-?(\d\d)(?:-?(\d\d))?)?)?(?:[T ](\d\d)(?::?(\d\d)(?::?(\d\d(?:\.\d\d\d)?))?)?(Z|[\+\-]\d\d(?::?(?:\d\d)?)?)?)?$/.exec(moment);
                        if (!parsed)
                            throw new Error('Can not parse time moment (' + moment + ')');
                        return new this({
                            year: parsed[1],
                            month: parsed[2] ? (Number(parsed[2]) - 1) : void 0,
                            day: parsed[3] ? (Number(parsed[3]) - 1) : void 0,
                            hour: parsed[4],
                            minute: parsed[5],
                            second: parsed[6],
                            offset: parsed[7]
                        });
                    case 'Array':
                        var mom = moment;
                        return new this({
                            year: mom[0],
                            month: mom[1],
                            day: mom[2],
                            hour: mom[3],
                            minute: mom[4],
                            second: mom[5],
                            offset: mom[6],
                        });
                    case 'Object':
                        if (moment instanceof this)
                            return moment;
                        return new this(moment);
                    default:
                        throw new Error('Wrong type of time moment (' + type + ')');
                }
            };
            Object.defineProperty(moment_class.prototype, "year", {
                get: function () { return this._year; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(moment_class.prototype, "month", {
                get: function () { return this._month; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(moment_class.prototype, "day", {
                get: function () { return this._day; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(moment_class.prototype, "hour", {
                get: function () { return this._hour; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(moment_class.prototype, "minute", {
                get: function () { return this._minute; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(moment_class.prototype, "second", {
                get: function () { return this._second; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(moment_class.prototype, "offset", {
                get: function () { return this._offset; },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(moment_class.prototype, "native", {
                get: function () {
                    if (this._native)
                        return this._native;
                    var utc = this.toOffset('Z');
                    return this._native = new Date(Date.UTC(utc.year || 0, utc.month || 0, (utc.day || 0) + 1, utc.hour || 0, utc.minute || 0, utc.second && Math.ceil(utc.second) || 0, utc.second && (utc.second - Math.ceil(utc.second)) || 0));
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(moment_class.prototype, "normal", {
                get: function () {
                    return this.constructor.make(this.native).merge({
                        year: (this._year === void 0) ? null : void 0,
                        month: (this._month === void 0) ? null : void 0,
                        day: (this._day === void 0) ? null : void 0,
                        hour: (this._hour === void 0) ? null : void 0,
                        minute: (this._minute === void 0) ? null : void 0,
                        second: (this._second === void 0) ? null : void 0,
                        offset: (this._offset === void 0) ? null : void 0,
                    });
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(moment_class.prototype, "weekDay", {
                get: function () {
                    return this.native.getDay();
                },
                enumerable: true,
                configurable: true
            });
            moment_class.prototype.merge = function (config) {
                var Moment = this.constructor;
                var moment = Moment.make(config);
                return new Moment({
                    year: (moment.year === void 0)
                        ? this._year
                        : (moment.year === null)
                            ? void 0
                            : moment.year,
                    month: (moment.month === void 0)
                        ? this._month
                        : (moment.month === null)
                            ? void 0
                            : moment.month,
                    day: (moment.day === void 0)
                        ? this._day
                        : (moment.day === null)
                            ? void 0
                            : moment.day,
                    hour: (moment.hour === void 0)
                        ? this._hour
                        : (moment.hour === null)
                            ? void 0
                            : moment.hour,
                    minute: (moment.minute === void 0)
                        ? this._minute
                        : (moment.minute === null)
                            ? void 0
                            : moment.minute,
                    second: (moment.second === void 0)
                        ? this._second
                        : (moment.second === null)
                            ? void 0
                            : moment.second,
                    offset: (moment.offset === void 0)
                        ? this._offset
                        : (moment.offset === null)
                            ? void 0
                            : moment.offset,
                });
            };
            moment_class.prototype.shift = function (config) {
                var Moment = this.constructor;
                var duration = Moment.duration_class.make(config);
                var moment = Moment.make().merge(this);
                var second = moment.second + duration.second;
                var native = new Date(moment.year + duration.year, moment.month + duration.month, moment.day + duration.day + 1, moment.hour + duration.hour, moment.minute + duration.minute, Math.floor(second), (second - Math.floor(second)) * 1000);
                if (isNaN(native.valueOf()))
                    throw new Error('Wrong time');
                return new Moment({
                    year: (this._year === void 0) ? void 0 : native.getFullYear(),
                    month: (this._month === void 0) ? void 0 : native.getMonth(),
                    day: (this._day === void 0) ? void 0 : native.getDate() - 1,
                    hour: (this._hour === void 0) ? void 0 : native.getHours(),
                    minute: (this._minute === void 0) ? void 0 : native.getMinutes(),
                    second: (this._second === void 0) ? void 0 : native.getSeconds() + native.getMilliseconds() / 1000,
                    offset: this.offset,
                });
            };
            moment_class.prototype.sub = function (config) {
                var Moment = this.constructor;
                var moment = Moment.make(config);
                var dur = {
                    year: (moment.year === void 0)
                        ? this.year
                        : (this.year || 0) - moment.year,
                    month: (moment.month === void 0)
                        ? this.month
                        : (this.month || 0) - moment.month,
                    day: (moment.day === void 0)
                        ? this.day
                        : (this.day || 0) - moment.day,
                    hour: (moment.hour === void 0)
                        ? this.hour
                        : (this.hour || 0) - moment.hour,
                    minute: (moment.minute === void 0)
                        ? this.minute
                        : (this.minute || 0) - moment.minute,
                    second: (moment.second === void 0)
                        ? this.second
                        : (this.second || 0) - moment.second,
                };
                return new Moment.duration_class(dur);
            };
            moment_class.prototype.toOffset = function (duration) {
                if (this._offset) {
                    var Moment = this.constructor;
                    return this
                        .shift(Moment.duration_class.make(duration).sub(this._offset))
                        .merge({ offset: duration });
                }
                else {
                    return this.merge({ offset: duration });
                }
            };
            moment_class.prototype.valueOf = function () { return this.native.getTime(); };
            moment_class.prototype.toJSON = function () { return this.toString(); };
            moment_class.prototype.toString = function (pattern) {
                if (pattern === void 0) { pattern = 'YYYY-MM-DDThh:mm:ss.sssZ'; }
                return _super.prototype.toString.call(this, pattern);
            };
            return moment_class;
        }($jin.time.base_class));
        moment_class.duration_class = $jin.time.duration_class;
        moment_class.patterns = {
            'YYYY': function (moment) {
                if (moment.year == null)
                    return '';
                return String(moment.year);
            },
            'AD': function (moment) {
                if (moment.year == null)
                    return '';
                return String(Math.floor(moment.year / 100) + 1);
            },
            'YY': function (moment) {
                if (moment.year == null)
                    return '';
                return String(moment.year % 100);
            },
            'Month': function (moment) {
                if (moment.month == null)
                    return '';
                return moment.constructor.monthLong[moment.month];
            },
            'Mon': function (moment) {
                if (moment.month == null)
                    return '';
                return moment.constructor.monthShort[moment.month];
            },
            '-MM': function (moment) {
                if (moment.month == null)
                    return '';
                return '-' + moment.constructor.patterns['MM'](moment);
            },
            'MM': function (moment) {
                if (moment.month == null)
                    return '';
                var month = moment.month + 1;
                return (month < 10)
                    ? ('0' + month)
                    : ('' + month);
            },
            'M': function (moment) {
                if (moment.month == null)
                    return '';
                return String(moment.month + 1);
            },
            'WeekDay': function (moment) {
                if (moment.weekDay == null)
                    return '';
                return moment.constructor.weekDayLong[moment.weekDay];
            },
            'WD': function (moment) {
                if (moment.weekDay == null)
                    return '';
                return moment.constructor.weekDayShort[moment.weekDay];
            },
            '-DD': function (moment) {
                if (moment.day == null)
                    return '';
                return '-' + moment.constructor.patterns['DD'](moment);
            },
            'DD': function (moment) {
                if (moment.day == null)
                    return '';
                var day = moment.day + 1;
                return (day < 10)
                    ? ('0' + day)
                    : String(day);
            },
            'D': function (moment) {
                if (moment.day == null)
                    return '';
                return String(moment.day + 1);
            },
            'Thh': function (moment) {
                if (moment.hour == null)
                    return '';
                return 'T' + moment.constructor.patterns['hh'](moment);
            },
            'hh': function (moment) {
                if (moment.hour == null)
                    return '';
                return (moment.hour < 10)
                    ? ('0' + moment.hour)
                    : String(moment.hour);
            },
            'h': function (moment) {
                if (moment.hour == null)
                    return '';
                return String(moment.hour);
            },
            ':mm': function (moment) {
                if (moment.minute == null)
                    return '';
                return ':' + moment.constructor.patterns['mm'](moment);
            },
            'mm': function (moment) {
                if (moment.minute == null)
                    return '';
                return (moment.minute < 10)
                    ? ('0' + moment.minute)
                    : String(moment.minute);
            },
            'm': function (moment) {
                if (moment.minute == null)
                    return '';
                return String(moment.minute);
            },
            ':ss': function (moment) {
                if (moment.second == null)
                    return '';
                return ':' + moment.constructor.patterns['ss'](moment);
            },
            'ss': function (moment) {
                if (moment.second == null)
                    return '';
                var second = Math.floor(moment.second);
                return (second < 10)
                    ? ('0' + second)
                    : String(second);
            },
            's': function (moment) {
                if (moment.second == null)
                    return '';
                return String(Math.floor(moment.second));
            },
            '.sss': function (moment) {
                if (moment.second == null)
                    return '';
                if (moment.second - Math.floor(moment.second) === 0)
                    return '';
                return '.' + moment.constructor.patterns['sss'](moment);
            },
            'sss': function (moment) {
                if (moment.second == null)
                    return '';
                var millisecond = Math.floor((moment.second - Math.floor(moment.second)) * 1000);
                return (millisecond < 10)
                    ? ('00' + millisecond)
                    : (millisecond < 100)
                        ? ('0' + millisecond)
                        : String(millisecond);
            },
            'Z': function (moment) {
                var offset = moment.offset;
                if (!offset)
                    return '';
                return offset.toString('+hh:mm');
            }
        };
        moment_class.monthLong = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        moment_class.monthShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        moment_class.weekDayLong = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
        moment_class.weekDayShort = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        time.moment_class = moment_class;
        time.moment = moment_class.make.bind(moment_class);
        time.moment['en'] = moment_class.make.bind(moment_class);
        var moment_class_ru = (function (_super) {
            __extends(moment_class_ru, _super);
            function moment_class_ru() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            return moment_class_ru;
        }(moment_class));
        moment_class_ru.monthLong = ['', '', '', '', '', '', '', '', '', '', '', ''];
        moment_class_ru.monthShort = ['', '', '', '', '', '', '', '', '', '', '', ''];
        moment_class_ru.weekDayLong = ['', '', '', '', '', '', ''];
        moment_class_ru.weekDayShort = ['', '', '', '', '', '', ''];
        time.moment_class_ru = moment_class_ru;
        time.moment['ru'] = moment_class_ru.make.bind(moment_class_ru);
    })(time = $jin.time || ($jin.time = {}));
})($jin || ($jin = {}));
//moment.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'parse and serial': function () {
            $.$mol_assert_equal($jin.time.moment('2014').toString(), '2014');
            $.$mol_assert_equal($jin.time.moment('2014-01').toString(), '2014-01');
            $.$mol_assert_equal($jin.time.moment('2014-01-02').toString(), '2014-01-02');
            $.$mol_assert_equal($jin.time.moment('2014-01-02T03').toString(), '2014-01-02T03');
            $.$mol_assert_equal($jin.time.moment('2014-01-02T03:04').toString(), '2014-01-02T03:04');
            $.$mol_assert_equal($jin.time.moment('2014-01-02T03:04:05').toString(), '2014-01-02T03:04:05');
            $.$mol_assert_equal($jin.time.moment('2014-01-02T03:04:05.006').toString(), '2014-01-02T03:04:05.006');
            $.$mol_assert_equal($jin.time.moment('2014-01-02T03:04:05.006Z').toString(), '2014-01-02T03:04:05.006+00:00');
            $.$mol_assert_equal($jin.time.moment('2014-01-02T03:04:05.006+07:00').toString(), '2014-01-02T03:04:05.006+07:00');
            $.$mol_assert_equal($jin.time.moment('2014-01-02T03:04:05+07:08').toString(), '2014-01-02T03:04:05+07:08');
            $.$mol_assert_equal($jin.time.moment('2014-01-02T03:04+07:08').toString(), '2014-01-02T03:04+07:08');
            $.$mol_assert_equal($jin.time.moment('T03:04+07:08').toString(), 'T03:04+07:08');
            $.$mol_assert_equal($jin.time.moment('T03:04:05').toString(), 'T03:04:05');
            $.$mol_assert_equal($jin.time.moment('T03:04').toString(), 'T03:04');
            $.$mol_assert_equal($jin.time.moment('T03').toString(), 'T03');
        },
        'format simple': function () {
            $.$mol_assert_equal($jin.time.moment('2014-01-02T01:02:03.000').toString('AD YY-M-D h:m:s'), '21 14-1-2 1:2:3');
        },
        'format padded': function () {
            $.$mol_assert_equal($jin.time.moment('2014-01-02T01:02:03.000').toString('YYYY-MM-DD hh:mm:ss'), '2014-01-02 01:02:03');
        },
        'format time zone': function () {
            $.$mol_assert_equal($jin.time.moment('2014-01-02T01:02:03+05:00').toString('Z'), '+05:00');
        },
        'format names': function () {
            $.$mol_assert_equal($jin.time.moment('2014-01-02T01:02:03.000').toString('Month Mon | WeekDay WD'), 'January Jan | Thursday Thu');
        },
        'shifting': function () {
            $.$mol_assert_equal($jin.time.moment('T15:54:58.243+03:00').shift({}).toString(), 'T15:54:58.243+03:00');
            $.$mol_assert_equal($jin.time.moment('2014-01-02').shift('P1Y').toString(), '2015-01-02');
            $.$mol_assert_equal($jin.time.moment('2014-01-02').shift('P12M').toString(), '2015-01-02');
            $.$mol_assert_equal($jin.time.moment('2014-01-02').shift('P365D').toString(), '2015-01-02');
            $.$mol_assert_equal($jin.time.moment('2014-01-02').shift('PT8760h').toString(), '2015-01-02');
            $.$mol_assert_equal($jin.time.moment('2014-01').shift('PT8760h').toString(), '2015-01');
            $.$mol_assert_equal($jin.time.moment('2014-01').shift('PT-8760h').toString(), '2013-01');
        },
        'normalization': function () {
            $.$mol_assert_equal($jin.time.moment('2015-07-35').normal.toString(), '2015-08-04');
        },
    });
})($ || ($ = {}));
//moment_tests.stage=dev.js.map
;
var $;
(function ($) {
    function $mol_stub_select_random(list) {
        return list[Math.floor(Math.random() * list.length)];
    }
    $.$mol_stub_select_random = $mol_stub_select_random;
    function $mol_stub_strings(prefix, count, length) {
        if (prefix === void 0) { prefix = ''; }
        if (count === void 0) { count = 10; }
        if (length === void 0) { length = 10; }
        if (prefix.length >= length)
            return [];
        var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split('');
        var strings = [];
        for (var i = 0; i < count; i++) {
            var text = prefix;
            for (var j = prefix.length; j < length; j++) {
                text += $mol_stub_select_random(possible);
            }
            strings.push(text);
        }
        return strings;
    }
    $.$mol_stub_strings = $mol_stub_strings;
    function $mol_stub_code(length) {
        if (length === void 0) { length = 8; }
        var max = Math.pow(16, length);
        var min = Math.pow(16, length - 1);
        var value = min + Math.floor(Math.random() * (max - min));
        return value.toString(16).toUpperCase();
    }
    $.$mol_stub_code = $mol_stub_code;
    function $mol_stub_price(max) {
        if (max === void 0) { max = 1000; }
        var min = Math.floor(max / 16 / 16);
        var value = min + Math.floor(Math.random() * (max - min));
        return new $.$mol_unit_money_usd(value);
    }
    $.$mol_stub_price = $mol_stub_price;
    function $mol_stub_product_name() {
        var name = $mol_stub_select_random([
            'Monitor 15"',
            'Monitor 17"',
            'Monitor 19"',
            'Graphics card',
            'Frame grabber card'
        ]);
        var port = $mol_stub_select_random(['D-SUB', 'DVI', 'HDMI']);
        var resolution = $mol_stub_select_random(['VGA', 'Full HD', '4K']);
        return [name, port, resolution].join(', ');
    }
    $.$mol_stub_product_name = $mol_stub_product_name;
    function $mol_stub_company_name_big() {
        var product = $mol_stub_select_random(['Everything', 'Something', 'Anything', 'Nothing']);
        var type = $mol_stub_select_random(['Company', 'Corporation', 'Holding']);
        return "A " + type + " that makes " + product;
    }
    $.$mol_stub_company_name_big = $mol_stub_company_name_big;
    function $mol_stub_company_name_small() {
        return $mol_stub_select_random(['ACME inc.', 'Dream Company', 'Just Company']);
    }
    $.$mol_stub_company_name_small = $mol_stub_company_name_small;
    function $mol_stub_company_name() {
        return $mol_stub_select_random([$mol_stub_company_name_small, $mol_stub_company_name_big])();
    }
    $.$mol_stub_company_name = $mol_stub_company_name;
    function $mol_stub_person_name() {
        var first = $mol_stub_select_random(['Ivan', 'Petr', 'Sidor']);
        var last = $mol_stub_select_random(['Ivanov', 'Petrov', 'Sidorov']);
        return first + " " + last;
    }
    $.$mol_stub_person_name = $mol_stub_person_name;
    function $mol_stub_city() {
        return $mol_stub_select_random(['Moscow', 'London', 'Washington', 'Buenos Aires']);
    }
    $.$mol_stub_city = $mol_stub_city;
    function $mol_stub_time(maxShift) {
        if (maxShift === void 0) { maxShift = 60 * 24 * 365; }
        return $jin.time.moment().shift({ minute: Math.round(Math.random() * maxShift) });
    }
    $.$mol_stub_time = $mol_stub_time;
})($ || ($ = {}));
//stub.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_inventory_domain_mock = (function (_super) {
        __extends($mol_app_inventory_domain_mock, _super);
        function $mol_app_inventory_domain_mock() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_domain_mock.prototype.products_table = function () {
            return [
                {
                    R_MATERIAL_ID: '01',
                    R_NAME: $.$mol_stub_product_name(),
                    R_BARCODE: '12345',
                }
            ];
        };
        $mol_app_inventory_domain_mock.prototype.positions_table = function (next) {
            var table = $.$mol_state_local.value('positions') || [];
            if (next === void 0)
                return table;
            var index = table.length;
            next.forEach(function (row) {
                if (!row.R_MOVEMENT_ID)
                    row.R_MOVEMENT_ID = String(index++);
            });
            table = table.filter(function (row) {
                return next.some(function (row2) { return row.R_MOVEMENT_ID === row2.R_MOVEMENT_ID; });
            });
            table = table.concat(next);
            return $.$mol_state_local.value('positions', next);
        };
        $mol_app_inventory_domain_mock.prototype.authentificated = function () {
            var creds = this.credentials();
            if (!creds)
                return false;
            if (creds.login && creds.password)
                return true;
            return false;
        };
        $mol_app_inventory_domain_mock.prototype.message = function () {
            return '';
        };
        return $mol_app_inventory_domain_mock;
    }($.$mol_app_inventory_domain));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_domain_mock.prototype, "positions_table", null);
    $.$mol_app_inventory_domain_mock = $mol_app_inventory_domain_mock;
})($ || ($ = {}));
//mock.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_inventory_test = (function (_super) {
        __extends($mol_app_inventory_test, _super);
        function $mol_app_inventory_test() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_inventory_test.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_inventory_test.prototype.domain = function () {
            return new $.$mol_app_inventory_domain_mock();
        };
        return $mol_app_inventory_test;
    }($.$mol_app_inventory));
    __decorate([
        $.$mol_mem()
    ], $mol_app_inventory_test.prototype, "domain", null);
    $.$mol_app_inventory_test = $mol_app_inventory_test;
})($ || ($ = {}));
//test.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var $;
(function ($) {
    var $mol_image = (function (_super) {
        __extends($mol_image, _super);
        function $mol_image() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_image.prototype.dom_name = function () {
            return "img";
        };
        $mol_image.prototype.uri = function () {
            return "";
        };
        $mol_image.prototype.field = function () {
            return (__assign({}, _super.prototype.field.call(this), { "src": this.uri(), "alt": this.title() }));
        };
        return $mol_image;
    }($.$mol_view));
    $.$mol_image = $mol_image;
})($ || ($ = {}));
//image.view.tree.js.map
;
var $;
(function ($) {
    function $mol_csv_parse(text, delimiter) {
        if (delimiter === void 0) { delimiter = ';'; }
        var lines = text.split(/\r?\n/g);
        var header = lines.shift().split(delimiter);
        var res = [];
        lines.forEach(function (line) {
            if (!line)
                return;
            var row = {};
            line.split(delimiter).forEach(function (val, index) {
                row[header[index]] = val;
            });
            res.push(row);
        });
        return res;
    }
    $.$mol_csv_parse = $mol_csv_parse;
})($ || ($ = {}));
//csv.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_lamps = (function (_super) {
        __extends($mol_app_lamps, _super);
        function $mol_app_lamps() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_lamps.prototype.lamp_current_id = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_lamps.prototype.Placeholder = function () {
            var _this = this;
            return new $.$mol_book_placeholder().setup(function (obj) {
                obj.title = function () { return _this.title(); };
            });
        };
        $mol_app_lamps.prototype.filter_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "filter_hint");
        };
        $mol_app_lamps.prototype.filter = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_lamps.prototype.Filter = function () {
            var _this = this;
            return new $.$mol_code().setup(function (obj) {
                obj.hint = function () { return _this.filter_hint(); };
                obj.value = function (val) { return _this.filter(val); };
            });
        };
        $mol_app_lamps.prototype.menu_scroll_top = function (val) {
            return (val !== void 0) ? val : 0;
        };
        $mol_app_lamps.prototype.lamp_rows = function () {
            return [];
        };
        $mol_app_lamps.prototype.Menu = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.lamp_rows(); };
            });
        };
        $mol_app_lamps.prototype.Addon_page = function () {
            var _this = this;
            return new $.$mol_page().setup(function (obj) {
                obj.minimal_width = function () { return 200; };
                obj.title = function () { return "LampTest.ru"; };
                obj.head = function () { return [].concat(_this.Filter()); };
                obj.body_scroll_top = function (val) { return _this.menu_scroll_top(val); };
                obj.body = function () { return [].concat(_this.Menu()); };
            });
        };
        $mol_app_lamps.prototype.title = function () {
            return "";
        };
        $mol_app_lamps.prototype.Close_icon = function () {
            return new $.$mol_icon_cross();
        };
        $mol_app_lamps.prototype.Close = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Close_icon()); };
                obj.arg = function () { return ({
                    "lamp": null,
                }); };
            });
        };
        $mol_app_lamps.prototype.Temp_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "Temp_title");
        };
        $mol_app_lamps.prototype.temp = function () {
            return "";
        };
        $mol_app_lamps.prototype.Temp = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.Temp_title(); };
                obj.content = function () { return [].concat(_this.temp()); };
            });
        };
        $mol_app_lamps.prototype.cri_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "cri_title");
        };
        $mol_app_lamps.prototype.cri = function () {
            return "";
        };
        $mol_app_lamps.prototype.Cri = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.cri_title(); };
                obj.content = function () { return [].concat(_this.cri()); };
            });
        };
        $mol_app_lamps.prototype.angle_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "angle_title");
        };
        $mol_app_lamps.prototype.angle = function () {
            return "";
        };
        $mol_app_lamps.prototype.Angle = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.angle_title(); };
                obj.content = function () { return [].concat(_this.angle()); };
            });
        };
        $mol_app_lamps.prototype.Light = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Temp(), _this.Cri(), _this.Angle()); };
            });
        };
        $mol_app_lamps.prototype.type_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "type_title");
        };
        $mol_app_lamps.prototype.type = function () {
            return "";
        };
        $mol_app_lamps.prototype.Type = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.type_title(); };
                obj.content = function () { return [].concat(_this.type()); };
            });
        };
        $mol_app_lamps.prototype.shape_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "shape_title");
        };
        $mol_app_lamps.prototype.shape = function () {
            return "";
        };
        $mol_app_lamps.prototype.Shape = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.shape_title(); };
                obj.content = function () { return [].concat(_this.shape()); };
            });
        };
        $mol_app_lamps.prototype.base_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "base_title");
        };
        $mol_app_lamps.prototype.base = function () {
            return "";
        };
        $mol_app_lamps.prototype.Base = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.base_title(); };
                obj.content = function () { return [].concat(_this.base()); };
            });
        };
        $mol_app_lamps.prototype.Body = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Type(), _this.Shape(), _this.Base()); };
            });
        };
        $mol_app_lamps.prototype.Info = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Light(), _this.Body()); };
            });
        };
        $mol_app_lamps.prototype.photo = function () {
            return "";
        };
        $mol_app_lamps.prototype.Photo = function () {
            var _this = this;
            return new $.$mol_image().setup(function (obj) {
                obj.uri = function () { return _this.photo(); };
                obj.title = function () { return _this.title(); };
            });
        };
        $mol_app_lamps.prototype.Gallery = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Photo()); };
            });
        };
        $mol_app_lamps.prototype.Main_page = function () {
            var _this = this;
            return new $.$mol_page().setup(function (obj) {
                obj.minimal_width = function () { return 400; };
                obj.title = function () { return _this.title(); };
                obj.tools = function () { return [].concat(_this.Close()); };
                obj.body = function () { return [].concat(_this.Info(), _this.Gallery()); };
            });
        };
        $mol_app_lamps.prototype.pages = function () {
            return [].concat(this.Addon_page(), this.Main_page());
        };
        $mol_app_lamps.prototype.lamp_title = function (id) {
            return "";
        };
        $mol_app_lamps.prototype.lamp_arg = function (id) {
            return ({});
        };
        $mol_app_lamps.prototype.Lamp_row = function (id) {
            var _this = this;
            return new $.$mol_lamps_lamp_row().setup(function (obj) {
                obj.title = function () { return _this.lamp_title(id); };
                obj.arg = function () { return _this.lamp_arg(id); };
            });
        };
        return $mol_app_lamps;
    }($.$mol_book));
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "lamp_current_id", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Placeholder", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "filter", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Filter", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "menu_scroll_top", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Menu", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Addon_page", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Close_icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Close", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Temp", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Cri", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Angle", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Light", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Type", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Shape", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Base", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Body", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Info", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Photo", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Gallery", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_lamps.prototype, "Main_page", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_lamps.prototype, "Lamp_row", null);
    $.$mol_app_lamps = $mol_app_lamps;
})($ || ($ = {}));
(function ($) {
    var $mol_lamps_lamp_row = (function (_super) {
        __extends($mol_lamps_lamp_row, _super);
        function $mol_lamps_lamp_row() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_lamps_lamp_row.prototype.minimal_height = function () {
            return 33;
        };
        $mol_lamps_lamp_row.prototype.sub = function () {
            return [].concat(this.title());
        };
        return $mol_lamps_lamp_row;
    }($.$mol_link));
    $.$mol_lamps_lamp_row = $mol_lamps_lamp_row;
})($ || ($ = {}));
//lamps.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_lamps = (function (_super) {
            __extends($mol_app_lamps, _super);
            function $mol_app_lamps() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_lamps.prototype.lamps_all = function () {
                return $.$mol_csv_parse($.$mol_http_resource.item('http://lamptest.ru/led.php').text());
            };
            $mol_app_lamps.prototype.lamps = function () {
                var filter = this.filter().toLowerCase();
                if (!filter)
                    return this.lamps_all();
                return this.lamps_all().filter(function (lamp) {
                    for (var field in lamp) {
                        if (lamp[field].toLowerCase().match(filter))
                            return true;
                    }
                    return false;
                });
            };
            $mol_app_lamps.prototype.lamps_dict = function () {
                var dict = {};
                this.lamps_all().forEach(function (lamp) {
                    dict[lamp['no']] = lamp;
                });
                return dict;
            };
            $mol_app_lamps.prototype.lamp_rows = function () {
                var _this = this;
                return this.lamps().map(function (lamp) { return _this.Lamp_row(lamp['no']); });
            };
            $mol_app_lamps.prototype.lamp_title = function (id) {
                var row = this.lamps_dict()[id];
                var brand = row['brand'];
                if (brand === 'noname')
                    return row['model'];
                return row['brand'] + " " + row['model'];
            };
            $mol_app_lamps.prototype.filter = function (next) {
                return $.$mol_state_arg.value('filter', next) || '';
            };
            $mol_app_lamps.prototype.lamp_arg = function (id) {
                return { 'lamp': id };
            };
            $mol_app_lamps.prototype.id = function (next) {
                return $.$mol_state_arg.value('lamp', next);
            };
            $mol_app_lamps.prototype.lamp = function () {
                return this.lamps_dict()[this.id()] || null;
            };
            $mol_app_lamps.prototype.pages = function () {
                var sub = [];
                sub.push(this.Addon_page());
                if (this.lamp())
                    sub.push(this.Main_page());
                else
                    sub.unshift(this.Placeholder());
                return sub;
            };
            $mol_app_lamps.prototype.menu_scroll_top = function (next) {
                this.filter();
                return next || 0;
            };
            $mol_app_lamps.prototype.title = function () {
                var id = this.id();
                if (!id)
                    return 'LampTest.ru';
                return this.lamp_title(id);
            };
            $mol_app_lamps.prototype.cri = function () {
                return this.lamp()['cri'] + "%";
            };
            $mol_app_lamps.prototype.angle = function () {
                return this.lamp()['angle'] + "\u00B0";
            };
            $mol_app_lamps.prototype.shape = function () {
                return "" + this.lamp()['shape'];
            };
            $mol_app_lamps.prototype.base = function () {
                return "" + this.lamp()['base'];
            };
            $mol_app_lamps.prototype.type = function () {
                return "" + this.lamp()['type'];
            };
            $mol_app_lamps.prototype.temp = function () {
                return "" + this.lamp()['color_l'];
            };
            $mol_app_lamps.prototype.matt = function () {
                return this.lamp()['matt'] == 1;
            };
            $mol_app_lamps.prototype.slug = function (id) {
                var trans = {
                    '': 'a',
                    '': 'b',
                    '': 'v',
                    '': 'g',
                    '': 'd',
                    '': 'e',
                    '': 'yo',
                    '': 'zh',
                    '': 'z',
                    '': 'i',
                    '': 'y',
                    '': 'k',
                    '': 'l',
                    '': 'm',
                    '': 'n',
                    '': 'o',
                    '': 'p',
                    '': 'r',
                    '': 's',
                    '': 't',
                    '': 'u',
                    '': 'f',
                    '': 'h',
                    '': 'ts',
                    '': 'ch',
                    '': 'sh',
                    '': 'sch',
                    '': '\'',
                    '': 'yi',
                    '': '',
                    '': 'e',
                    '': 'yu',
                    '': 'ya',
                };
                return this.lamp_title(id)
                    .replace(/[ \/]/g, '-')
                    .replace(/[.,]/g, '')
                    .toLowerCase()
                    .replace(/[-]/g, function (letter) { return trans[letter]; });
            };
            $mol_app_lamps.prototype.photo = function () {
                return "http://lamptest.ru/images/photo/" + this.slug(this.id()) + ".jpg";
            };
            $mol_app_lamps.prototype.thumb = function (id) {
                return "http://lamptest.ru/images/photo/" + this.slug(id) + "-med.jpg";
            };
            return $mol_app_lamps;
        }($.$mol_app_lamps));
        __decorate([
            $.$mol_mem()
        ], $mol_app_lamps.prototype, "lamps_all", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_lamps.prototype, "lamps", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_lamps.prototype, "lamps_dict", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_lamps.prototype, "menu_scroll_top", null);
        $mol.$mol_app_lamps = $mol_app_lamps;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//lamps.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_lamps_demo = (function (_super) {
        __extends($mol_app_lamps_demo, _super);
        function $mol_app_lamps_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_lamps_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        return $mol_app_lamps_demo;
    }($.$mol_app_lamps));
    $.$mol_app_lamps_demo = $mol_app_lamps_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_external = (function (_super) {
        __extends($mol_icon_external, _super);
        function $mol_icon_external() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_external.prototype.path = function () {
            return "M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z";
        };
        return $mol_icon_external;
    }($.$mol_icon));
    $.$mol_icon_external = $mol_icon_external;
})($ || ($ = {}));
//external.view.tree.js.map
;
var $;
(function ($) {
    function $mol_html_decode(text) {
        return text
            .replace(/&(?:#(\d+)|(lt|gt|quot));/gi, function (str, numb, name) {
            if (numb)
                return String.fromCharCode(numb);
            var mapping = {
                'lt': '<',
                'gt': '>',
                'quot': '"',
                'amp': '&',
            };
            return mapping[name];
        });
    }
    $.$mol_html_decode = $mol_html_decode;
})($ || ($ = {}));
//html.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_questions = (function (_super) {
        __extends($mol_app_questions, _super);
        function $mol_app_questions() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_questions.prototype.placeholder = function () {
            return "Stack Overflow";
        };
        $mol_app_questions.prototype.Placeholder = function () {
            var _this = this;
            return new $.$mol_book_placeholder().setup(function (obj) {
                obj.minimal_width = function () { return 600; };
                obj.title = function () { return _this.placeholder(); };
            });
        };
        $mol_app_questions.prototype.title_default = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title_default");
        };
        $mol_app_questions.prototype.menu_rows = function () {
            return [];
        };
        $mol_app_questions.prototype.Status = function () {
            var _this = this;
            return new $.$mol_status().setup(function (obj) {
                obj.status = function () { return _this.menu_rows(); };
            });
        };
        $mol_app_questions.prototype.Menu_links = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.menu_rows(); };
            });
        };
        $mol_app_questions.prototype.Menu = function () {
            var _this = this;
            return new $.$mol_page().setup(function (obj) {
                obj.title = function () { return _this.title_default(); };
                obj.minimal_width = function () { return 400; };
                obj.body = function () { return [].concat(_this.Status(), _this.Menu_links()); };
            });
        };
        $mol_app_questions.prototype.question_title = function (id) {
            return "";
        };
        $mol_app_questions.prototype.question_permalink = function (id) {
            return "";
        };
        $mol_app_questions.prototype.Details_permalink_icon = function (id) {
            return new $.$mol_icon_external();
        };
        $mol_app_questions.prototype.Details_permalink = function (id) {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.uri = function () { return _this.question_permalink(id); };
                obj.sub = function () { return [].concat(_this.Details_permalink_icon(id)); };
            });
        };
        $mol_app_questions.prototype.Details_close_icon = function (id) {
            return new $.$mol_icon_cross();
        };
        $mol_app_questions.prototype.Details_close = function (id) {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Details_close_icon(id)); };
                obj.arg = function () { return ({
                    "question": null,
                }); };
            });
        };
        $mol_app_questions.prototype.question_descr = function (id) {
            return "";
        };
        $mol_app_questions.prototype.Details_descr = function (id) {
            var _this = this;
            return new $.$mol_text().setup(function (obj) {
                obj.text = function () { return _this.question_descr(id); };
            });
        };
        $mol_app_questions.prototype.answers = function (id) {
            return [];
        };
        $mol_app_questions.prototype.Answers = function (id) {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.answers(id); };
            });
        };
        $mol_app_questions.prototype.Details = function (id) {
            var _this = this;
            return new $.$mol_page().setup(function (obj) {
                obj.minimal_width = function () { return 600; };
                obj.title = function () { return _this.question_title(id); };
                obj.tools = function () { return [].concat(_this.Details_permalink(id), _this.Details_close(id)); };
                obj.body = function () { return [].concat(_this.Details_descr(id), _this.Answers(id)); };
            });
        };
        $mol_app_questions.prototype.question_answer = function (id) {
            return "";
        };
        $mol_app_questions.prototype.Answer = function (id) {
            var _this = this;
            return new $.$mol_text().setup(function (obj) {
                obj.text = function () { return _this.question_answer(id); };
            });
        };
        $mol_app_questions.prototype.question_arg_by_index = function (index) {
            return ({});
        };
        $mol_app_questions.prototype.question_title_by_index = function (index) {
            return "";
        };
        $mol_app_questions.prototype.Question_title = function (index) {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.question_title_by_index(index)); };
            });
        };
        $mol_app_questions.prototype.question_tags_by_index = function (index) {
            return [];
        };
        $mol_app_questions.prototype.Question_tags = function (index) {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.question_tags_by_index(index); };
            });
        };
        $mol_app_questions.prototype.Question_row = function (index) {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Question_title(index), _this.Question_tags(index)); };
            });
        };
        $mol_app_questions.prototype.Question_link = function (index) {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.minimal_height = function () { return 70; };
                obj.arg = function () { return _this.question_arg_by_index(index); };
                obj.sub = function () { return [].concat(_this.Question_row(index)); };
            });
        };
        $mol_app_questions.prototype.tag_name = function (id) {
            return " ";
        };
        $mol_app_questions.prototype.Tag = function (id) {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.tag_name(id)); };
            });
        };
        return $mol_app_questions;
    }($.$mol_book));
    __decorate([
        $.$mol_mem()
    ], $mol_app_questions.prototype, "Placeholder", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_questions.prototype, "Status", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_questions.prototype, "Menu_links", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_questions.prototype, "Menu", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Details_permalink_icon", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Details_permalink", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Details_close_icon", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Details_close", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Details_descr", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Answers", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Details", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Answer", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Question_title", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Question_tags", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Question_row", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Question_link", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_questions.prototype, "Tag", null);
    $.$mol_app_questions = $mol_app_questions;
})($ || ($ = {}));
//questions.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_questions = (function (_super) {
            __extends($mol_app_questions, _super);
            function $mol_app_questions() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_questions.prototype.pages = function () {
                var question = this.question_cur_id();
                return [
                    question ? null : this.Placeholder(),
                    this.Menu(),
                    question ? this.Details(question) : null,
                ];
            };
            $mol_app_questions.prototype.menu_rows = function () {
                var res = [];
                var count = Math.min(10000, this.questions_count());
                for (var i = 0; i < count; ++i) {
                    res.push(this.Question_link(i));
                }
                return res;
            };
            $mol_app_questions.prototype.question_cur_id = function () {
                return Number($.$mol_state_arg.value('question'));
            };
            $mol_app_questions.prototype.question_tags_by_index = function (index) {
                var _this = this;
                return this.question_short(index).tags.map(function (name, i) { return _this.Tag({ row: index, tag: i }); });
            };
            $mol_app_questions.prototype.tag_name = function (id) {
                return this.question_short(id.row).tags[id.tag];
            };
            $mol_app_questions.prototype.question_title_by_index = function (index) {
                return $.$mol_html_decode(this.question_short(index).title);
            };
            $mol_app_questions.prototype.question_arg_by_index = function (index) {
                return {
                    question: this.question_short(index).question_id
                };
            };
            $mol_app_questions.prototype.question_title = function (id) {
                return $.$mol_html_decode(this.question_full(id).title);
            };
            $mol_app_questions.prototype.question_descr = function (id) {
                return $.$mol_html_decode(this.question_full(id).body_markdown);
            };
            $mol_app_questions.prototype.question_permalink = function (id) {
                return this.question_full(id).link;
            };
            $mol_app_questions.prototype.question_short = function (index) {
                var page_size = this.data_page_size();
                var page = Math.floor(index / page_size);
                return this.questions_data(page).items[index % page_size];
            };
            $mol_app_questions.prototype.questions_count = function () {
                var uri = "//api.stackexchange.com/2.2/questions?site=stackoverflow&filter=total";
                return $.$mol_http_resource_json.item(uri).json().total;
            };
            $mol_app_questions.prototype.questions_data = function (page) {
                var uri = "//api.stackexchange.com/2.2/questions?order=desc&sort=creation&site=stackoverflow&pagesize=" + this.data_page_size() + "&page=" + (page + 1);
                return $.$mol_http_resource_json.item(uri).json();
            };
            $mol_app_questions.prototype.data_page_size = function () {
                return 100;
            };
            $mol_app_questions.prototype.question_full = function (id) {
                var uri = "//api.stackexchange.com/2.2/questions/" + id + "?site=stackoverflow&filter=!9YdnSJ*_T";
                return $.$mol_http_resource_json.item(uri).json().items[0];
            };
            $mol_app_questions.prototype.question_answers = function (id) {
                var uri = "//api.stackexchange.com/2.2/questions/" + id + "/answers?order=desc&sort=votes&site=stackoverflow&filter=!-*f(6sFKn6ub";
                return $.$mol_http_resource_json.item(uri).json().items;
            };
            $mol_app_questions.prototype.answers = function (id) {
                var _this = this;
                return this.question_answers(id).map(function (answer, index) { return _this.Answer({ question: id, answer: index }); });
            };
            $mol_app_questions.prototype.question_answer = function (id) {
                return this.question_answers(id.question)[id.answer].body_markdown;
            };
            return $mol_app_questions;
        }($.$mol_app_questions));
        $mol.$mol_app_questions = $mol_app_questions;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//questions.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_questions_demo = (function (_super) {
        __extends($mol_app_questions_demo, _super);
        function $mol_app_questions_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_questions_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        return $mol_app_questions_demo;
    }($.$mol_app_questions));
    $.$mol_app_questions_demo = $mol_app_questions_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_quine = (function (_super) {
        __extends($mol_app_quine, _super);
        function $mol_app_quine() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_quine.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_quine.prototype.content = function () {
            return "";
        };
        $mol_app_quine.prototype.Text = function () {
            var _this = this;
            return new $.$mol_text().setup(function (obj) {
                obj.text = function () { return _this.content(); };
            });
        };
        $mol_app_quine.prototype.Content = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Text()); };
            });
        };
        $mol_app_quine.prototype.body = function () {
            return [].concat(this.Content());
        };
        $mol_app_quine.prototype.paths = function () {
            return [].concat("/mol/app/quine/quine.view.tree", "/mol/app/quine/quine.view.ts", "/mol/app/quine/index.html");
        };
        return $mol_app_quine;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_quine.prototype, "Text", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_quine.prototype, "Content", null);
    $.$mol_app_quine = $mol_app_quine;
})($ || ($ = {}));
//quine.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_quine = (function (_super) {
            __extends($mol_app_quine, _super);
            function $mol_app_quine() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_quine.prototype.content = function () {
                var paths = this.paths();
                var sources = paths.map(function (path) {
                    return $.$mol_file.relative(path).content();
                });
                var content = sources.map(function (source, index) {
                    var header = "# " + paths[index] + "\n";
                    var code = '```\n' + source.replace(/\n+$/, '') + '\n```\n';
                    return header + "\n" + code;
                }).join('\n');
                return content;
            };
            return $mol_app_quine;
        }($.$mol_app_quine));
        $mol.$mol_app_quine = $mol_app_quine;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//quine.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_quine_demo = (function (_super) {
        __extends($mol_app_quine_demo, _super);
        function $mol_app_quine_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_app_quine_demo;
    }($.$mol_app_quine));
    $.$mol_app_quine_demo = $mol_app_quine_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_report = (function (_super) {
        __extends($mol_app_report, _super);
        function $mol_app_report() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_report.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_report.prototype.description = function () {
            return "";
        };
        $mol_app_report.prototype.descriptor = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.description()); };
            });
        };
        $mol_app_report.prototype.headCells = function () {
            return [];
        };
        $mol_app_report.prototype.headRower = function () {
            var _this = this;
            return new $.$mol_app_report_rower().setup(function (obj) {
                obj.cells = function () { return _this.headCells(); };
            });
        };
        $mol_app_report.prototype.rows = function () {
            return [];
        };
        $mol_app_report.prototype.tabler = function () {
            var _this = this;
            return new $.$mol_app_report_tabler().setup(function (obj) {
                obj.rows = function () { return [].concat(_this.headRower(), _this.rows()); };
            });
        };
        $mol_app_report.prototype.body = function () {
            return [].concat(this.descriptor(), this.tabler());
        };
        $mol_app_report.prototype.rowerCells = function (id) {
            return [];
        };
        $mol_app_report.prototype.rower = function (id) {
            var _this = this;
            return new $.$mol_app_report_rower().setup(function (obj) {
                obj.cells = function () { return _this.rowerCells(id); };
            });
        };
        $mol_app_report.prototype.cell_content = function (id) {
            return null;
        };
        $mol_app_report.prototype.cellrows = function (id) {
            return 1;
        };
        $mol_app_report.prototype.cellCols = function (id) {
            return 1;
        };
        $mol_app_report.prototype.cell = function (id) {
            var _this = this;
            return new $.$mol_app_report_cell().setup(function (obj) {
                obj.content = function () { return _this.cell_content(id); };
                obj.rows = function () { return _this.cellrows(id); };
                obj.cols = function () { return _this.cellCols(id); };
            });
        };
        $mol_app_report.prototype.cell_value = function (id, val) {
            return (val !== void 0) ? val : null;
        };
        $mol_app_report.prototype.texter = function (id) {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.cell_value(id)); };
            });
        };
        $mol_app_report.prototype.cell_options = function (id) {
            return ({});
        };
        $mol_app_report.prototype.select = function (id) {
            var _this = this;
            return new $.$mol_select().setup(function (obj) {
                obj.value = function (val) { return _this.cell_value(id, val); };
                obj.dictionary = function () { return _this.cell_options(id); };
            });
        };
        $mol_app_report.prototype.number = function (id) {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.cell_value(id, val); };
            });
        };
        return $mol_app_report;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_report.prototype, "descriptor", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_report.prototype, "headRower", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_report.prototype, "tabler", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_report.prototype, "rower", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_report.prototype, "cell", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_report.prototype, "cell_value", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_report.prototype, "texter", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_report.prototype, "select", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_report.prototype, "number", null);
    $.$mol_app_report = $mol_app_report;
})($ || ($ = {}));
(function ($) {
    var $mol_app_report_tabler = (function (_super) {
        __extends($mol_app_report_tabler, _super);
        function $mol_app_report_tabler() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_report_tabler.prototype.dom_name = function () {
            return "table";
        };
        $mol_app_report_tabler.prototype.rows = function () {
            return [];
        };
        $mol_app_report_tabler.prototype.sub = function () {
            return this.rows();
        };
        return $mol_app_report_tabler;
    }($.$mol_view));
    $.$mol_app_report_tabler = $mol_app_report_tabler;
})($ || ($ = {}));
(function ($) {
    var $mol_app_report_rower = (function (_super) {
        __extends($mol_app_report_rower, _super);
        function $mol_app_report_rower() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_report_rower.prototype.dom_name = function () {
            return "tr";
        };
        $mol_app_report_rower.prototype.cells = function () {
            return [];
        };
        $mol_app_report_rower.prototype.sub = function () {
            return this.cells();
        };
        return $mol_app_report_rower;
    }($.$mol_view));
    $.$mol_app_report_rower = $mol_app_report_rower;
})($ || ($ = {}));
(function ($) {
    var $mol_app_report_cell = (function (_super) {
        __extends($mol_app_report_cell, _super);
        function $mol_app_report_cell() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_report_cell.prototype.dom_name = function () {
            return "td";
        };
        $mol_app_report_cell.prototype.cols = function () {
            return 1;
        };
        $mol_app_report_cell.prototype.rows = function () {
            return 1;
        };
        $mol_app_report_cell.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "colspan": this.cols(), "rowspan": this.rows() }));
        };
        $mol_app_report_cell.prototype.content = function () {
            return null;
        };
        $mol_app_report_cell.prototype.sub = function () {
            return [].concat(this.content());
        };
        return $mol_app_report_cell;
    }($.$mol_view));
    $.$mol_app_report_cell = $mol_app_report_cell;
})($ || ($ = {}));
//report.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_report = (function (_super) {
            __extends($mol_app_report, _super);
            function $mol_app_report() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_report.prototype.formatCols = function () {
                return [
                    {
                        title: ' /',
                    },
                    {
                        title: '',
                    },
                    {
                        title: '',
                    },
                ];
            };
            $mol_app_report.prototype.format_rows = function () {
                return [
                    {
                        title: '',
                        sub: [
                            {
                                title: ' ',
                                sub: [
                                    {
                                        field: 'base_length',
                                        title: '',
                                    },
                                    {
                                        field: 'base_width',
                                        title: '',
                                    },
                                    {
                                        field: 'base_height',
                                        title: '',
                                    },
                                ]
                            },
                            {
                                field: 'base_kind',
                                title: '',
                            },
                            {
                                field: 'base_type',
                                title: '',
                            },
                            {
                                field: 'base_release_year',
                                title: '   ',
                            },
                            {
                                field: 'base_weight_max',
                                title: ' ',
                            },
                        ]
                    },
                    {
                        title: '',
                        sub: [
                            {
                                title: ' ',
                                sub: [
                                    {
                                        field: 'roof_length',
                                        title: '',
                                    },
                                    {
                                        field: 'roof_width',
                                        title: '',
                                    },
                                    {
                                        field: 'roof_height',
                                        title: '',
                                    },
                                ]
                            },
                        ]
                    },
                ];
            };
            $mol_app_report.prototype.scheme = function () {
                return {
                    'base_length': {
                        type: 'number',
                        mask: 'XX',
                        unit: '',
                    },
                    'base_width': {
                        type: 'number',
                        mask: 'XX',
                        unit: '',
                    },
                    'base_height': {
                        type: 'number',
                        mask: 'XX',
                        unit: '',
                    },
                    'base_kind': {
                        type: 'enum',
                        options: {
                            union: '',
                            separated: '   ',
                        },
                    },
                    'base_type': {
                        type: 'enum',
                        options: {
                            ribbon: '',
                            ring: '',
                            pile: '',
                        },
                    },
                    'base_release_year': {
                        type: 'number',
                        mask: '',
                        unit: '.'
                    },
                    'base_weight_max': {
                        type: 'number',
                        mask: 'XX',
                        unit: '',
                    },
                    'roof_length': {
                        type: 'number',
                        mask: 'XX',
                        unit: '',
                    },
                    'roof_width': {
                        type: 'number',
                        mask: 'XX',
                        unit: '',
                    },
                    'roof_height': {
                        type: 'number',
                        mask: 'XX',
                        unit: '',
                    },
                };
            };
            $mol_app_report.prototype.data = function () {
                return {
                    base_length: '403300',
                    base_width: '22000',
                    base_height: '25000',
                    base_kind: 'union',
                    base_type: 'ribbon',
                    base_release_year: '1993',
                    base_weight_max: '30000',
                    roof_length: '413300',
                    roof_width: '23000',
                    roof_height: '26000',
                };
            };
            $mol_app_report.prototype.description = function () {
                return "\u041F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u21161\n\u041F\u0430\u0441\u0441\u043F\u043E\u0440-\u0444\u043E\u0440\u043C\u0443\u043B\u044F\u0440\n\u041C\u0430\u0433\u0438\u0441\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439 \u043D\u0430\u0441\u043E\u0441\u043D\u044B\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\nMHA-1";
            };
            $mol_app_report.prototype.headCells = function () {
                return [
                    this.cell([0, 0]),
                    this.cell([0, 1]),
                    this.cell([0, 2]),
                ];
            };
            $mol_app_report.prototype.rows = function () {
                var _this = this;
                var rows = [];
                var visit = function (pos, format) {
                    rows.push(_this.rower(pos));
                    if (format.sub)
                        format.sub.forEach(function (format, index) {
                            visit(pos.concat(index + 1), format);
                        });
                };
                this.format_rows().forEach(function (format, index) {
                    visit([index + 1], format);
                });
                return rows;
            };
            $mol_app_report.prototype.formatRow = function (pos) {
                var format_rows = this.format_rows();
                var next = null;
                for (var _i = 0, pos_1 = pos; _i < pos_1.length; _i++) {
                    var index = pos_1[_i];
                    next = format_rows[index - 1];
                    format_rows = next.sub;
                }
                return next;
            };
            $mol_app_report.prototype.rowerCells = function (pos) {
                var formatRow = this.formatRow(pos);
                return [
                    this.cell(pos.concat(0)),
                    this.cell(pos.concat(1)),
                    formatRow.field ? this.cell(pos.concat(2)) : null,
                ];
            };
            $mol_app_report.prototype.cellCols = function (pos) {
                if (pos[0] === 0) {
                    return 1;
                }
                var col = pos[pos.length - 1];
                if (col === 0)
                    return 1;
                var formatRow = this.formatRow(pos.slice(0, pos.length - 1));
                if (!formatRow.field) {
                    if (col === 1)
                        return 2;
                    else
                        return 0;
                }
                return 1;
            };
            $mol_app_report.prototype.cell_content = function (pos) {
                if (pos[0] === 0) {
                    return this.texter(pos);
                }
                var col = pos[pos.length - 1];
                if (col === 2) {
                    var field = this.formatRow(pos.slice(0, pos.length - 1)).field;
                    var scheme = this.scheme()[field];
                    switch (scheme.type) {
                        case 'number': return this.number(pos);
                        case 'enum': return this.select(pos);
                    }
                }
                else {
                    return this.texter(pos);
                }
            };
            $mol_app_report.prototype.cell_options = function (pos) {
                var field = this.formatRow(pos.slice(0, pos.length - 1)).field;
                return this.scheme()[field].options;
            };
            $mol_app_report.prototype.cell_value = function (pos, next) {
                if (next !== void 0)
                    return next;
                if (pos[0] === 0) {
                    return this.formatCols()[pos[1]].title;
                }
                var col = pos[pos.length - 1];
                switch (col) {
                    case 0: return pos.slice(0, pos.length - 1).join('.');
                    case 1: return this.cell_contentName(pos.slice(0, pos.length - 1));
                    case 2: return this.cell_contentValue(pos.slice(0, pos.length - 1));
                }
                return '';
            };
            $mol_app_report.prototype.cell_contentName = function (pos) {
                var formatRow = this.formatRow(pos);
                return formatRow.title;
            };
            $mol_app_report.prototype.cell_contentValue = function (pos) {
                var field = this.formatRow(pos).field;
                if (!field)
                    return '';
                var scheme = this.scheme()[field];
                switch (scheme.type) {
                    case 'number': return this.data()[field];
                    case 'enum': return scheme.options[this.data()[field]];
                }
                return '';
            };
            return $mol_app_report;
        }($.$mol_app_report));
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_report.prototype, "cell_content", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_report.prototype, "cell_options", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_report.prototype, "cell_value", null);
        $mol.$mol_app_report = $mol_app_report;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//report.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_report_demo = (function (_super) {
        __extends($mol_app_report_demo, _super);
        function $mol_app_report_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_app_report_demo;
    }($.$mol_app_report));
    $.$mol_app_report_demo = $mol_app_report_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_signup = (function (_super) {
        __extends($mol_app_signup, _super);
        function $mol_app_signup() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_signup.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_signup.prototype.message_required = function () {
            return $.$mol_locale.text(this.locale_contexts(), "message_required");
        };
        $mol_app_signup.prototype.message_no_spaces = function () {
            return $.$mol_locale.text(this.locale_contexts(), "message_no_spaces");
        };
        $mol_app_signup.prototype.message_need_more_letters = function () {
            return $.$mol_locale.text(this.locale_contexts(), "message_need_more_letters");
        };
        $mol_app_signup.prototype.name_first_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "name_first_label");
        };
        $mol_app_signup.prototype.name_first_errors = function () {
            return [];
        };
        $mol_app_signup.prototype.name_first_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "name_first_hint");
        };
        $mol_app_signup.prototype.name_first = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_signup.prototype.Name_first_control = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return _this.name_first_hint(); };
                obj.value = function (val) { return _this.name_first(val); };
            });
        };
        $mol_app_signup.prototype.Name_first_field = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.name_first_label(); };
                obj.errors = function () { return _this.name_first_errors(); };
                obj.control = function () { return _this.Name_first_control(); };
            });
        };
        $mol_app_signup.prototype.name_nick_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "name_nick_label");
        };
        $mol_app_signup.prototype.name_nick_errors = function () {
            return [];
        };
        $mol_app_signup.prototype.name_nick_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "name_nick_hint");
        };
        $mol_app_signup.prototype.name_nick = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_signup.prototype.Name_nick_control = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return _this.name_nick_hint(); };
                obj.value = function (val) { return _this.name_nick(val); };
            });
        };
        $mol_app_signup.prototype.Name_nick_field = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.name_nick_label(); };
                obj.errors = function () { return _this.name_nick_errors(); };
                obj.control = function () { return _this.Name_nick_control(); };
            });
        };
        $mol_app_signup.prototype.name_second_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "name_second_label");
        };
        $mol_app_signup.prototype.name_second_errors = function () {
            return [];
        };
        $mol_app_signup.prototype.name_second_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "name_second_hint");
        };
        $mol_app_signup.prototype.name_second = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_signup.prototype.Name_second_control = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return _this.name_second_hint(); };
                obj.value = function (val) { return _this.name_second(val); };
            });
        };
        $mol_app_signup.prototype.Name_second_field = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.name_second_label(); };
                obj.errors = function () { return _this.name_second_errors(); };
                obj.control = function () { return _this.Name_second_control(); };
            });
        };
        $mol_app_signup.prototype.sex_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "sex_label");
        };
        $mol_app_signup.prototype.sex_errors = function () {
            return [];
        };
        $mol_app_signup.prototype.sex = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_signup.prototype.sex_option_male = function () {
            return $.$mol_locale.text(this.locale_contexts(), "sex_option_male");
        };
        $mol_app_signup.prototype.sex_option_intersex = function () {
            return $.$mol_locale.text(this.locale_contexts(), "sex_option_intersex");
        };
        $mol_app_signup.prototype.sex_option_female = function () {
            return $.$mol_locale.text(this.locale_contexts(), "sex_option_female");
        };
        $mol_app_signup.prototype.sex_options = function () {
            return ({
                "male": this.sex_option_male(),
                "intersex": this.sex_option_intersex(),
                "female": this.sex_option_female(),
            });
        };
        $mol_app_signup.prototype.Sex_control = function () {
            var _this = this;
            return new $.$mol_switch().setup(function (obj) {
                obj.value = function (val) { return _this.sex(val); };
                obj.options = function () { return _this.sex_options(); };
            });
        };
        $mol_app_signup.prototype.Sex_field = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.sex_label(); };
                obj.errors = function () { return _this.sex_errors(); };
                obj.control = function () { return [].concat(_this.Sex_control()); };
            });
        };
        $mol_app_signup.prototype.submit_blocked = function () {
            return this.Form().submit_blocked();
        };
        $mol_app_signup.prototype.submit_text = function () {
            return $.$mol_locale.text(this.locale_contexts(), "submit_text");
        };
        $mol_app_signup.prototype.event_submit = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_app_signup.prototype.Submit = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.submit_text()); };
                obj.event_click = function (val) { return _this.event_submit(val); };
                obj.disabled = function () { return _this.submit_blocked(); };
            });
        };
        $mol_app_signup.prototype.Form = function () {
            var _this = this;
            return new $.$mol_form().setup(function (obj) {
                obj.form_fields = function () { return [].concat(_this.Name_first_field(), _this.Name_nick_field(), _this.Name_second_field(), _this.Sex_field()); };
                obj.buttons = function () { return [].concat(_this.Submit()); };
            });
        };
        $mol_app_signup.prototype.sub = function () {
            return [].concat(this.Form());
        };
        return $mol_app_signup;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "name_first", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Name_first_control", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Name_first_field", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "name_nick", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Name_nick_control", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Name_nick_field", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "name_second", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Name_second_control", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Name_second_field", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "sex", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Sex_control", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Sex_field", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "event_submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_signup.prototype, "Form", null);
    $.$mol_app_signup = $mol_app_signup;
})($ || ($ = {}));
//signup.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_signup = (function (_super) {
            __extends($mol_app_signup, _super);
            function $mol_app_signup() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_signup.prototype.name_first = function (next) {
                return $.$mol_state_local.value(this.state_key('name_first'), next) || '';
            };
            $mol_app_signup.prototype.name_first_errors = function () {
                return this.name_first() ? [] : [this.message_required()];
            };
            $mol_app_signup.prototype.name_nick = function (next) {
                return $.$mol_state_local.value(this.state_key('name_nick'), next) || '';
            };
            $mol_app_signup.prototype.name_second = function (next) {
                return $.$mol_state_local.value(this.state_key('name_second'), next) || '';
            };
            $mol_app_signup.prototype.name_second_errors = function () {
                var value = this.name_second();
                if (value.length === 0)
                    return [this.message_required()];
                var errors = [];
                if (value.length < 3)
                    errors.push(this.message_need_more_letters());
                if (value.indexOf(' ') !== -1)
                    errors.push(this.message_no_spaces());
                return errors;
            };
            $mol_app_signup.prototype.sex = function (next) {
                return $.$mol_state_local.value(this.state_key('sex'), next) || '';
            };
            $mol_app_signup.prototype.sex_errors = function () {
                return this.sex() ? [] : [this.message_required()];
            };
            $mol_app_signup.prototype.event_submit = function (next) {
                alert("Hello, " + this.sex() + " " + this.name_first() + " (" + this.name_nick() + ") " + this.name_second() + "!");
            };
            return $mol_app_signup;
        }($.$mol_app_signup));
        $mol.$mol_app_signup = $mol_app_signup;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//signup.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_signup_demo = (function (_super) {
        __extends($mol_app_signup_demo, _super);
        function $mol_app_signup_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_app_signup_demo;
    }($.$mol_app_signup));
    $.$mol_app_signup_demo = $mol_app_signup_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_cost = (function (_super) {
        __extends($mol_cost, _super);
        function $mol_cost() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_cost.prototype.value = function () {
            return null;
        };
        $mol_cost.prototype.prefix = function () {
            return "";
        };
        $mol_cost.prototype.Prefix = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.prefix()); };
            });
        };
        $mol_cost.prototype.value_view = function () {
            return "";
        };
        $mol_cost.prototype.Value = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.value_view()); };
            });
        };
        $mol_cost.prototype.postfix = function () {
            return "";
        };
        $mol_cost.prototype.Postfix = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.postfix()); };
            });
        };
        $mol_cost.prototype.sub = function () {
            return [].concat(this.Prefix(), this.Value(), this.Postfix());
        };
        return $mol_cost;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_cost.prototype, "Prefix", null);
    __decorate([
        $.$mol_mem()
    ], $mol_cost.prototype, "Value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_cost.prototype, "Postfix", null);
    $.$mol_cost = $mol_cost;
})($ || ($ = {}));
//cost.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_cost = (function (_super) {
            __extends($mol_cost, _super);
            function $mol_cost() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_cost.prototype.value = function () {
                return null;
            };
            $mol_cost.prototype.prefix = function () {
                return this.value().prefix();
            };
            $mol_cost.prototype.value_view = function () {
                return this.value().value_view();
            };
            $mol_cost.prototype.postfix = function () {
                return this.value().postfix();
            };
            return $mol_cost;
        }($.$mol_cost));
        $mol.$mol_cost = $mol_cost;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//cost.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_card = (function (_super) {
        __extends($mol_card, _super);
        function $mol_card() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_card.prototype.status = function () {
            return "";
        };
        $mol_card.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_card_status_type": this.status() }));
        };
        $mol_card.prototype.content = function () {
            return [];
        };
        $mol_card.prototype.Content = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.content(); };
            });
        };
        $mol_card.prototype.status_text = function () {
            return this.status();
        };
        $mol_card.prototype.Status = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.minimal_height = function () { return 30; };
                obj.sub = function () { return [].concat(_this.status_text()); };
            });
        };
        $mol_card.prototype.rows = function () {
            return [].concat(this.Content(), this.Status());
        };
        return $mol_card;
    }($.$mol_list));
    __decorate([
        $.$mol_mem()
    ], $mol_card.prototype, "Content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_card.prototype, "Status", null);
    $.$mol_card = $mol_card;
})($ || ($ = {}));
//card.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_supplies_domain_provider = (function (_super) {
        __extends($mol_app_supplies_domain_provider, _super);
        function $mol_app_supplies_domain_provider() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_provider.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_provider.prototype.name = function () { return void 0; };
        return $mol_app_supplies_domain_provider;
    }($.$mol_object));
    $.$mol_app_supplies_domain_provider = $mol_app_supplies_domain_provider;
    var $mol_app_supplies_domain_supply_group = (function (_super) {
        __extends($mol_app_supplies_domain_supply_group, _super);
        function $mol_app_supplies_domain_supply_group() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_supply_group.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_supply_group.prototype.name = function () { return void 0; };
        $mol_app_supplies_domain_supply_group.prototype.manager = function () { return void 0; };
        return $mol_app_supplies_domain_supply_group;
    }($.$mol_object));
    $.$mol_app_supplies_domain_supply_group = $mol_app_supplies_domain_supply_group;
    var $mol_app_supplies_domain_supply_division = (function (_super) {
        __extends($mol_app_supplies_domain_supply_division, _super);
        function $mol_app_supplies_domain_supply_division() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_supply_division.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_supply_division.prototype.name = function () { return void 0; };
        return $mol_app_supplies_domain_supply_division;
    }($.$mol_object));
    $.$mol_app_supplies_domain_supply_division = $mol_app_supplies_domain_supply_division;
    var $mol_app_supplies_domain_pay_method = (function (_super) {
        __extends($mol_app_supplies_domain_pay_method, _super);
        function $mol_app_supplies_domain_pay_method() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_pay_method.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_pay_method.prototype.name = function () { return void 0; };
        return $mol_app_supplies_domain_pay_method;
    }($.$mol_object));
    $.$mol_app_supplies_domain_pay_method = $mol_app_supplies_domain_pay_method;
    var $mol_app_supplies_domain_debitor = (function (_super) {
        __extends($mol_app_supplies_domain_debitor, _super);
        function $mol_app_supplies_domain_debitor() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_debitor.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_debitor.prototype.name = function () { return void 0; };
        return $mol_app_supplies_domain_debitor;
    }($.$mol_object));
    $.$mol_app_supplies_domain_debitor = $mol_app_supplies_domain_debitor;
    var $mol_app_supplies_domain_supply_position = (function (_super) {
        __extends($mol_app_supplies_domain_supply_position, _super);
        function $mol_app_supplies_domain_supply_position() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_supply_position.prototype.name = function () { return void 0; };
        $mol_app_supplies_domain_supply_position.prototype.supply_moment = function () { return void 0; };
        $mol_app_supplies_domain_supply_position.prototype.division = function () { return void 0; };
        $mol_app_supplies_domain_supply_position.prototype.store = function () { return void 0; };
        $mol_app_supplies_domain_supply_position.prototype.price = function () { return void 0; };
        $mol_app_supplies_domain_supply_position.prototype.quantity = function () { return void 0; };
        $mol_app_supplies_domain_supply_position.prototype.cost = function () { return void 0; };
        return $mol_app_supplies_domain_supply_position;
    }($.$mol_object));
    $.$mol_app_supplies_domain_supply_position = $mol_app_supplies_domain_supply_position;
    var $mol_app_supplies_domain_attachment = (function (_super) {
        __extends($mol_app_supplies_domain_attachment, _super);
        function $mol_app_supplies_domain_attachment() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_attachment.prototype.url_thumb = function () { return void 0; };
        $mol_app_supplies_domain_attachment.prototype.url_load = function () { return void 0; };
        return $mol_app_supplies_domain_attachment;
    }($.$mol_object));
    $.$mol_app_supplies_domain_attachment = $mol_app_supplies_domain_attachment;
    var $mol_app_supplies_domain_person = (function (_super) {
        __extends($mol_app_supplies_domain_person, _super);
        function $mol_app_supplies_domain_person() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_person.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_person.prototype.name = function () { return void 0; };
        return $mol_app_supplies_domain_person;
    }($.$mol_object));
    $.$mol_app_supplies_domain_person = $mol_app_supplies_domain_person;
    var $mol_app_supplies_domain_contract = (function (_super) {
        __extends($mol_app_supplies_domain_contract, _super);
        function $mol_app_supplies_domain_contract() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_contract.prototype.id = function () { return void 0; };
        return $mol_app_supplies_domain_contract;
    }($.$mol_object));
    $.$mol_app_supplies_domain_contract = $mol_app_supplies_domain_contract;
    var $mol_app_supplies_domain_ballance_unit = (function (_super) {
        __extends($mol_app_supplies_domain_ballance_unit, _super);
        function $mol_app_supplies_domain_ballance_unit() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_ballance_unit.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_ballance_unit.prototype.name = function () { return void 0; };
        return $mol_app_supplies_domain_ballance_unit;
    }($.$mol_object));
    $.$mol_app_supplies_domain_ballance_unit = $mol_app_supplies_domain_ballance_unit;
    var $mol_app_supplies_domain_consumer = (function (_super) {
        __extends($mol_app_supplies_domain_consumer, _super);
        function $mol_app_supplies_domain_consumer() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_consumer.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_consumer.prototype.name = function () { return void 0; };
        return $mol_app_supplies_domain_consumer;
    }($.$mol_object));
    $.$mol_app_supplies_domain_consumer = $mol_app_supplies_domain_consumer;
    var $mol_app_supplies_domain_store = (function (_super) {
        __extends($mol_app_supplies_domain_store, _super);
        function $mol_app_supplies_domain_store() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_store.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_store.prototype.name = function () { return void 0; };
        return $mol_app_supplies_domain_store;
    }($.$mol_object));
    $.$mol_app_supplies_domain_store = $mol_app_supplies_domain_store;
    var $mol_app_supplies_domain_supply = (function (_super) {
        __extends($mol_app_supplies_domain_supply, _super);
        function $mol_app_supplies_domain_supply() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_supply.prototype.id = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.provider = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.consumer = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.group = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.status = function (next) { return next; };
        $mol_app_supplies_domain_supply.prototype.ballance_unit = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.manager = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.contract = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.pay_method = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.debitor = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.positions = function () { return void 0; };
        $mol_app_supplies_domain_supply.prototype.attachments = function (next) { return next || []; };
        $mol_app_supplies_domain_supply.prototype.cost = function () { return void 0; };
        return $mol_app_supplies_domain_supply;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_domain_supply.prototype, "status", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_domain_supply.prototype, "attachments", null);
    $.$mol_app_supplies_domain_supply = $mol_app_supplies_domain_supply;
    var $mol_app_supplies_domain_supply_status;
    (function ($mol_app_supplies_domain_supply_status) {
        $mol_app_supplies_domain_supply_status[$mol_app_supplies_domain_supply_status["pending"] = 'pending'] = "pending";
        $mol_app_supplies_domain_supply_status[$mol_app_supplies_domain_supply_status["approved"] = 'approved'] = "approved";
    })($mol_app_supplies_domain_supply_status = $.$mol_app_supplies_domain_supply_status || ($.$mol_app_supplies_domain_supply_status = {}));
    var $mol_app_supplies_domain_mock = (function (_super) {
        __extends($mol_app_supplies_domain_mock, _super);
        function $mol_app_supplies_domain_mock() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_domain_mock.prototype.supplies = function () {
            var next = [];
            for (var i = 1; i <= 100; ++i) {
                next.push(this.supply((i * 123456789 % 987654321).toString(16).toUpperCase()));
            }
            return next;
        };
        $mol_app_supplies_domain_mock.prototype.positions = function (supply) {
            var next = [];
            var count = 10 + Math.floor(Math.random() * 30);
            for (var i = 1; i <= count; ++i) {
                next.push(this.position({
                    supply: supply,
                    position: (i * 123456789 % 987654321).toString(16).toUpperCase()
                }));
            }
            return next;
        };
        $mol_app_supplies_domain_mock.prototype.supply_status = function (id, next) {
            return next || $.$mol_stub_select_random([
                $mol_app_supplies_domain_supply_status.pending,
                $mol_app_supplies_domain_supply_status.approved
            ]);
        };
        $mol_app_supplies_domain_mock.prototype.supply = function (id) {
            var _this = this;
            return new $mol_app_supplies_domain_supply().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.cost = function () { return new $.$mol_unit_money_usd(_this.positions(id)
                    .reduce(function (sum, pos) { return sum + pos.cost().valueOf(); }, 0)); };
                obj.status = function (next) { return _this.supply_status(id, next); };
                obj.provider = $.$mol_const(_this.provider($.$mol_stub_code(2)));
                obj.consumer = $.$mol_const(_this.consumer($.$mol_stub_code(2)));
                obj.group = $.$mol_const(_this.supply_group($.$mol_stub_code(2)));
                obj.contract = $.$mol_const(_this.contract($.$mol_stub_code(8)));
                obj.manager = $.$mol_const(_this.person($.$mol_stub_code(2)));
                obj.ballance_unit = $.$mol_const(_this.ballance_unit($.$mol_stub_code(2)));
                obj.pay_method = $.$mol_const(_this.pay_method($.$mol_stub_code(1)));
                obj.debitor = $.$mol_const(_this.debitor($.$mol_stub_code(2)));
                obj.positions = function () { return _this.positions(id); };
                obj.attachments = function (next) { return _this.attachments(id, next); };
            });
        };
        $mol_app_supplies_domain_mock.prototype.provider = function (id) {
            return new $mol_app_supplies_domain_provider().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.name = $.$mol_const($.$mol_stub_company_name());
            });
        };
        $mol_app_supplies_domain_mock.prototype.consumer = function (id) {
            return new $mol_app_supplies_domain_consumer().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.name = $.$mol_const($.$mol_stub_company_name());
            });
        };
        $mol_app_supplies_domain_mock.prototype.ballance_unit = function (id) {
            return new $mol_app_supplies_domain_ballance_unit().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.name = $.$mol_const($.$mol_stub_select_random([
                    'ACME Enterprise',
                    'ACME Customer',
                    'ACME Inside'
                ]));
            });
        };
        $mol_app_supplies_domain_mock.prototype.division = function (id) {
            return new $mol_app_supplies_domain_supply_division().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.name = $.$mol_const($.$mol_stub_code(4));
            });
        };
        $mol_app_supplies_domain_mock.prototype.supply_group = function (id) {
            return new $mol_app_supplies_domain_supply_group().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.name = $.$mol_const($.$mol_stub_person_name() + ' Group');
            });
        };
        $mol_app_supplies_domain_mock.prototype.store = function (id) {
            return new $mol_app_supplies_domain_store().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.name = $.$mol_const($.$mol_stub_city() + ' #' + $.$mol_stub_code(2));
            });
        };
        $mol_app_supplies_domain_mock.prototype.person = function (id) {
            return new $mol_app_supplies_domain_person().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.name = $.$mol_const($.$mol_stub_person_name());
            });
        };
        $mol_app_supplies_domain_mock.prototype.contract = function (id) {
            return new $mol_app_supplies_domain_person().setup(function (obj) {
                obj.id = $.$mol_const(id);
            });
        };
        $mol_app_supplies_domain_mock.prototype.pay_method = function (id) {
            return new $mol_app_supplies_domain_pay_method().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.name = $.$mol_const($.$mol_stub_select_random(['Accounting', 'Cash']));
            });
        };
        $mol_app_supplies_domain_mock.prototype.debitor = function (id) {
            return new $mol_app_supplies_domain_pay_method().setup(function (obj) {
                obj.id = $.$mol_const(id);
                obj.name = $.$mol_const($.$mol_stub_company_name());
            });
        };
        $mol_app_supplies_domain_mock.prototype.position = function (id) {
            var _this = this;
            return new $mol_app_supplies_domain_supply_position().setup(function (obj) {
                obj.name = $.$mol_const($.$mol_stub_product_name());
                obj.supply_moment = $.$mol_const($.$mol_stub_time(60 * 24 * 365));
                obj.store = $.$mol_const(_this.store($.$mol_stub_code(2)));
                obj.division = $.$mol_const(_this.division($.$mol_stub_code(2)));
                obj.price = $.$mol_const($.$mol_stub_price(1000));
                obj.quantity = $.$mol_const(Math.round(Math.random() * 30));
                obj.cost = $.$mol_const(obj.price().mult(obj.quantity()));
            });
        };
        $mol_app_supplies_domain_mock.prototype.attachments = function (id, next) {
            return next || [];
        };
        $mol_app_supplies_domain_mock.prototype.attachment = function (id) {
            return new $mol_app_supplies_domain_attachment().setup(function (obj) {
                obj.url_thumb = obj.url_load = $.$mol_const('data:image/svg+xml;base64,PHN2ZyBpZD0i0KHQu9C+0LlfMSIgZGF0YS1uYW1lPSLQodC70L7QuSAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MjUuNyA2NDUuNDQiPgoJPGRlZnM+CgkJPHN0eWxlPi5jbHMtMXtmaWxsOiM0YzdjNGQ7fS5jbHMtMntmaWxsOiM2ZmMwNTg7fTwvc3R5bGU+Cgk8L2RlZnM+Cgk8dGl0bGU+JG1vbF9zeW1ib2w8L3RpdGxlPgoJPHBvbHlnb24gY2xhc3M9ImNscy0xIgoJCQkgcG9pbnRzPSI4MC43OCAyMTcuNTYgMjE0LjAzIDExNC42MSAzNTEuMTIgMjIwLjUzIDQyNS43IDE2Mi45MSAyMTQuODQgMCAzLjk4IDE2Mi45MSA0LjM1IDE2My4xOSAzLjM1IDE2My45NiAzNDQuOTMgNDI3Ljg3IDIxMS42NyA1MzAuODMgNzQuNTggNDI0LjkxIDAgNDgyLjUzIDIxMC44NiA2NDUuNDQgNDIxLjcyIDQ4Mi41MyA0MjEuMDIgNDgxLjk5IDQyMi4wMyA0ODEuMjEgODAuNzggMjE3LjU2Ii8+Cgk8cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMjA5LjU0IDQ0MC44MyA1OC4zNiAzMjIuNzIgMjA5LjU0IDIwNC42MSAzNjcuMzQgMzIyLjcyIDIwOS41NCA0NDAuODMiLz4KPC9zdmc+Cg==');
            });
        };
        return $mol_app_supplies_domain_mock;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_domain_mock.prototype, "supplies", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "positions", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "supply_status", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "supply", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "provider", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "consumer", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "ballance_unit", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "division", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "supply_group", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "store", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "person", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "contract", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "pay_method", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "debitor", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "position", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "attachments", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_supplies_domain_mock.prototype, "attachment", null);
    $.$mol_app_supplies_domain_mock = $mol_app_supplies_domain_mock;
})($ || ($ = {}));
//domain.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_supplies_card = (function (_super) {
        __extends($mol_app_supplies_card, _super);
        function $mol_app_supplies_card() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_card.prototype.supply = function () {
            return null;
        };
        $mol_app_supplies_card.prototype.status = function () {
            return "";
        };
        $mol_app_supplies_card.prototype.code_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "code_title");
        };
        $mol_app_supplies_card.prototype.code = function () {
            return "";
        };
        $mol_app_supplies_card.prototype.Code_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.code_title(); };
                obj.content = function () { return _this.code(); };
            });
        };
        $mol_app_supplies_card.prototype.cost_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "cost_title");
        };
        $mol_app_supplies_card.prototype.cost = function () {
            return new $.$mol_unit_money().setup(function (obj) {
                obj.valueOf = function () { return 0; };
            });
        };
        $mol_app_supplies_card.prototype.Cost = function () {
            var _this = this;
            return new $.$mol_cost().setup(function (obj) {
                obj.value = function () { return _this.cost(); };
            });
        };
        $mol_app_supplies_card.prototype.Cost_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.cost_title(); };
                obj.content = function () { return _this.Cost(); };
            });
        };
        $mol_app_supplies_card.prototype.provider_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "provider_title");
        };
        $mol_app_supplies_card.prototype.provider_name = function () {
            return "";
        };
        $mol_app_supplies_card.prototype.Provider_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.provider_title(); };
                obj.content = function () { return _this.provider_name(); };
            });
        };
        $mol_app_supplies_card.prototype.items = function () {
            return [].concat(this.Code_item(), this.Cost_item(), this.Provider_item());
        };
        $mol_app_supplies_card.prototype.Group = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.items()); };
            });
        };
        $mol_app_supplies_card.prototype.Card = function () {
            var _this = this;
            return new $.$mol_card().setup(function (obj) {
                obj.status = function () { return _this.status(); };
                obj.Content = function () { return _this.Group(); };
            });
        };
        $mol_app_supplies_card.prototype.sub = function () {
            return [].concat(this.Card());
        };
        return $mol_app_supplies_card;
    }($.$mol_link));
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_card.prototype, "Code_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_card.prototype, "cost", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_card.prototype, "Cost", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_card.prototype, "Cost_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_card.prototype, "Provider_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_card.prototype, "Group", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_card.prototype, "Card", null);
    $.$mol_app_supplies_card = $mol_app_supplies_card;
})($ || ($ = {}));
//card.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_supplies_card = (function (_super) {
            __extends($mol_app_supplies_card, _super);
            function $mol_app_supplies_card() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_supplies_card.prototype.supply = function () {
                return null;
            };
            $mol_app_supplies_card.prototype.code = function () {
                return this.supply().id();
            };
            $mol_app_supplies_card.prototype.provider_name = function () {
                return this.supply().provider().name();
            };
            $mol_app_supplies_card.prototype.cost = function () {
                return this.supply().cost();
            };
            $mol_app_supplies_card.prototype.status = function () {
                return String(this.supply().status());
            };
            return $mol_app_supplies_card;
        }($.$mol_app_supplies_card));
        $mol.$mol_app_supplies_card = $mol_app_supplies_card;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//card.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_supplies_enter = (function (_super) {
        __extends($mol_app_supplies_enter, _super);
        function $mol_app_supplies_enter() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_enter.prototype.entered = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_supplies_enter.prototype.loginLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "loginLabel");
        };
        $mol_app_supplies_enter.prototype.loginErrors = function () {
            return [];
        };
        $mol_app_supplies_enter.prototype.login = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_supplies_enter.prototype.loginControl = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.login(val); };
            });
        };
        $mol_app_supplies_enter.prototype.loginField = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.loginLabel(); };
                obj.errors = function () { return _this.loginErrors(); };
                obj.control = function () { return _this.loginControl(); };
            });
        };
        $mol_app_supplies_enter.prototype.passwordLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "passwordLabel");
        };
        $mol_app_supplies_enter.prototype.passwordErrors = function () {
            return [];
        };
        $mol_app_supplies_enter.prototype.password = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_supplies_enter.prototype.passControl = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.password(val); };
                obj.type = function () { return "password"; };
            });
        };
        $mol_app_supplies_enter.prototype.passwordField = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.passwordLabel(); };
                obj.errors = function () { return _this.passwordErrors(); };
                obj.control = function () { return _this.passControl(); };
            });
        };
        $mol_app_supplies_enter.prototype.submitLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "submitLabel");
        };
        $mol_app_supplies_enter.prototype.event_submit = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_app_supplies_enter.prototype.submit_blocked = function () {
            return false;
        };
        $mol_app_supplies_enter.prototype.submit = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.submitLabel()); };
                obj.event_click = function (val) { return _this.event_submit(val); };
                obj.disabled = function () { return _this.submit_blocked(); };
            });
        };
        $mol_app_supplies_enter.prototype.form = function () {
            var _this = this;
            return new $.$mol_form().setup(function (obj) {
                obj.form_fields = function () { return [].concat(_this.loginField(), _this.passwordField()); };
                obj.buttons = function () { return [].concat(_this.submit()); };
            });
        };
        $mol_app_supplies_enter.prototype.sub = function () {
            return [].concat(this.form());
        };
        return $mol_app_supplies_enter;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "entered", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "login", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "loginControl", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "loginField", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "password", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "passControl", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "passwordField", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "event_submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_enter.prototype, "form", null);
    $.$mol_app_supplies_enter = $mol_app_supplies_enter;
})($ || ($ = {}));
//enter.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_supplies_enter = (function (_super) {
            __extends($mol_app_supplies_enter, _super);
            function $mol_app_supplies_enter() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_supplies_enter.prototype.event_submit = function () {
                this.entered(true);
            };
            return $mol_app_supplies_enter;
        }($.$mol_app_supplies_enter));
        $mol.$mol_app_supplies_enter = $mol_app_supplies_enter;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//enter.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_supplies_list = (function (_super) {
        __extends($mol_app_supplies_list, _super);
        function $mol_app_supplies_list() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_list.prototype.supplies = function () {
            return [];
        };
        $mol_app_supplies_list.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_supplies_list.prototype.search_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "search_hint");
        };
        $mol_app_supplies_list.prototype.search_query = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_supplies_list.prototype.Search = function () {
            var _this = this;
            return new $.$mol_code().setup(function (obj) {
                obj.hint = function () { return _this.search_hint(); };
                obj.value = function (val) { return _this.search_query(val); };
            });
        };
        $mol_app_supplies_list.prototype.tools = function () {
            return [].concat(this.Search());
        };
        $mol_app_supplies_list.prototype.supply_rows = function () {
            return [];
        };
        $mol_app_supplies_list.prototype.Supply_rows = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.supply_rows(); };
            });
        };
        $mol_app_supplies_list.prototype.body = function () {
            return [].concat(this.Supply_rows());
        };
        return $mol_app_supplies_list;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_list.prototype, "search_query", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_list.prototype, "Search", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_list.prototype, "Supply_rows", null);
    $.$mol_app_supplies_list = $mol_app_supplies_list;
})($ || ($ = {}));
//list.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_supplies_list = (function (_super) {
            __extends($mol_app_supplies_list, _super);
            function $mol_app_supplies_list() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_supplies_list.prototype.supply_rows = function () {
                var _this = this;
                return this.supplies().map(function (supply, index) { return _this.Supply_row(index); });
            };
            $mol_app_supplies_list.prototype.Supply_row = function (index) {
                var _this = this;
                return new $mol.$mol_app_supplies_card().setup(function (obj) {
                    obj.supply = function () { return _this.supplies()[index]; };
                    obj.arg = function () { return ({
                        supply: _this.supplies()[index].id(),
                        side: null,
                    }); };
                });
            };
            return $mol_app_supplies_list;
        }($.$mol_app_supplies_list));
        __decorate([
            $.$mol_mem()
        ], $mol_app_supplies_list.prototype, "supply_rows", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_supplies_list.prototype, "Supply_row", null);
        $mol.$mol_app_supplies_list = $mol_app_supplies_list;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//list.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_deck = (function (_super) {
        __extends($mol_deck, _super);
        function $mol_deck() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_deck.prototype.items = function () {
            return [];
        };
        $mol_deck.prototype.current = function (val) {
            return (val !== void 0) ? val : "0";
        };
        $mol_deck.prototype.switch_options = function () {
            return ({});
        };
        $mol_deck.prototype.Switch = function () {
            var _this = this;
            return new $.$mol_switch().setup(function (obj) {
                obj.value = function (val) { return _this.current(val); };
                obj.options = function () { return _this.switch_options(); };
            });
        };
        $mol_deck.prototype.Content = function () {
            return null;
        };
        $mol_deck.prototype.rows = function () {
            return [].concat(this.Switch(), this.Content());
        };
        return $mol_deck;
    }($.$mol_list));
    __decorate([
        $.$mol_mem()
    ], $mol_deck.prototype, "current", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck.prototype, "Switch", null);
    $.$mol_deck = $mol_deck;
})($ || ($ = {}));
(function ($) {
    var $mol_deck_item = (function (_super) {
        __extends($mol_deck_item, _super);
        function $mol_deck_item() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_deck_item.prototype.title = function () {
            return "";
        };
        $mol_deck_item.prototype.content = function () {
            return [];
        };
        $mol_deck_item.prototype.Content = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.content(); };
            });
        };
        return $mol_deck_item;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_deck_item.prototype, "Content", null);
    $.$mol_deck_item = $mol_deck_item;
})($ || ($ = {}));
//deck.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_deck = (function (_super) {
            __extends($mol_deck, _super);
            function $mol_deck() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_deck.prototype.current = function (next) {
                return $.$mol_state_session.value(this + ".current()", next) || '0';
            };
            $mol_deck.prototype.switch_options = function () {
                var options = {};
                this.items().forEach(function (item, index) {
                    options[String(index)] = item.title();
                });
                return options;
            };
            $mol_deck.prototype.Content = function () {
                return this.items()[this.current()].Content();
            };
            return $mol_deck;
        }($.$mol_deck));
        __decorate([
            $.$mol_mem()
        ], $mol_deck.prototype, "Content", null);
        $mol.$mol_deck = $mol_deck;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//deck.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_tiler = (function (_super) {
        __extends($mol_tiler, _super);
        function $mol_tiler() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_tiler.prototype.items = function () {
            return [];
        };
        $mol_tiler.prototype.sub = function () {
            return [].concat(this.items());
        };
        return $mol_tiler;
    }($.$mol_view));
    $.$mol_tiler = $mol_tiler;
})($ || ($ = {}));
//tiler.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_tiler = (function (_super) {
            __extends($mol_tiler, _super);
            function $mol_tiler() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_tiler.prototype.sub = function () {
                return this.groupChilds([]);
            };
            $mol_tiler.prototype.groupItems = function (path) {
                var items = (path.length === 0)
                    ? this.items()
                    : this.groupItems(path.slice(0, path.length - 1));
                if (items.length < 2)
                    return items;
                if (path.length != 0) {
                    var cut = Math.floor(items.length / 2);
                    items = path[path.length - 1]
                        ? items.slice(cut)
                        : items.slice(0, cut);
                }
                return items;
            };
            $mol_tiler.prototype.groupChilds = function (path) {
                var _this = this;
                var items = this.groupItems(path);
                if (items.length <= 2)
                    return items.map(function (_, index) { return _this.item(path.concat(index)); });
                return [
                    this.child(path.concat(0)),
                    this.child(path.concat(1)),
                ];
            };
            $mol_tiler.prototype.child = function (path) {
                return (this.groupItems(path).length > 1)
                    ? this.group(path)
                    : this.item(path);
            };
            $mol_tiler.prototype.group = function (path) {
                var _this = this;
                return new $.$mol_view().setup(function (obj) {
                    obj.sub = function () { return _this.groupChilds(path); };
                });
            };
            $mol_tiler.prototype.item = function (path) {
                var _this = this;
                return new $.$mol_view().setup(function (obj) {
                    obj.sub = function () { return _this.groupItems(path); };
                });
            };
            return $mol_tiler;
        }($.$mol_tiler));
        __decorate([
            $.$mol_mem()
        ], $mol_tiler.prototype, "sub", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_tiler.prototype, "groupItems", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_tiler.prototype, "groupChilds", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_tiler.prototype, "child", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_tiler.prototype, "group", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_tiler.prototype, "item", null);
        $mol.$mol_tiler = $mol_tiler;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//tiler.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_attach = (function (_super) {
        __extends($mol_icon_attach, _super);
        function $mol_icon_attach() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_attach.prototype.path = function () {
            return "M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z";
        };
        return $mol_icon_attach;
    }($.$mol_icon));
    $.$mol_icon_attach = $mol_icon_attach;
})($ || ($ = {}));
//attach.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_attach = (function (_super) {
        __extends($mol_attach, _super);
        function $mol_attach() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_attach.prototype.items = function (val) {
            return (val !== void 0) ? val : [];
        };
        $mol_attach.prototype.attach_new = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_attach.prototype.Add = function () {
            var _this = this;
            return new $.$mol_attach_add().setup(function (obj) {
                obj.file_new = function (val) { return _this.attach_new(val); };
            });
        };
        $mol_attach.prototype.content = function () {
            return [].concat(this.items(), this.Add());
        };
        $mol_attach.prototype.Content = function () {
            var _this = this;
            return new $.$mol_tiler().setup(function (obj) {
                obj.items = function () { return _this.content(); };
            });
        };
        $mol_attach.prototype.attach_title = function () {
            return "";
        };
        $mol_attach.prototype.Item = function (id) {
            var _this = this;
            return new $.$mol_attach_item().setup(function (obj) {
                obj.title = function () { return _this.attach_title(); };
            });
        };
        return $mol_attach;
    }($.$mol_card));
    __decorate([
        $.$mol_mem()
    ], $mol_attach.prototype, "items", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach.prototype, "attach_new", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach.prototype, "Add", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach.prototype, "Content", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_attach.prototype, "Item", null);
    $.$mol_attach = $mol_attach;
})($ || ($ = {}));
(function ($) {
    var $mol_attach_item = (function (_super) {
        __extends($mol_attach_item, _super);
        function $mol_attach_item() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_attach_item.prototype.url_thumb = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_attach_item.prototype.url_load = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_attach_item.prototype.uri = function (val) {
            return this.url_load(val);
        };
        $mol_attach_item.prototype.style_bg = function () {
            return "";
        };
        $mol_attach_item.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "backgroundImage": this.style_bg() }));
        };
        $mol_attach_item.prototype.title = function () {
            return "";
        };
        $mol_attach_item.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "download": this.title() }));
        };
        return $mol_attach_item;
    }($.$mol_link));
    __decorate([
        $.$mol_mem()
    ], $mol_attach_item.prototype, "url_thumb", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_item.prototype, "url_load", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_item.prototype, "uri", null);
    $.$mol_attach_item = $mol_attach_item;
})($ || ($ = {}));
(function ($) {
    var $mol_attach_add = (function (_super) {
        __extends($mol_attach_add, _super);
        function $mol_attach_add() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_attach_add.prototype.minimal_height = function () {
            return 60;
        };
        $mol_attach_add.prototype.file_new = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_attach_add.prototype.Icon = function () {
            return new $.$mol_icon_attach();
        };
        $mol_attach_add.prototype.event_capture = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_attach_add.prototype.event_picked = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_attach_add.prototype.Input = function () {
            var _this = this;
            return new $.$mol_attach_add_input().setup(function (obj) {
                obj.event_capture = function (val) { return _this.event_capture(val); };
                obj.event_picked = function (val) { return _this.event_picked(val); };
            });
        };
        $mol_attach_add.prototype.sub = function () {
            return [].concat(this.Icon(), this.Input());
        };
        return $mol_attach_add;
    }($.$mol_button));
    __decorate([
        $.$mol_mem()
    ], $mol_attach_add.prototype, "file_new", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_add.prototype, "Icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_add.prototype, "event_capture", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_add.prototype, "event_picked", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_add.prototype, "Input", null);
    $.$mol_attach_add = $mol_attach_add;
})($ || ($ = {}));
(function ($) {
    var $mol_attach_add_input = (function (_super) {
        __extends($mol_attach_add_input, _super);
        function $mol_attach_add_input() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_attach_add_input.prototype.dom_name = function () {
            return "input";
        };
        $mol_attach_add_input.prototype.type = function () {
            return "file";
        };
        $mol_attach_add_input.prototype.accept = function () {
            return "image/*;capture=camera";
        };
        $mol_attach_add_input.prototype.multiple = function () {
            return true;
        };
        $mol_attach_add_input.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "type": this.type(), "accept": this.accept(), "multiple": this.multiple() }));
        };
        $mol_attach_add_input.prototype.event_capture = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_attach_add_input.prototype.event_click = function (val) {
            return this.event_capture(val);
        };
        $mol_attach_add_input.prototype.event_picked = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_attach_add_input.prototype.event = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event.call(this), { "change": function (val) { return _this.event_picked(val); } }));
        };
        return $mol_attach_add_input;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_attach_add_input.prototype, "event_capture", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_add_input.prototype, "event_click", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_add_input.prototype, "event_picked", null);
    $.$mol_attach_add_input = $mol_attach_add_input;
})($ || ($ = {}));
//attach.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_attach = (function (_super) {
            __extends($mol_attach, _super);
            function $mol_attach() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_attach.prototype.attach_new = function (next) {
                var items = this.items();
                var item = this.Item(items.length);
                item.url_thumb(next);
                item.url_load(next);
                this.items(items.concat(item));
                return void 0;
            };
            return $mol_attach;
        }($.$mol_attach));
        $mol.$mol_attach = $mol_attach;
        var $mol_attach_item = (function (_super) {
            __extends($mol_attach_item, _super);
            function $mol_attach_item() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_attach_item.prototype.style_bg = function () {
                return "url(\"" + this.url_thumb() + "\")";
            };
            return $mol_attach_item;
        }($.$mol_attach_item));
        $mol.$mol_attach_item = $mol_attach_item;
        var $mol_attach_add = (function (_super) {
            __extends($mol_attach_add, _super);
            function $mol_attach_add() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_attach_add.prototype.file_new = function (next) {
                return next;
            };
            $mol_attach_add.prototype.event_capture = function (next) {
                var _this = this;
                if (!$.$mol_cordova_camera())
                    return;
                next.preventDefault();
                $.$mol_cordova_camera().getPicture(function (url) {
                    _this.file_new(url);
                }, function (error) {
                    _this.file_new(error);
                }, {
                    quality: 50
                });
            };
            $mol_attach_add.prototype.event_picked = function (next) {
                var files = [].slice.call(next.target.files);
                for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {
                    var file = files_1[_i];
                    this.file_new(URL.createObjectURL(file));
                }
            };
            return $mol_attach_add;
        }($.$mol_attach_add));
        $mol.$mol_attach_add = $mol_attach_add;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//attach.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_section = (function (_super) {
        __extends($mol_section, _super);
        function $mol_section() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_section.prototype.head = function () {
            return null;
        };
        $mol_section.prototype.Head = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.head()); };
            });
        };
        $mol_section.prototype.Content = function () {
            return null;
        };
        $mol_section.prototype.rows = function () {
            return [].concat(this.Head(), this.Content());
        };
        return $mol_section;
    }($.$mol_list));
    __decorate([
        $.$mol_mem()
    ], $mol_section.prototype, "Head", null);
    $.$mol_section = $mol_section;
})($ || ($ = {}));
//section.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_supplies_position = (function (_super) {
        __extends($mol_app_supplies_position, _super);
        function $mol_app_supplies_position() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_position.prototype.minimal_height = function () {
            return 70;
        };
        $mol_app_supplies_position.prototype.product_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "product_title");
        };
        $mol_app_supplies_position.prototype.product_name = function () {
            return "";
        };
        $mol_app_supplies_position.prototype.Product_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.product_title(); };
                obj.content = function () { return _this.product_name(); };
            });
        };
        $mol_app_supplies_position.prototype.cost_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "cost_title");
        };
        $mol_app_supplies_position.prototype.cost = function () {
            return new $.$mol_unit_money().setup(function (obj) {
                obj.valueOf = function () { return 0; };
            });
        };
        $mol_app_supplies_position.prototype.Cost = function () {
            var _this = this;
            return new $.$mol_cost().setup(function (obj) {
                obj.value = function () { return _this.cost(); };
            });
        };
        $mol_app_supplies_position.prototype.Cost_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.cost_title(); };
                obj.content = function () { return _this.Cost(); };
            });
        };
        $mol_app_supplies_position.prototype.Main_group = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Product_item(), _this.Cost_item()); };
            });
        };
        $mol_app_supplies_position.prototype.division_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "division_title");
        };
        $mol_app_supplies_position.prototype.division_name = function () {
            return "";
        };
        $mol_app_supplies_position.prototype.Division_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.division_title(); };
                obj.content = function () { return _this.division_name(); };
            });
        };
        $mol_app_supplies_position.prototype.price_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "price_label");
        };
        $mol_app_supplies_position.prototype.price = function () {
            return new $.$mol_unit_money().setup(function (obj) {
                obj.valueOf = function () { return 0; };
            });
        };
        $mol_app_supplies_position.prototype.Price = function () {
            var _this = this;
            return new $.$mol_cost().setup(function (obj) {
                obj.value = function () { return _this.price(); };
            });
        };
        $mol_app_supplies_position.prototype.Price_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.price_label(); };
                obj.content = function () { return _this.Price(); };
            });
        };
        $mol_app_supplies_position.prototype.Addon_group = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Division_item(), _this.Price_item()); };
            });
        };
        $mol_app_supplies_position.prototype.quantity_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "quantity_title");
        };
        $mol_app_supplies_position.prototype.quantity = function () {
            return "";
        };
        $mol_app_supplies_position.prototype.Quantity_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.quantity_title(); };
                obj.content = function () { return _this.quantity(); };
            });
        };
        $mol_app_supplies_position.prototype.supply_date_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "supply_date_title");
        };
        $mol_app_supplies_position.prototype.supply_date = function () {
            return "";
        };
        $mol_app_supplies_position.prototype.Supply_date_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.supply_date_title(); };
                obj.content = function () { return _this.supply_date(); };
            });
        };
        $mol_app_supplies_position.prototype.store_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "store_title");
        };
        $mol_app_supplies_position.prototype.store_name = function () {
            return "";
        };
        $mol_app_supplies_position.prototype.Store_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.store_title(); };
                obj.content = function () { return _this.store_name(); };
            });
        };
        $mol_app_supplies_position.prototype.Supply_group = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Quantity_item(), _this.Supply_date_item(), _this.Store_item()); };
            });
        };
        $mol_app_supplies_position.prototype.Row = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Main_group(), _this.Addon_group(), _this.Supply_group()); };
            });
        };
        $mol_app_supplies_position.prototype.Content = function () {
            return this.Row();
        };
        return $mol_app_supplies_position;
    }($.$mol_card));
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Product_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "cost", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Cost", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Cost_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Main_group", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Division_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "price", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Price", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Price_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Addon_group", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Quantity_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Supply_date_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Store_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Supply_group", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_position.prototype, "Row", null);
    $.$mol_app_supplies_position = $mol_app_supplies_position;
})($ || ($ = {}));
//position.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_supplies_position = (function (_super) {
            __extends($mol_app_supplies_position, _super);
            function $mol_app_supplies_position() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_supplies_position.prototype.position = function () {
                return null;
            };
            $mol_app_supplies_position.prototype.product_name = function () {
                return this.position().name();
            };
            $mol_app_supplies_position.prototype.price = function () {
                return this.position().price();
            };
            $mol_app_supplies_position.prototype.quantity = function () {
                return this.position().quantity().toString();
            };
            $mol_app_supplies_position.prototype.cost = function () {
                return this.position().cost();
            };
            $mol_app_supplies_position.prototype.supply_date = function () {
                return this.position().supply_moment().toString('YYYY-MM-DD');
            };
            $mol_app_supplies_position.prototype.division_name = function () {
                return this.position().division().name();
            };
            $mol_app_supplies_position.prototype.store_name = function () {
                return this.position().store().name();
            };
            return $mol_app_supplies_position;
        }($.$mol_app_supplies_position));
        $mol.$mol_app_supplies_position = $mol_app_supplies_position;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//position.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_supplies_detail = (function (_super) {
        __extends($mol_app_supplies_detail, _super);
        function $mol_app_supplies_detail() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_detail.prototype.supply = function () {
            return null;
        };
        $mol_app_supplies_detail.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_supplies_detail.prototype.Close_icon = function () {
            return new $.$mol_icon_cross();
        };
        $mol_app_supplies_detail.prototype.close_arg = function () {
            return ({
                "supply": null,
            });
        };
        $mol_app_supplies_detail.prototype.Close = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Close_icon()); };
                obj.arg = function () { return _this.close_arg(); };
            });
        };
        $mol_app_supplies_detail.prototype.tools = function () {
            return [].concat(this.Close());
        };
        $mol_app_supplies_detail.prototype.org_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "org_title");
        };
        $mol_app_supplies_detail.prototype.provider_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "provider_title");
        };
        $mol_app_supplies_detail.prototype.provider_name = function () {
            return "";
        };
        $mol_app_supplies_detail.prototype.Provider = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.provider_title(); };
                obj.content = function () { return _this.provider_name(); };
            });
        };
        $mol_app_supplies_detail.prototype.customer_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "customer_label");
        };
        $mol_app_supplies_detail.prototype.consumer_name = function () {
            return "";
        };
        $mol_app_supplies_detail.prototype.Consumer = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.customer_label(); };
                obj.content = function () { return _this.consumer_name(); };
            });
        };
        $mol_app_supplies_detail.prototype.supply_group_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "supply_group_title");
        };
        $mol_app_supplies_detail.prototype.supply_group_name = function () {
            return "";
        };
        $mol_app_supplies_detail.prototype.Supply_group = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.supply_group_title(); };
                obj.content = function () { return _this.supply_group_name(); };
            });
        };
        $mol_app_supplies_detail.prototype.ballance_unit_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "ballance_unit_title");
        };
        $mol_app_supplies_detail.prototype.ballance_unit_name = function () {
            return "";
        };
        $mol_app_supplies_detail.prototype.Ballance_unit_item = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.ballance_unit_title(); };
                obj.content = function () { return _this.ballance_unit_name(); };
            });
        };
        $mol_app_supplies_detail.prototype.org_items = function () {
            return [].concat(this.Provider(), this.Consumer(), this.Supply_group(), this.Ballance_unit_item());
        };
        $mol_app_supplies_detail.prototype.Org_content = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return _this.org_items(); };
            });
        };
        $mol_app_supplies_detail.prototype.Org = function () {
            var _this = this;
            return new $.$mol_deck_item().setup(function (obj) {
                obj.title = function () { return _this.org_title(); };
                obj.Content = function () { return _this.Org_content(); };
            });
        };
        $mol_app_supplies_detail.prototype.cons_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "cons_title");
        };
        $mol_app_supplies_detail.prototype.contract_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "contract_title");
        };
        $mol_app_supplies_detail.prototype.contract_id = function () {
            return "";
        };
        $mol_app_supplies_detail.prototype.Contract = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.contract_title(); };
                obj.content = function () { return _this.contract_id(); };
            });
        };
        $mol_app_supplies_detail.prototype.pay_method_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "pay_method_title");
        };
        $mol_app_supplies_detail.prototype.pay_method_name = function () {
            return "";
        };
        $mol_app_supplies_detail.prototype.Pay_method = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.pay_method_title(); };
                obj.content = function () { return _this.pay_method_name(); };
            });
        };
        $mol_app_supplies_detail.prototype.manager_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "manager_title");
        };
        $mol_app_supplies_detail.prototype.manager_name = function () {
            return "";
        };
        $mol_app_supplies_detail.prototype.Manager = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.manager_title(); };
                obj.content = function () { return _this.manager_name(); };
            });
        };
        $mol_app_supplies_detail.prototype.debitod_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "debitod_title");
        };
        $mol_app_supplies_detail.prototype.debitor_name = function () {
            return "";
        };
        $mol_app_supplies_detail.prototype.Debitor = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.debitod_title(); };
                obj.content = function () { return _this.debitor_name(); };
            });
        };
        $mol_app_supplies_detail.prototype.cons_items = function () {
            return [].concat(this.Contract(), this.Pay_method(), this.Manager(), this.Debitor());
        };
        $mol_app_supplies_detail.prototype.Cons_content = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return _this.cons_items(); };
            });
        };
        $mol_app_supplies_detail.prototype.Cons = function () {
            var _this = this;
            return new $.$mol_deck_item().setup(function (obj) {
                obj.title = function () { return _this.cons_title(); };
                obj.Content = function () { return _this.Cons_content(); };
            });
        };
        $mol_app_supplies_detail.prototype.Descr_deck = function () {
            var _this = this;
            return new $.$mol_deck().setup(function (obj) {
                obj.items = function () { return [].concat(_this.Org(), _this.Cons()); };
            });
        };
        $mol_app_supplies_detail.prototype.Descr_card = function () {
            var _this = this;
            return new $.$mol_card().setup(function (obj) {
                obj.Content = function () { return _this.Descr_deck(); };
            });
        };
        $mol_app_supplies_detail.prototype.attach_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "attach_title");
        };
        $mol_app_supplies_detail.prototype.attachments = function () {
            return [];
        };
        $mol_app_supplies_detail.prototype.attach_new = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_app_supplies_detail.prototype.Attach = function () {
            var _this = this;
            return new $.$mol_attach().setup(function (obj) {
                obj.items = function () { return _this.attachments(); };
                obj.attach_new = function (val) { return _this.attach_new(val); };
            });
        };
        $mol_app_supplies_detail.prototype.Attach_section = function () {
            var _this = this;
            return new $.$mol_section().setup(function (obj) {
                obj.head = function () { return _this.attach_title(); };
                obj.Content = function () { return _this.Attach(); };
            });
        };
        $mol_app_supplies_detail.prototype.positions_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "positions_title");
        };
        $mol_app_supplies_detail.prototype.cost_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "cost_title");
        };
        $mol_app_supplies_detail.prototype.cost = function () {
            return new $.$mol_unit_money().setup(function (obj) {
                obj.valueOf = function () { return 0; };
            });
        };
        $mol_app_supplies_detail.prototype.Cost_value = function () {
            var _this = this;
            return new $.$mol_cost().setup(function (obj) {
                obj.value = function () { return _this.cost(); };
            });
        };
        $mol_app_supplies_detail.prototype.Cost = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.cost_title(); };
                obj.content = function () { return _this.Cost_value(); };
            });
        };
        $mol_app_supplies_detail.prototype.positions_head = function () {
            return [].concat(this.positions_title(), this.Cost());
        };
        $mol_app_supplies_detail.prototype.positions = function () {
            return [];
        };
        $mol_app_supplies_detail.prototype.Positions = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.positions(); };
            });
        };
        $mol_app_supplies_detail.prototype.Positions_section = function () {
            var _this = this;
            return new $.$mol_section().setup(function (obj) {
                obj.head = function () { return _this.positions_head(); };
                obj.Content = function () { return _this.Positions(); };
            });
        };
        $mol_app_supplies_detail.prototype.content = function () {
            return [].concat(this.Descr_card(), this.Attach_section(), this.Positions_section());
        };
        $mol_app_supplies_detail.prototype.Content = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.content(); };
            });
        };
        $mol_app_supplies_detail.prototype.List = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return [].concat(_this.Content()); };
            });
        };
        $mol_app_supplies_detail.prototype.body = function () {
            return [].concat(this.List());
        };
        $mol_app_supplies_detail.prototype.approved = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_supplies_detail.prototype.approved_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "approved_title");
        };
        $mol_app_supplies_detail.prototype.Approve = function () {
            var _this = this;
            return new $.$mol_check_box().setup(function (obj) {
                obj.checked = function (val) { return _this.approved(val); };
                obj.label = function () { return [].concat(_this.approved_title()); };
            });
        };
        $mol_app_supplies_detail.prototype.actions = function () {
            return [].concat(this.Approve());
        };
        $mol_app_supplies_detail.prototype.Actions = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return _this.actions(); };
            });
        };
        $mol_app_supplies_detail.prototype.foot = function () {
            return [].concat(this.Actions());
        };
        return $mol_app_supplies_detail;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Close_icon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Close", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Provider", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Consumer", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Supply_group", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Ballance_unit_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Org_content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Org", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Contract", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Pay_method", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Manager", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Debitor", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Cons_content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Cons", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Descr_deck", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Descr_card", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "attach_new", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Attach", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Attach_section", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "cost", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Cost_value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Cost", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Positions", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Positions_section", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "List", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "approved", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Approve", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_detail.prototype, "Actions", null);
    $.$mol_app_supplies_detail = $mol_app_supplies_detail;
})($ || ($ = {}));
//detail.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_supplies_detail = (function (_super) {
            __extends($mol_app_supplies_detail, _super);
            function $mol_app_supplies_detail() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_supplies_detail.prototype.supply = function () {
                return null;
            };
            $mol_app_supplies_detail.prototype.title = function () {
                return _super.prototype.title.call(this) + " " + this.supply().id();
            };
            $mol_app_supplies_detail.prototype.approved = function (next) {
                if (next === void 0) {
                    return this.supply().status() === $.$mol_app_supplies_domain_supply_status.approved;
                }
                this.supply().status(next
                    ? $.$mol_app_supplies_domain_supply_status.approved
                    : $.$mol_app_supplies_domain_supply_status.pending);
                return next;
            };
            $mol_app_supplies_detail.prototype.provider_name = function () {
                return this.supply().provider().name();
            };
            $mol_app_supplies_detail.prototype.consumer_name = function () {
                return this.supply().consumer().name();
            };
            $mol_app_supplies_detail.prototype.ballance_unit_name = function () {
                return this.supply().ballance_unit().name();
            };
            $mol_app_supplies_detail.prototype.supply_group_name = function () {
                return this.supply().group().name();
            };
            $mol_app_supplies_detail.prototype.manager_name = function () {
                return this.supply().manager().name();
            };
            $mol_app_supplies_detail.prototype.pay_method_name = function () {
                return this.supply().pay_method().name();
            };
            $mol_app_supplies_detail.prototype.debitor_name = function () {
                return this.supply().debitor().name();
            };
            $mol_app_supplies_detail.prototype.contract_id = function () {
                return this.supply().contract().id();
            };
            $mol_app_supplies_detail.prototype.cost = function () {
                return this.supply().cost();
            };
            $mol_app_supplies_detail.prototype.status = function () {
                return String(this.supply().status());
            };
            $mol_app_supplies_detail.prototype.positions = function () {
                var _this = this;
                return this.supply().positions().map(function (pos, index) { return _this.Position(index); });
            };
            $mol_app_supplies_detail.prototype.Position = function (index) {
                var _this = this;
                return new $mol.$mol_app_supplies_position().setup(function (obj) {
                    obj.position = function () { return _this.supply().positions()[index]; };
                });
            };
            $mol_app_supplies_detail.prototype.attachments = function () {
                var _this = this;
                return this.supply().attachments().map(function (pos, index) { return _this.Attachment(index); });
            };
            $mol_app_supplies_detail.prototype.Attachment = function (index) {
                var _this = this;
                return new $mol.$mol_attach_item().setup(function (obj) {
                    obj.url_thumb = function () { return _this.supply().attachments()[index].url_thumb(); };
                    obj.url_load = function () { return _this.supply().attachments()[index].url_load(); };
                });
            };
            $mol_app_supplies_detail.prototype.attach_new = function (next) {
                var supply = this.supply();
                var list = supply.attachments();
                var url = $.$mol_const(next);
                list = list.concat(new $.$mol_app_supplies_domain_attachment().setup(function (obj) {
                    obj.url_thumb = obj.url_load = url;
                }));
                supply.attachments(list);
            };
            $mol_app_supplies_detail.prototype.body_scroll_top = function (next) {
                var supplyId = this.supply() && this.supply().id();
                return $.$mol_state_session.value(this + ".scroll_top(" + supplyId + ")", next);
            };
            return $mol_app_supplies_detail;
        }($.$mol_app_supplies_detail));
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_supplies_detail.prototype, "Position", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_supplies_detail.prototype, "Attachment", null);
        $mol.$mol_app_supplies_detail = $mol_app_supplies_detail;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//detail.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_supplies_root = (function (_super) {
        __extends($mol_app_supplies_root, _super);
        function $mol_app_supplies_root() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_root.prototype.entered = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_supplies_root.prototype.enter = function () {
            var _this = this;
            return new $.$mol_app_supplies_enter().setup(function (obj) {
                obj.entered = function (val) { return _this.entered(val); };
            });
        };
        $mol_app_supplies_root.prototype.supplies = function () {
            return [];
        };
        $mol_app_supplies_root.prototype.search_query = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_supplies_root.prototype.lister = function () {
            var _this = this;
            return new $.$mol_app_supplies_list().setup(function (obj) {
                obj.minimal_width = function () { return 400; };
                obj.supplies = function () { return _this.supplies(); };
                obj.search_query = function (val) { return _this.search_query(val); };
            });
        };
        $mol_app_supplies_root.prototype.supply = function () {
            return null;
        };
        $mol_app_supplies_root.prototype.detailer = function () {
            var _this = this;
            return new $.$mol_app_supplies_detail().setup(function (obj) {
                obj.minimal_width = function () { return 400; };
                obj.supply = function () { return _this.supply(); };
            });
        };
        $mol_app_supplies_root.prototype.placeholder = function () {
            var _this = this;
            return new $.$mol_book_placeholder().setup(function (obj) {
                obj.title = function () { return _this.title(); };
            });
        };
        return $mol_app_supplies_root;
    }($.$mol_book));
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_root.prototype, "entered", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_root.prototype, "enter", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_root.prototype, "search_query", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_root.prototype, "lister", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_root.prototype, "detailer", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_supplies_root.prototype, "placeholder", null);
    $.$mol_app_supplies_root = $mol_app_supplies_root;
})($ || ($ = {}));
//root.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_supplies_root = (function (_super) {
            __extends($mol_app_supplies_root, _super);
            function $mol_app_supplies_root() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_supplies_root.prototype.entered = function (next) {
                return $.$mol_state_session.value(this + ".entered()", next) || false;
            };
            $mol_app_supplies_root.prototype.pages = function () {
                if (!this.entered()) {
                    return [this.enter()];
                }
                var sub = [this.lister()];
                if (this.supply())
                    sub.push(this.detailer());
                else
                    sub.unshift(this.placeholder());
                return sub;
            };
            $mol_app_supplies_root.prototype.domain = function () {
                return new $.$mol_app_supplies_domain_mock();
            };
            $mol_app_supplies_root.prototype.supplies = function () {
                return this.domain().supplies();
            };
            $mol_app_supplies_root.prototype.supply_id = function (next) {
                return $.$mol_state_arg.value(this.state_key('supply'), next);
            };
            $mol_app_supplies_root.prototype.search_query = function (next) {
                if (!next)
                    return '';
                if (next.length < 7)
                    return next;
                this.supply_id(next);
                return '';
            };
            $mol_app_supplies_root.prototype.supply = function () {
                if (!this.entered())
                    return null;
                var id = this.supply_id();
                return id ? this.domain().supply(id) : null;
            };
            return $mol_app_supplies_root;
        }($.$mol_app_supplies_root));
        __decorate([
            $.$mol_mem()
        ], $mol_app_supplies_root.prototype, "domain", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_supplies_root.prototype, "search_query", null);
        $mol.$mol_app_supplies_root = $mol_app_supplies_root;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//root.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_supplies_demo = (function (_super) {
        __extends($mol_app_supplies_demo, _super);
        function $mol_app_supplies_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_supplies_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_supplies_demo.prototype.entered = function () {
            return true;
        };
        return $mol_app_supplies_demo;
    }($.$mol_app_supplies_root));
    $.$mol_app_supplies_demo = $mol_app_supplies_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_taxon = (function (_super) {
        __extends($mol_app_taxon, _super);
        function $mol_app_taxon() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_taxon.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_taxon.prototype.hierarchy = function () {
            return null;
        };
        $mol_app_taxon.prototype.hierarchy_field = function () {
            return "Butxt";
        };
        $mol_app_taxon.prototype.record = function (id) {
            return null;
        };
        $mol_app_taxon.prototype.Grid = function () {
            var _this = this;
            return new $.$mol_grid().setup(function (obj) {
                obj.hierarchy = function () { return _this.hierarchy(); };
                obj.hierarchy_col = function () { return _this.hierarchy_field(); };
                obj.record = function (id) { return _this.record(id); };
            });
        };
        $mol_app_taxon.prototype.Body = function () {
            return this.Grid();
        };
        return $mol_app_taxon;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_taxon.prototype, "Grid", null);
    $.$mol_app_taxon = $mol_app_taxon;
})($ || ($ = {}));
//taxon.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_taxon = (function (_super) {
            __extends($mol_app_taxon, _super);
            function $mol_app_taxon() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_taxon.prototype.hierarchy_uri = function () {
                return 'http://justine.saprun.com:8000/sap/opu/odata/sap/ZTRNF_TEST_DATA_SRV/TRNF_TREESet?$' + 'format=json';
            };
            $mol_app_taxon.prototype.hierarchy = function () {
                var resource = $.$mol_http_resource_json.item(this.hierarchy_uri());
                resource.credentials = $.$mol_const({});
                var hierarchy = {};
                hierarchy[''] = {
                    id: '',
                    parent: null,
                    sub: []
                };
                resource.json().d.results.forEach(function (row) {
                    var parent = hierarchy[row.ParentId || ''];
                    var node = hierarchy[row.KeyId] = {
                        id: "" + row.KeyId,
                        parent: parent,
                        sub: [],
                    };
                    parent.sub.push(node);
                });
                return hierarchy;
            };
            $mol_app_taxon.prototype.data_uri = function () {
                return 'http://justine.saprun.com:8000/sap/opu/odata/sap/ZTRNF_TEST_DATA_SRV/TRNF_DATASet?$' + 'format=json';
            };
            $mol_app_taxon.prototype.data_resource = function (id) {
                var uri = this.data_uri() + '&$' + 'filter=' + encodeURIComponent("KeyId eq " + id);
                var resource = $.$mol_http_resource_json.item(uri);
                resource.credentials = $.$mol_const({});
                return resource;
            };
            $mol_app_taxon.prototype.data_table = function () {
                return {};
            };
            $mol_app_taxon.prototype.record = function (id) {
                if (!id)
                    return {};
                var cache = this.data_table();
                if (cache[id])
                    return cache[id];
                var next = this.data_resource(id).json().d.results[0];
                delete next.__metadata;
                return cache[id] = next;
            };
            return $mol_app_taxon;
        }($.$mol_app_taxon));
        __decorate([
            $.$mol_mem()
        ], $mol_app_taxon.prototype, "hierarchy", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_taxon.prototype, "data_table", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_taxon.prototype, "record", null);
        $mol.$mol_app_taxon = $mol_app_taxon;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//taxon.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_taxon_demo = (function (_super) {
        __extends($mol_app_taxon_demo, _super);
        function $mol_app_taxon_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_taxon_demo.prototype.hierarchy_field = function () {
            return "name";
        };
        return $mol_app_taxon_demo;
    }($.$mol_app_taxon));
    $.$mol_app_taxon_demo = $mol_app_taxon_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_taxon_demo = (function (_super) {
            __extends($mol_app_taxon_demo, _super);
            function $mol_app_taxon_demo() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_taxon_demo.prototype.hierarchy = function () {
                var dict = {};
                dict[''] = {
                    id: '',
                    parent: null,
                    sub: [],
                };
                for (var i = 1; i < 30000; ++i) {
                    var parent_1 = dict[Math.floor(Math.random() * i) || ''];
                    var node = dict[i] = {
                        id: "" + (i || ''),
                        parent: parent_1,
                        sub: [],
                    };
                    parent_1.sub.push(node);
                }
                return dict;
            };
            $mol_app_taxon_demo.prototype.record = function (path) {
                return {
                    name: $.$mol_stub_person_name(),
                    age: Math.ceil(Math.random() * 50),
                    sex: $.$mol_stub_select_random(['male', 'female']),
                    sexPrefer: $.$mol_stub_select_random(['male', 'female']),
                    birthDay: $.$mol_stub_time(-60 * 24 * 365 * 50).toString('YYYY-MM-DD'),
                    birthCity: $.$mol_stub_city(),
                    deathDay: $.$mol_stub_time(60 * 24 * 365 * 50).toString('YYYY-MM-DD'),
                    deathCity: $.$mol_stub_city(),
                    cityWork: $.$mol_stub_city(),
                    company: $.$mol_stub_company_name(),
                    phoneOS: $.$mol_stub_select_random(['iOS', 'Android', 'Windows']),
                    fingersCount: 7 + Math.ceil(Math.random() * 3)
                };
            };
            return $mol_app_taxon_demo;
        }($.$mol_app_taxon_demo));
        __decorate([
            $.$mol_mem()
        ], $mol_app_taxon_demo.prototype, "hierarchy", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_taxon_demo.prototype, "record", null);
        $mol.$mol_app_taxon_demo = $mol_app_taxon_demo;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var $;
(function ($) {
    function $mol_merge_dict(target, source) {
        var result = {};
        for (var key in target)
            result[key] = target[key];
        for (var key in source)
            result[key] = source[key];
        return result;
    }
    $.$mol_merge_dict = $mol_merge_dict;
})($ || ($ = {}));
//dict.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_todomvc = (function (_super) {
        __extends($mol_app_todomvc, _super);
        function $mol_app_todomvc() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_todomvc.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_app_todomvc.prototype.Title = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.minimal_height = function () { return 142; };
                obj.sub = function () { return [].concat(_this.title()); };
            });
        };
        $mol_app_todomvc.prototype.head_complete_enabled = function () {
            return false;
        };
        $mol_app_todomvc.prototype.completed_all = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_todomvc.prototype.Head_complete = function () {
            var _this = this;
            return new $.$mol_check().setup(function (obj) {
                obj.enabled = function () { return _this.head_complete_enabled(); };
                obj.checked = function (val) { return _this.completed_all(val); };
                obj.sub = function () { return [].concat(""); };
            });
        };
        $mol_app_todomvc.prototype.task_title_new = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_todomvc.prototype.event_add = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_app_todomvc.prototype.Add = function () {
            var _this = this;
            return new $.$mol_app_todomvc_add().setup(function (obj) {
                obj.value = function (val) { return _this.task_title_new(val); };
                obj.event_done = function (event) { return _this.event_add(event); };
            });
        };
        $mol_app_todomvc.prototype.Head_content = function () {
            return [].concat(this.Head_complete(), this.Add());
        };
        $mol_app_todomvc.prototype.Head = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.minimal_height = function () { return 64; };
                obj.sub = function () { return _this.Head_content(); };
            });
        };
        $mol_app_todomvc.prototype.task_rows = function () {
            return [];
        };
        $mol_app_todomvc.prototype.List = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.task_rows(); };
            });
        };
        $mol_app_todomvc.prototype.pending_message = function () {
            return $.$mol_locale.text(this.locale_contexts(), "pending_message");
        };
        $mol_app_todomvc.prototype.Pending = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.pending_message()); };
            });
        };
        $mol_app_todomvc.prototype.filter_all_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "filter_all_label");
        };
        $mol_app_todomvc.prototype.Filter_all = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.filter_all_label()); };
                obj.arg = function () { return ({
                    "completed": null,
                }); };
            });
        };
        $mol_app_todomvc.prototype.filter_active_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "filter_active_label");
        };
        $mol_app_todomvc.prototype.Filter_active = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.filter_active_label()); };
                obj.arg = function () { return ({
                    "completed": false,
                }); };
            });
        };
        $mol_app_todomvc.prototype.filter_completed_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "filter_completed_label");
        };
        $mol_app_todomvc.prototype.Filter_completed = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.filter_completed_label()); };
                obj.arg = function () { return ({
                    "completed": true,
                }); };
            });
        };
        $mol_app_todomvc.prototype.filterOptions = function () {
            return [].concat(this.Filter_all(), this.Filter_active(), this.Filter_completed());
        };
        $mol_app_todomvc.prototype.Filter = function () {
            var _this = this;
            return new $.$mol_bar().setup(function (obj) {
                obj.sub = function () { return _this.filterOptions(); };
            });
        };
        $mol_app_todomvc.prototype.sweep_enabled = function () {
            return true;
        };
        $mol_app_todomvc.prototype.event_sweep = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_app_todomvc.prototype.sweep_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "sweep_label");
        };
        $mol_app_todomvc.prototype.Sweep = function () {
            var _this = this;
            return new $.$mol_button_minor().setup(function (obj) {
                obj.enabled = function () { return _this.sweep_enabled(); };
                obj.event_click = function (event) { return _this.event_sweep(event); };
                obj.sub = function () { return [].concat(_this.sweep_label()); };
            });
        };
        $mol_app_todomvc.prototype.foot_content = function () {
            return [].concat(this.Pending(), this.Filter(), this.Sweep());
        };
        $mol_app_todomvc.prototype.Foot = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.foot_content(); };
            });
        };
        $mol_app_todomvc.prototype.panels = function () {
            return [].concat(this.Head(), this.List(), this.Foot());
        };
        $mol_app_todomvc.prototype.Panel = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.panels(); };
            });
        };
        $mol_app_todomvc.prototype.Page = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return [].concat(_this.Title(), _this.Panel()); };
            });
        };
        $mol_app_todomvc.prototype.sub = function () {
            return [].concat(this.Page());
        };
        $mol_app_todomvc.prototype.task_completed = function (id, val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_todomvc.prototype.task_title = function (id, val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_todomvc.prototype.event_task_drop = function (id, event) {
            return (event !== void 0) ? event : null;
        };
        $mol_app_todomvc.prototype.Task_row = function (id) {
            var _this = this;
            return new $.$mol_app_todomvc_task_row().setup(function (obj) {
                obj.completed = function (val) { return _this.task_completed(id, val); };
                obj.title = function (val) { return _this.task_title(id, val); };
                obj.event_drop = function (event) { return _this.event_task_drop(id, event); };
            });
        };
        return $mol_app_todomvc;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "completed_all", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Head_complete", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "task_title_new", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "event_add", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Add", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Head", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "List", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Pending", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Filter_all", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Filter_active", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Filter_completed", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Filter", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "event_sweep", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Sweep", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Foot", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Panel", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc.prototype, "Page", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_todomvc.prototype, "task_completed", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_todomvc.prototype, "task_title", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_todomvc.prototype, "event_task_drop", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_app_todomvc.prototype, "Task_row", null);
    $.$mol_app_todomvc = $mol_app_todomvc;
})($ || ($ = {}));
(function ($) {
    var $mol_app_todomvc_add = (function (_super) {
        __extends($mol_app_todomvc_add, _super);
        function $mol_app_todomvc_add() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_todomvc_add.prototype.hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "hint");
        };
        $mol_app_todomvc_add.prototype.event_press = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_app_todomvc_add.prototype.event = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event.call(this), { "keyup": function (event) { return _this.event_press(event); } }));
        };
        $mol_app_todomvc_add.prototype.event_done = function (event) {
            return (event !== void 0) ? event : null;
        };
        return $mol_app_todomvc_add;
    }($.$mol_string));
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc_add.prototype, "event_press", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc_add.prototype, "event_done", null);
    $.$mol_app_todomvc_add = $mol_app_todomvc_add;
})($ || ($ = {}));
(function ($) {
    var $mol_app_todomvc_task_row = (function (_super) {
        __extends($mol_app_todomvc_task_row, _super);
        function $mol_app_todomvc_task_row() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_todomvc_task_row.prototype.minimal_height = function () {
            return 64;
        };
        $mol_app_todomvc_task_row.prototype.completed = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_app_todomvc_task_row.prototype.Complete = function () {
            var _this = this;
            return new $.$mol_check().setup(function (obj) {
                obj.checked = function (val) { return _this.completed(val); };
                obj.sub = function () { return []; };
            });
        };
        $mol_app_todomvc_task_row.prototype.title_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title_hint");
        };
        $mol_app_todomvc_task_row.prototype.title = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_todomvc_task_row.prototype.Title = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return _this.title_hint(); };
                obj.value = function (val) { return _this.title(val); };
            });
        };
        $mol_app_todomvc_task_row.prototype.event_drop = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_app_todomvc_task_row.prototype.Drop = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.sub = function () { return [].concat(""); };
                obj.event_click = function (event) { return _this.event_drop(event); };
            });
        };
        $mol_app_todomvc_task_row.prototype.sub = function () {
            return [].concat(this.Complete(), this.Title(), this.Drop());
        };
        $mol_app_todomvc_task_row.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_app_todomvc_task_row_completed": this.completed() }));
        };
        return $mol_app_todomvc_task_row;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc_task_row.prototype, "completed", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc_task_row.prototype, "Complete", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc_task_row.prototype, "title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc_task_row.prototype, "Title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc_task_row.prototype, "event_drop", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_todomvc_task_row.prototype, "Drop", null);
    $.$mol_app_todomvc_task_row = $mol_app_todomvc_task_row;
})($ || ($ = {}));
//todomvc.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_todomvc_add = (function (_super) {
            __extends($mol_app_todomvc_add, _super);
            function $mol_app_todomvc_add() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_app_todomvc_add.prototype.event_press = function (next) {
                switch (next.keyCode) {
                    case $.$mol_keyboard_code.enter: return this.event_done(next);
                }
            };
            return $mol_app_todomvc_add;
        }($.$mol_app_todomvc_add));
        $mol.$mol_app_todomvc_add = $mol_app_todomvc_add;
        var $mol_app_todomvc = (function (_super) {
            __extends($mol_app_todomvc, _super);
            function $mol_app_todomvc() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this._id_seed = 0;
                return _this;
            }
            $mol_app_todomvc.prototype.task_ids = function (next) {
                return $.$mol_state_local.value(this.state_key('mol-todos'), next) || [];
            };
            $mol_app_todomvc.prototype.arg_completed = function () {
                return $.$mol_state_arg.value(this.state_key('completed'));
            };
            $mol_app_todomvc.prototype.groups_completed = function () {
                var groups = { 'true': [], 'false': [] };
                for (var _i = 0, _a = this.task_ids(); _i < _a.length; _i++) {
                    var id = _a[_i];
                    var task = this.task(id);
                    groups[String(task.completed)].push(id);
                }
                return groups;
            };
            $mol_app_todomvc.prototype.tasks_filtered = function () {
                var completed = this.arg_completed();
                if (completed) {
                    return this.groups_completed()[completed] || [];
                }
                else {
                    return this.task_ids();
                }
            };
            $mol_app_todomvc.prototype.completed_all = function (next) {
                if (next === void 0)
                    return this.groups_completed()['false'].length === 0;
                for (var _i = 0, _a = this.groups_completed()[String(!next)]; _i < _a.length; _i++) {
                    var id = _a[_i];
                    var task = this.task(id);
                    this.task(id, { title: task.title, completed: next });
                }
                return next;
            };
            $mol_app_todomvc.prototype.head_complete_enabled = function () {
                return this.task_ids().length > 0;
            };
            $mol_app_todomvc.prototype.pending_message = function () {
                var count = this.groups_completed()['false'].length;
                return (count === 1) ? '1 item left' : count + " items left";
            };
            $mol_app_todomvc.prototype.event_add = function (next) {
                var title = this.task_title_new();
                if (!title)
                    return;
                var id = ++this._id_seed;
                var task = { completed: false, title: title };
                this.task(id, task);
                this.task_ids(this.task_ids().concat(id));
                this.task_title_new('');
            };
            $mol_app_todomvc.prototype.task_rows = function () {
                var _this = this;
                return this.tasks_filtered().map(function (id, index) { return _this.Task_row(index); });
            };
            $mol_app_todomvc.prototype.task = function (id, next) {
                var key = this.state_key("mol-todos-" + id);
                if (next === void 0) {
                    return $.$mol_state_local.value(key) || { title: '', completed: false };
                }
                $.$mol_state_local.value(key, next);
                return next || void 0;
            };
            $mol_app_todomvc.prototype.task_completed = function (index, next) {
                var id = this.tasks_filtered()[index];
                if (next === void 0)
                    return this.task(id).completed;
                this.task(id, $.$mol_merge_dict(this.task(id), { completed: next }));
                return next;
            };
            $mol_app_todomvc.prototype.task_title = function (index, next) {
                var id = this.tasks_filtered()[index];
                if (next === void 0)
                    return this.task(id).title;
                this.task(id, $.$mol_merge_dict(this.task(id), { title: next }));
                return next;
            };
            $mol_app_todomvc.prototype.event_task_drop = function (index, next) {
                var tasks = this.tasks_filtered();
                var id = tasks[index];
                tasks = tasks.slice(0, index).concat(tasks.slice(index + 1, tasks.length));
                this.task(id, null);
                this.task_ids(tasks);
            };
            $mol_app_todomvc.prototype.event_sweep = function () {
                var _this = this;
                this.task_ids(this.task_ids().filter(function (id) {
                    if (!_this.task(id).completed)
                        return true;
                    _this.task(id, null);
                    return false;
                }));
            };
            $mol_app_todomvc.prototype.panels = function () {
                return [
                    this.Head(),
                    this.List(),
                    this.foot_visible() ? this.Foot() : null,
                ];
            };
            $mol_app_todomvc.prototype.foot_visible = function () {
                return this.task_ids().length > 0;
            };
            $mol_app_todomvc.prototype.sweep_enabled = function () {
                return this.groups_completed()['true'].length > 0;
            };
            return $mol_app_todomvc;
        }($.$mol_app_todomvc));
        __decorate([
            $.$mol_mem()
        ], $mol_app_todomvc.prototype, "groups_completed", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_todomvc.prototype, "tasks_filtered", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_todomvc.prototype, "completed_all", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_todomvc.prototype, "pending_message", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_todomvc.prototype, "task_rows", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_todomvc.prototype, "task_completed", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_todomvc.prototype, "task_title", null);
        $mol.$mol_app_todomvc = $mol_app_todomvc;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//todomvc.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_app_todomvc_demo = (function (_super) {
        __extends($mol_app_todomvc_demo, _super);
        function $mol_app_todomvc_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_app_todomvc_demo;
    }($.$mol_app_todomvc));
    $.$mol_app_todomvc_demo = $mol_app_todomvc_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_app_users = (function (_super) {
        __extends($mol_app_users, _super);
        function $mol_app_users() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_users.prototype.filter_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "filter_hint");
        };
        $mol_app_users.prototype.query = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_users.prototype.Filter = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return _this.filter_hint(); };
                obj.value = function (val) { return _this.query(val); };
            });
        };
        $mol_app_users.prototype.Head_row = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Filter()); };
            });
        };
        $mol_app_users.prototype.head = function () {
            return [].concat(this.Head_row());
        };
        $mol_app_users.prototype.user_rows = function () {
            return [];
        };
        $mol_app_users.prototype.List = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.user_rows(); };
            });
        };
        $mol_app_users.prototype.body = function () {
            return [].concat(this.List());
        };
        $mol_app_users.prototype.reload_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "reload_label");
        };
        $mol_app_users.prototype.event_reload = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_app_users.prototype.Reload = function () {
            var _this = this;
            return new $.$mol_button_minor().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.reload_label()); };
                obj.event_click = function (val) { return _this.event_reload(val); };
            });
        };
        $mol_app_users.prototype.loaded = function () {
            return false;
        };
        $mol_app_users.prototype.add_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "add_label");
        };
        $mol_app_users.prototype.event_add = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_app_users.prototype.Add = function () {
            var _this = this;
            return new $.$mol_button_minor().setup(function (obj) {
                obj.enabled = function () { return _this.loaded(); };
                obj.sub = function () { return [].concat(_this.add_label()); };
                obj.event_click = function (val) { return _this.event_add(val); };
            });
        };
        $mol_app_users.prototype.changed = function () {
            return false;
        };
        $mol_app_users.prototype.save_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "save_label");
        };
        $mol_app_users.prototype.event_save = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_app_users.prototype.Save = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.enabled = function () { return _this.changed(); };
                obj.sub = function () { return [].concat(_this.save_label()); };
                obj.event_click = function (val) { return _this.event_save(val); };
            });
        };
        $mol_app_users.prototype.save_result = function () {
            return null;
        };
        $mol_app_users.prototype.Message = function () {
            var _this = this;
            return new $.$mol_status().setup(function (obj) {
                obj.status = function () { return _this.save_result(); };
            });
        };
        $mol_app_users.prototype.Controller = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Reload(), _this.Add(), _this.Save(), _this.Message()); };
            });
        };
        $mol_app_users.prototype.foot = function () {
            return [].concat(this.Controller());
        };
        return $mol_app_users;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "query", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "Filter", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "Head_row", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "List", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "event_reload", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "Reload", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "event_add", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "Add", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "event_save", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "Save", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "Message", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users.prototype, "Controller", null);
    $.$mol_app_users = $mol_app_users;
})($ || ($ = {}));
(function ($) {
    var $mol_app_users_row = (function (_super) {
        __extends($mol_app_users_row, _super);
        function $mol_app_users_row() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_app_users_row.prototype.minimal_height = function () {
            return 68;
        };
        $mol_app_users_row.prototype.title = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_app_users_row.prototype.Title = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.title(val); };
            });
        };
        $mol_app_users_row.prototype.drop_label = function () {
            return "Drop";
        };
        $mol_app_users_row.prototype.event_drop = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_app_users_row.prototype.Drop = function () {
            var _this = this;
            return new $.$mol_button_minor().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.drop_label()); };
                obj.event_click = function (val) { return _this.event_drop(val); };
            });
        };
        $mol_app_users_row.prototype.sub = function () {
            return [].concat(this.Title(), this.Drop());
        };
        return $mol_app_users_row;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_app_users_row.prototype, "title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users_row.prototype, "Title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users_row.prototype, "event_drop", null);
    __decorate([
        $.$mol_mem()
    ], $mol_app_users_row.prototype, "Drop", null);
    $.$mol_app_users_row = $mol_app_users_row;
})($ || ($ = {}));
//users.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_app_users = (function (_super) {
            __extends($mol_app_users, _super);
            function $mol_app_users() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this._query_timer = 0;
                return _this;
            }
            $mol_app_users.prototype.query_arg = function (next) {
                return $.$mol_state_arg.value(this.state_key('query'), next);
            };
            $mol_app_users.prototype.query = function (next, force) {
                var _this = this;
                if (next === void null)
                    return this.query_arg();
                this.query_arg(next);
                if (this._query_timer)
                    clearTimeout(this._query_timer);
                this._query_timer = setTimeout(function () { _this.query(void null, $.$mol_atom_force); }, 500);
            };
            $mol_app_users.prototype.master = function () {
                var query = this.query();
                if (query) {
                    var uri = "https://api.github.com/search/users?per_page=100&q=" + encodeURIComponent(query);
                    var resource = $.$mol_http_resource_json.item(uri);
                }
                else {
                    resource = null;
                }
                return resource;
            };
            $mol_app_users.prototype.sub = function () {
                var next = [this.Head()];
                if (this.master())
                    next = [].concat(next, this.Body(), this.Foot());
                return next;
            };
            $mol_app_users.prototype.users = function (next) {
                var usersMaster = this.users_master();
                return next || usersMaster;
            };
            $mol_app_users.prototype.users_master = function (next, force) {
                if (!this.query())
                    return [];
                var master = this.master();
                if (next === void 0) {
                    return master.json(void 0, force).items.map(function (item) { return item.login; });
                }
                master.json(next && { items: next.map(function (login) { return ({ login: login }); }) });
                return next;
            };
            $mol_app_users.prototype.save_result = function () {
                return this.users_master();
            };
            $mol_app_users.prototype.event_reload = function (next) {
                this.users_master(void 0, $.$mol_atom_force);
            };
            $mol_app_users.prototype.event_add = function (next) {
                this.users(this.users().concat(''));
            };
            $mol_app_users.prototype.event_user_drop = function (id, next) {
                this.users(this.users().filter(function (name, i) { return (i !== id); }));
            };
            $mol_app_users.prototype.changed = function () {
                return JSON.stringify(this.users_master()) !== JSON.stringify(this.users());
            };
            $mol_app_users.prototype.loaded = function () {
                return Boolean(this.users().valueOf());
            };
            $mol_app_users.prototype.event_save = function (next) {
                if (!this.changed())
                    return;
                try {
                    this.users_master(this.users()).valueOf();
                }
                catch (error) {
                    if (error instanceof $.$mol_atom_wait)
                        throw error;
                    console.log('---', error);
                }
            };
            $mol_app_users.prototype.body = function () {
                if (this.users().length) {
                    return [this.List()];
                }
                else {
                    return ['Users not found'];
                }
            };
            $mol_app_users.prototype.user_rows = function () {
                var _this = this;
                return this.users().map(function (user, id) { return _this.User_row(id); });
            };
            $mol_app_users.prototype.User_row = function (id) {
                var _this = this;
                return new $.$mol_app_users_row().setup(function (obj) {
                    obj.title = function (next) { return _this.user_name(id, next); };
                    obj.event_drop = function (next) { return _this.event_user_drop(id, next); };
                });
            };
            $mol_app_users.prototype.user_name = function (id, next) {
                if (next === void 0)
                    return this.users()[id] || '';
                this.users(this.users().map(function (name, i) { return (i === id) ? next : name; }));
                return next;
            };
            return $mol_app_users;
        }($.$mol_app_users));
        __decorate([
            $.$mol_mem()
        ], $mol_app_users.prototype, "query", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_users.prototype, "master", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_users.prototype, "users", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_users.prototype, "users_master", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_users.prototype, "save_result", null);
        __decorate([
            $.$mol_mem()
        ], $mol_app_users.prototype, "user_rows", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_app_users.prototype, "User_row", null);
        $mol.$mol_app_users = $mol_app_users;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//users.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_attach_demo = (function (_super) {
        __extends($mol_attach_demo, _super);
        function $mol_attach_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_attach_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_attach_demo.prototype.empty_items = function (val) {
            return (val !== void 0) ? val : [];
        };
        $mol_attach_demo.prototype.Empty = function () {
            var _this = this;
            return new $.$mol_attach().setup(function (obj) {
                obj.items = function (val) { return _this.empty_items(val); };
            });
        };
        $mol_attach_demo.prototype.Item1 = function () {
            return new $.$mol_attach_item().setup(function (obj) {
                obj.url_thumb = function () { return "logo/logo.svg"; };
                obj.url_load = function () { return "logo/logo.svg"; };
            });
        };
        $mol_attach_demo.prototype.Item2 = function () {
            return new $.$mol_attach_item().setup(function (obj) {
                obj.url_thumb = function () { return "logo/logo.svg"; };
                obj.url_load = function () { return "logo/logo.svg"; };
            });
        };
        $mol_attach_demo.prototype.Item3 = function () {
            return new $.$mol_attach_item().setup(function (obj) {
                obj.url_thumb = function () { return "logo/logo.svg"; };
                obj.url_load = function () { return "logo/logo.svg"; };
            });
        };
        $mol_attach_demo.prototype.filled_items = function (val) {
            return (val !== void 0) ? val : [].concat(this.Item1(), this.Item2(), this.Item3());
        };
        $mol_attach_demo.prototype.Filled = function () {
            var _this = this;
            return new $.$mol_attach().setup(function (obj) {
                obj.items = function (val) { return _this.filled_items(val); };
            });
        };
        $mol_attach_demo.prototype.sub = function () {
            return [].concat(this.Empty(), this.Filled());
        };
        return $mol_attach_demo;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_attach_demo.prototype, "empty_items", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_demo.prototype, "Empty", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_demo.prototype, "Item1", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_demo.prototype, "Item2", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_demo.prototype, "Item3", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_demo.prototype, "filled_items", null);
    __decorate([
        $.$mol_mem()
    ], $mol_attach_demo.prototype, "Filled", null);
    $.$mol_attach_demo = $mol_attach_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_bar_demo = (function (_super) {
        __extends($mol_bar_demo, _super);
        function $mol_bar_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_bar_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_bar_demo.prototype.value = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_bar_demo.prototype.Two_mail = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return "E-mail"; };
                obj.value = function (val) { return _this.value(val); };
            });
        };
        $mol_bar_demo.prototype.Two_submit = function () {
            return new $.$mol_button().setup(function (obj) {
                obj.sub = function () { return [].concat("submit"); };
            });
        };
        $mol_bar_demo.prototype.Two = function () {
            var _this = this;
            return new $.$mol_bar().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Two_mail(), _this.Two_submit()); };
            });
        };
        $mol_bar_demo.prototype.Three_mail = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return "E-mail"; };
                obj.value = function (val) { return _this.value(val); };
            });
        };
        $mol_bar_demo.prototype.Three_confirm = function () {
            return new $.$mol_check_box().setup(function (obj) {
                obj.label = function () { return [].concat("Confirm"); };
            });
        };
        $mol_bar_demo.prototype.Three_submit = function () {
            return new $.$mol_button().setup(function (obj) {
                obj.sub = function () { return [].concat("submit"); };
            });
        };
        $mol_bar_demo.prototype.Tree = function () {
            var _this = this;
            return new $.$mol_bar().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Three_mail(), _this.Three_confirm(), _this.Three_submit()); };
            });
        };
        $mol_bar_demo.prototype.sub = function () {
            return [].concat(this.Two(), this.Tree());
        };
        return $mol_bar_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_bar_demo.prototype, "value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_bar_demo.prototype, "Two_mail", null);
    __decorate([
        $.$mol_mem()
    ], $mol_bar_demo.prototype, "Two_submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_bar_demo.prototype, "Two", null);
    __decorate([
        $.$mol_mem()
    ], $mol_bar_demo.prototype, "Three_mail", null);
    __decorate([
        $.$mol_mem()
    ], $mol_bar_demo.prototype, "Three_confirm", null);
    __decorate([
        $.$mol_mem()
    ], $mol_bar_demo.prototype, "Three_submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_bar_demo.prototype, "Tree", null);
    $.$mol_bar_demo = $mol_bar_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_bench_demo = (function (_super) {
        __extends($mol_bench_demo, _super);
        function $mol_bench_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_bench_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        return $mol_bench_demo;
    }($.$mol_bench));
    $.$mol_bench_demo = $mol_bench_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_bench_demo = (function (_super) {
            __extends($mol_bench_demo, _super);
            function $mol_bench_demo() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_bench_demo.prototype.col_sort = function (next) {
                return next || 'mid';
            };
            $mol_bench_demo.prototype.result = function () {
                return {
                    'bubble': {
                        'algorithm': 'bubble',
                        'min': '1 ms',
                        'mid': '11 ms',
                        'max': '99 ms',
                    },
                    'qsort': {
                        'algorithm': 'qsort',
                        'min': '2 ms',
                        'mid': '5 ms',
                        'max': '10 ms',
                    },
                };
            };
            return $mol_bench_demo;
        }($.$mol_bench_demo));
        __decorate([
            $.$mol_mem()
        ], $mol_bench_demo.prototype, "col_sort", null);
        $mol.$mol_bench_demo = $mol_bench_demo;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_book_demo = (function (_super) {
        __extends($mol_book_demo, _super);
        function $mol_book_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_book_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_book_demo.prototype.Placeholder = function () {
            return new $.$mol_book_placeholder().setup(function (obj) {
                obj.minimal_width = function () { return 200; };
                obj.sub = function () { return [].concat(" Placeholder"); };
            });
        };
        $mol_book_demo.prototype.Addon = function () {
            return new $.$mol_view().setup(function (obj) {
                obj.minimal_width = function () { return 250; };
                obj.sub = function () { return [].concat(" Addon"); };
            });
        };
        $mol_book_demo.prototype.Main = function () {
            return new $.$mol_view().setup(function (obj) {
                obj.minimal_width = function () { return 400; };
                obj.sub = function () { return [].concat(" Main"); };
            });
        };
        $mol_book_demo.prototype.pages = function () {
            return [].concat(this.Placeholder(), this.Addon(), this.Main());
        };
        return $mol_book_demo;
    }($.$mol_book));
    __decorate([
        $.$mol_mem()
    ], $mol_book_demo.prototype, "Placeholder", null);
    __decorate([
        $.$mol_mem()
    ], $mol_book_demo.prototype, "Addon", null);
    __decorate([
        $.$mol_mem()
    ], $mol_book_demo.prototype, "Main", null);
    $.$mol_book_demo = $mol_book_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'tree parsing': function () {
            $.$mol_assert_equal($.$mol_tree.fromString("foo\nbar\n").sub.length, 2);
            $.$mol_assert_equal($.$mol_tree.fromString("foo\nbar\n").sub[1].type, "bar");
            $.$mol_assert_equal($.$mol_tree.fromString("foo\n\n\n").sub.length, 1);
            $.$mol_assert_equal($.$mol_tree.fromString("=foo\n\\bar\n").sub.length, 2);
            $.$mol_assert_equal($.$mol_tree.fromString("=foo\n\\bar\n").sub[1].data, "bar");
            $.$mol_assert_equal($.$mol_tree.fromString("foo bar \\pol").sub[0].sub[0].sub[0].data, "pol");
            $.$mol_assert_equal($.$mol_tree.fromString("foo bar\n\t\\pol\n\t\\men").sub[0].sub[0].sub[1].data, "men");
            $.$mol_assert_equal($.$mol_tree.fromString('foo bar \\text\n').toString(), 'foo bar \\text\n');
        },
    });
})($ || ($ = {}));
//tree.test.js.map
;
var $;
(function ($) {
    var $mol_tree = (function () {
        function $mol_tree(config) {
            this.type = config.type || '';
            if (config.value) {
                var sub = $mol_tree.values(config.value);
                if (config.type || sub.length > 1) {
                    this.sub = sub.concat(config.sub || []);
                    this.data = config.data || '';
                }
                else {
                    this.data = sub[0].data;
                    this.sub = config.sub || [];
                }
            }
            else {
                this.data = config.data || '';
                this.sub = config.sub || [];
            }
            this.baseUri = config.baseUri || '';
            this.row = config.row || 0;
            this.col = config.col || 0;
        }
        $mol_tree.values = function (str, baseUri) {
            return str.split('\n').map(function (data, index) { return new $mol_tree({
                data: data,
                baseUri: baseUri,
                row: index + 1
            }); });
        };
        $mol_tree.prototype.clone = function (config) {
            return new $mol_tree({
                type: ('type' in config) ? config.type : this.type,
                data: ('data' in config) ? config.data : this.data,
                sub: ('sub' in config) ? config.sub : this.sub,
                baseUri: ('baseUri' in config) ? config.baseUri : this.baseUri,
                row: ('row' in config) ? config.row : this.row,
                col: ('col' in config) ? config.col : this.col,
                value: config.value
            });
        };
        $mol_tree.fromString = function (str, baseUri) {
            var root = new $mol_tree({ baseUri: baseUri });
            var stack = [root];
            var row = 0;
            var lines = String(str).split(/\n/);
            lines.forEach(function (line) {
                ++row;
                var chunks = /^(\t*)((?:[^\n\t\\ ]+ *)*)(\\[^\n]*)?/.exec(line);
                if (!chunks)
                    new Error("Syntax error at " + baseUri + "#" + row + "\n" + line);
                var indent = chunks[1];
                var path = chunks[2];
                var data = chunks[3];
                var deep = indent.length;
                var types = path ? path.split(/ +/) : [];
                if (stack.length <= deep)
                    throw new Error("Too many tabs at " + baseUri + "#" + row + "\n" + line);
                stack.length = deep + 1;
                var parent = stack[deep];
                types.forEach(function (type) {
                    if (!type)
                        return;
                    var next = new $mol_tree({
                        type: type,
                        baseUri: baseUri,
                        row: row
                    });
                    parent.sub.push(next);
                    parent = next;
                });
                if (data) {
                    var next = new $mol_tree({
                        data: data.substring(1),
                        baseUri: baseUri,
                        row: row
                    });
                    parent.sub.push(next);
                    parent = next;
                }
                stack.push(parent);
            });
            return root;
        };
        $mol_tree.fromJSON = function (json, baseUri) {
            if (baseUri === void 0) { baseUri = ''; }
            var type = $jin_type(json);
            switch (type) {
                case 'Boolean':
                case 'Null':
                case 'Number':
                    return new $mol_tree({
                        type: String(json),
                        baseUri: baseUri
                    });
                case 'String':
                    return new $mol_tree({
                        value: json,
                        baseUri: baseUri
                    });
                case 'Array':
                    return new $mol_tree({
                        type: "list",
                        sub: json.map(function (json) { return $mol_tree.fromJSON(json, baseUri); })
                    });
                case 'Date':
                    return new $mol_tree({
                        type: "time",
                        value: json.toISOString(),
                        baseUri: baseUri
                    });
                case 'Object':
                    var sub = [];
                    for (var key in json) {
                        if (json[key] === undefined)
                            continue;
                        if (/^[^\n\t\\ ]+$/.test(key)) {
                            var child = new $mol_tree({
                                type: key,
                                baseUri: baseUri
                            });
                        }
                        else {
                            var child = new $mol_tree({
                                value: key,
                                baseUri: baseUri
                            });
                        }
                        child.sub.push(new $mol_tree({
                            type: ":",
                            sub: [$mol_tree.fromJSON(json[key], baseUri)],
                            baseUri: baseUri
                        }));
                        sub.push(child);
                    }
                    return new $mol_tree({
                        type: "dict",
                        sub: sub,
                        baseUri: baseUri
                    });
            }
            throw new Error("Unsupported type (" + type + ") at " + baseUri);
        };
        Object.defineProperty($mol_tree.prototype, "uri", {
            get: function () {
                return this.baseUri + '#' + this.row + ':' + this.col;
            },
            enumerable: true,
            configurable: true
        });
        $mol_tree.prototype.toString = function (prefix) {
            if (prefix === void 0) { prefix = ''; }
            var output = '';
            if (this.type.length) {
                if (!prefix.length) {
                    prefix = "\t";
                }
                output += this.type + " ";
                if (this.sub.length == 1) {
                    return output + this.sub[0].toString(prefix);
                }
                output += "\n";
            }
            else if (this.data.length || prefix.length) {
                output += "\\" + this.data + "\n";
            }
            for (var _i = 0, _a = this.sub; _i < _a.length; _i++) {
                var child = _a[_i];
                output += prefix;
                output += child.toString(prefix + "\t");
            }
            return output;
        };
        $mol_tree.prototype.toJSON = function () {
            if (!this.type)
                return this.value;
            if (this.type === '//')
                return undefined;
            if (this.type === 'true')
                return true;
            if (this.type === 'false')
                return false;
            if (this.type === 'null')
                return null;
            if (this.type === 'dict') {
                var obj = {};
                for (var _i = 0, _a = this.sub; _i < _a.length; _i++) {
                    var child = _a[_i];
                    var key = child.type || child.value;
                    if (key === '//')
                        continue;
                    var colon = child.select(':').sub[0];
                    if (!colon)
                        throw new Error("Required colon after key at " + child.uri);
                    var val = colon.sub[0].toJSON();
                    if (val !== undefined)
                        obj[key] = val;
                }
                return obj;
            }
            if (this.type === 'list') {
                var res = [];
                this.sub.forEach(function (child) {
                    var val = child.toJSON();
                    if (val !== undefined)
                        res.push(val);
                });
                return res;
            }
            if (this.type === 'time') {
                return new Date(this.value);
            }
            if (String(Number(this.type)) == this.type.trim())
                return Number(this.type);
            throw new Error("Unknown type (" + this.type + ") at " + this.uri);
        };
        Object.defineProperty($mol_tree.prototype, "value", {
            get: function () {
                var values = [];
                for (var _i = 0, _a = this.sub; _i < _a.length; _i++) {
                    var child = _a[_i];
                    if (child.type)
                        continue;
                    values.push(child.value);
                }
                return this.data + values.join("\n");
            },
            enumerable: true,
            configurable: true
        });
        $mol_tree.prototype.select = function () {
            var path = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                path[_i] = arguments[_i];
            }
            if (typeof path === 'string')
                path = path.split(/ +/);
            var next = [this];
            for (var _a = 0, path_1 = path; _a < path_1.length; _a++) {
                var type = path_1[_a];
                if (!next.length)
                    break;
                var prev = next;
                next = [];
                for (var _b = 0, prev_1 = prev; _b < prev_1.length; _b++) {
                    var item = prev_1[_b];
                    for (var _c = 0, _d = item.sub; _c < _d.length; _c++) {
                        var child = _d[_c];
                        if (child.type == type) {
                            next.push(child);
                        }
                    }
                }
            }
            return new $mol_tree({ sub: next });
        };
        $mol_tree.prototype.filter = function (path, value) {
            if (typeof path === 'string')
                path = path.split(/ +/);
            var sub = this.sub.filter(function (item) {
                var found = item.select.apply(item, path);
                if (value == null) {
                    return Boolean(found.sub.length);
                }
                else {
                    return found.sub.some(function (child) { return child.value == value; });
                }
            });
            return new $mol_tree({ sub: sub });
        };
        return $mol_tree;
    }());
    $.$mol_tree = $mol_tree;
})($ || ($ = {}));
//tree.js.map
;
var $;
(function ($) {
    function $mol_view_tree2ts(tree) {
        var content = '';
        var locales = {};
        function error(message, tree) {
            return new Error(message + ":\n" + source(tree) + " " + tree.baseUri + ":" + tree.row + ":" + tree.col);
        }
        function source(root) {
            if (['<=>', '<=', '=>'].indexOf(root.type) !== -1) {
                return root.clone({
                    sub: root.sub.map(function (name) { return name.clone({
                        sub: []
                    }); })
                });
            }
            return root.clone({ sub: root.sub.map(source) });
        }
        tree.sub.forEach(function (def) {
            if (!def.type || /^-$/.test(def.type))
                return;
            if (!/^\$\w+$/.test(def.type))
                throw error('Wrong component name', def);
            var parent = def.sub[0];
            var propDefs = {};
            var members = {};
            parent.sub.forEach(function (param) { return addProp(param); });
            function addProp(param) {
                try {
                    var needSet = false;
                    var needReturn = true;
                    var needCache = false;
                    var keys = [];
                    if (param.type === '<=>') {
                        param = param.sub[0];
                    }
                    if (param.type === '<=') {
                        param = param.sub[0];
                    }
                    var propName = /(.*?)(?:\!(\w+))?(?:\?(\w+))?$/.exec(param.type);
                    if (propName[3]) {
                        needSet = true;
                        needCache = true;
                    }
                    if (!param.type || param.type === '-')
                        return;
                    function getValue(value) {
                        try {
                            switch (true) {
                                case (value.type === ''):
                                    return JSON.stringify(value.value);
                                case (value.type === '@'):
                                    locales[def.type + "_" + param.type] = value.value;
                                    return "$mol_locale.text( this.locale_contexts() , " + JSON.stringify(param.type) + " )";
                                case (value.type === '-'):
                                    return null;
                                case (value.type === '/'):
                                    var items = [];
                                    value.sub.forEach(function (item) {
                                        if (item.type === '-')
                                            return;
                                        var val = getValue(item);
                                        if (val)
                                            items.push(val);
                                    });
                                    return '[]' + (items.length ? '.concat( ' + items.join(' , ') + ' )' : ' as any[]');
                                case (value.type[0] === '$'):
                                    needCache = true;
                                    var overs = [];
                                    value.sub.forEach(function (over) {
                                        if (/^-?$/.test(over.type))
                                            return '';
                                        var overName = /(.*?)(?:\!(\w+))?(?:\?(\w+))?$/.exec(over.type);
                                        var ns = needSet;
                                        if (over.sub[0].type === '=>') {
                                            if (over.sub[0].sub.length === 1) {
                                                var method_name = over.sub[0].sub[0].type;
                                                members[method_name] = "\t" + method_name + "(){\n\t\treturn this." + param.type + "()." + over.type + "()\n\t}\n\n";
                                                return;
                                            }
                                        }
                                        var v = getValue(over.sub[0]);
                                        var args = [];
                                        if (overName[2])
                                            args.push(" " + overName[2] + " : any ");
                                        if (overName[3])
                                            args.push(" " + overName[3] + "? : any ");
                                        overs.push('\t\t\tobj.' + overName[1] + ' = (' + args.join(',') + ') => ' + v + '\n');
                                        needSet = ns;
                                    });
                                    return 'new ' + value.type + '()' + (overs.length ? '.setup( obj => { \n' + overs.join('') + '\t\t} )' : '');
                                case (value.type === '*'):
                                    var opts = [];
                                    value.sub.forEach(function (opt) {
                                        if (/^-?$/.test(opt.type))
                                            return '';
                                        if (opt.type === '^') {
                                            opts.push("\t\t\t...super." + param.type + "() ,\n");
                                            return;
                                        }
                                        var key = /(.*?)(?:\?(\w+))?$/.exec(opt.type);
                                        keys.push(key[1]);
                                        var ns = needSet;
                                        var v = getValue(opt.sub[0]);
                                        var arg = key[2] ? " ( " + key[2] + "? : any )=> " : '';
                                        opts.push('\t\t\t"' + key[1] + '" : ' + arg + ' ' + v + ' ,\n');
                                        needSet = ns;
                                    });
                                    return '({\n' + opts.join('') + '\t\t})';
                                case (value.type === '>'):
                                    throw new Error('Deprecated syntax `>`. Use `<=>` instead.');
                                case (value.type === '<=>'):
                                    needSet = true;
                                    if (value.sub.length === 1) {
                                        addProp(value);
                                        var type = /(.*?)(?:\!(\w+))?(?:\?(\w+))$/.exec(value.sub[0].type);
                                        return 'this.' + type[1] + '(' + (type[2] ? type[2] + ' ,' : '') + ' ' + type[3] + ' )';
                                    }
                                    break;
                                case (value.type === '<'):
                                    throw new Error('Deprecated syntax `<`. Use `<=` instead.');
                                case (value.type === '<='):
                                    if (value.sub.length === 1) {
                                        addProp(value);
                                        var type = /(.*?)(?:\!(\w+))?(?:\?(\w+))?$/.exec(value.sub[0].type);
                                        return 'this.' + type[1] + '(' + (type[2] ? type[2] : '') + ')';
                                    }
                                    break;
                            }
                            switch (value.type) {
                                case 'true':
                                case 'false':
                                    return value.type;
                                case 'null':
                                    return '<any> null';
                            }
                            if (Number(value.type).toString() == value.type)
                                return value.type;
                            throw error('Wrong value', value);
                        }
                        catch (err) {
                            err.message += "\n" + value.baseUri + ":" + value.row + ":" + value.col + "\n" + source(value);
                            throw err;
                        }
                    }
                    if (param.sub.length > 1)
                        throw new Error('Too more sub');
                    if (param.sub.length < 1)
                        throw new Error('Need default value (use "-" for inherit)');
                    param.sub.forEach(function (child) {
                        var val = getValue(child);
                        if (!val)
                            return;
                        if (propDefs[propName[1]]) {
                            if (propDefs[propName[1]].toString() != param.toString()) {
                                throw new Error('Property already defined with another default value');
                            }
                        }
                        else {
                            propDefs[propName[1]] = param;
                        }
                        var args = [];
                        if (propName[2])
                            args.push(" " + propName[2] + " : any ");
                        if (propName[3])
                            args.push(" " + propName[3] + "? : any ");
                        if (needSet && param.sub[0].type !== '<=>')
                            val = (needReturn ? "( " + propName[3] + " !== void 0 ) ? " + propName[3] + " : " : "if( " + propName[3] + " !== void 0 ) return " + propName[3] + "\n\t\t") + val;
                        if (needReturn)
                            val = 'return ' + val;
                        var decl = '\t' + propName[1] + '(' + args.join(',') + ') {\n\t\t' + val + '\n\t}\n\n';
                        if (needCache) {
                            if (propName[2])
                                decl = '\t@ $' + 'mol_mem_key()\n' + decl;
                            else
                                decl = '\t@ $' + 'mol_mem()\n' + decl;
                        }
                        decl = source(param).toString().trim().replace(/^/gm, '\t/// ') + '\n' + decl;
                        members[propName[1]] = decl;
                    });
                    return needSet;
                }
                catch (err) {
                    err.message += "\n" + param.baseUri + ":" + param.row + ":" + param.col + "\n" + source(param);
                    throw err;
                }
            }
            var body = Object.keys(members).map(function (name) {
                return members[name] || '\t' + name + '() { return <any> null }\n\t}\n';
            }).join('');
            var classes = 'namespace $ { export class ' + def.type + ' extends ' + parent.type + ' {\n\n' + body + '} }\n';
            content += classes + '\n';
        });
        return { script: content, locales: locales };
    }
    $.$mol_view_tree2ts = $mol_view_tree2ts;
})($ || ($ = {}));
//tree2ts.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'sorting must cut cycles at low priority edges': function () {
            var graph = new $.$mol_graph();
            graph.link('A', 'B', { priority: 0 });
            graph.link('B', 'C', { priority: -2 });
            graph.link('C', 'D', { priority: 0 });
            graph.link('D', 'A', { priority: -1 });
            $.$mol_assert_equal(graph.sorted(function (edge) { return edge.priority; }).join(''), 'BADC');
        }
    });
})($ || ($ = {}));
//graph.test.js.map
;
var $;
(function ($) {
    var $mol_graph = (function () {
        function $mol_graph() {
            this.nodes = {};
            this.edgesOut = {};
            this.edgesIn = {};
        }
        $mol_graph.prototype.nodeEnsure = function (id) {
            if (this.nodes.hasOwnProperty(id))
                return;
            this.nodes[id] = null;
        };
        $mol_graph.prototype.linkOut = function (from, to, edge) {
            if (!this.edgesOut[from]) {
                this.edgesOut[from] = {};
                this.nodeEnsure(from);
            }
            this.edgesOut[from][to] = edge;
            this.nodeEnsure(to);
        };
        $mol_graph.prototype.linkIn = function (to, from, edge) {
            if (!this.edgesIn[to]) {
                this.edgesIn[to] = {};
                this.nodeEnsure(to);
            }
            this.edgesIn[to][from] = edge;
            this.nodeEnsure(from);
        };
        $mol_graph.prototype.edgeOut = function (from, to) {
            return this.edgesOut[from] && this.edgesOut[from][to];
        };
        $mol_graph.prototype.edgeIn = function (to, from) {
            return this.edgesIn[to] && this.edgesIn[to][from];
        };
        $mol_graph.prototype.link = function (one, two, edge) {
            this.linkOut(one, two, edge);
            this.linkIn(two, one, edge);
        };
        $mol_graph.prototype.sorted = function (getWeight) {
            var _this = this;
            var pending = Object.keys(this.nodes);
            var visited = [];
            var weights = [];
            var sorted = [];
            var visit = function (id, weight) {
                var index = visited.lastIndexOf(id);
                if (index >= 0) {
                    if (index === visited.length - 1)
                        return false;
                    if (weight <= weights[index + 1])
                        return false;
                }
                if (weight != null) {
                    visited.push(id);
                    weights.push(weight);
                }
                var deps = _this.edgesOut[id];
                for (var dep in deps) {
                    if (dep === id)
                        continue;
                    visit(dep, getWeight(deps[dep]));
                }
                if (sorted.indexOf(id) !== -1)
                    return false;
                sorted.push(id);
                return true;
            };
            pending.forEach(function (id) { return visit(id, null); });
            return sorted;
        };
        return $mol_graph;
    }());
    $.$mol_graph = $mol_graph;
})($ || ($ = {}));
//graph.js.map
;
var $;
(function ($) {
    function $mol_exec(dir, command) {
        var args = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            args[_i - 2] = arguments[_i];
        }
        console.log(dir + "> " + command + " " + args.join(' '));
        var res = $node.child_process.spawnSync(command, args, { cwd: dir, stdio: ['pipe', process.stdout, 'pipe'] });
        if (res.status)
            throw new Error(res.stderr.toString());
        return res;
    }
    $.$mol_exec = $mol_exec;
})($ || ($ = {}));
//exec.node.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_build = (function (_super) {
        __extends($mol_build, _super);
        function $mol_build() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_build.root = function (path) {
            return new this().setup(function (obj) {
                obj.root = function () { return $.$mol_file.absolute(path); };
            });
        };
        $mol_build.relative = function (path) {
            return $mol_build.root($.$mol_file.relative(path).path());
        };
        $mol_build.prototype.server = function () {
            var _this = this;
            return new $.$mol_build_server().setup(function (obj) {
                obj.build = $.$mol_const(_this);
            });
        };
        $mol_build.prototype.root = function () {
            return $.$mol_file.relative('.');
        };
        $mol_build.prototype.mods = function (_a) {
            var path = _a.path, exclude = _a.exclude;
            var mods = [];
            $.$mol_file.absolute(path).sub()
                .forEach(function (child) {
                var name = child.name();
                if (!/^[a-z]/i.test(name))
                    return false;
                if (exclude && RegExp('[.=](' + exclude.join('|') + ')[.]', 'i').test(name))
                    return false;
                if (/(view\.tree)$/.test(name)) {
                    var script = child.parent().resolve("-view.tree/" + child.name() + ".ts");
                    var locale = child.parent().resolve("-view.tree/" + child.name() + ".locale.json");
                    var tree = $.$mol_tree.fromString(String(child.content()), child.path());
                    var res = $.$mol_view_tree2ts(tree);
                    script.content(res.script);
                    locale.content(JSON.stringify(res.locales, null, '\t'));
                    mods.push(script, locale);
                }
                else {
                    mods.push(child);
                }
                return true;
            });
            return mods;
        };
        $mol_build.prototype.modsRecursive = function (_a) {
            var path = _a.path, exclude = _a.exclude;
            var mod = $.$mol_file.absolute(path);
            switch (mod.type()) {
                case 'file':
                    return [mod];
                case 'dir':
                    var mods = [mod];
                    for (var _i = 0, _b = this.mods({ path: path, exclude: exclude }); _i < _b.length; _i++) {
                        var m = _b[_i];
                        if (m.type() !== 'dir')
                            continue;
                        for (var _c = 0, _d = this.modsRecursive({ path: m.path(), exclude: exclude }); _c < _d.length; _c++) {
                            var dep = _d[_c];
                            if (mods.indexOf(dep) !== -1)
                                continue;
                            mods.push(dep);
                        }
                    }
                    return mods;
                case null:
                    throw new Error("Module not found: \"" + mod.relate() + "\"");
            }
            throw new Error("Unsopported type \"" + mod.type() + "\" of \"" + mod.relate() + "\"");
        };
        $mol_build.prototype.sources = function (_a) {
            var path = _a.path, exclude = _a.exclude;
            var mod = $.$mol_file.absolute(path);
            switch (mod.type()) {
                case 'file':
                    return [mod];
                case 'dir':
                    return this.mods({ path: path, exclude: exclude }).filter(function (mod) { return mod.type() === 'file'; });
                default:
                    return [];
            }
        };
        $mol_build.prototype.sourcesSorted = function (_a) {
            var _this = this;
            var path = _a.path, exclude = _a.exclude;
            var mod = $.$mol_file.absolute(path);
            var graph = new $.$mol_graph();
            var sources = this.sources({ path: path, exclude: exclude });
            for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {
                var src = sources_1[_i];
                graph.nodeEnsure(src.relate(this.root()));
            }
            for (var _b = 0, sources_2 = sources; _b < sources_2.length; _b++) {
                var src = sources_2[_b];
                var deps = this.srcDeps(src.path());
                for (var p in deps) {
                    var names;
                    if (p[0] === '/')
                        names = p.substring(1).split('/');
                    else
                        names = mod.resolve(p).relate(this.root()).split('/');
                    var files = [this.root()];
                    for (var _c = 0, names_1 = names; _c < names_1.length; _c++) {
                        var name_1 = names_1[_c];
                        var nextFiles = [];
                        for (var _d = 0, files_1 = files; _d < files_1.length; _d++) {
                            var file = files_1[_d];
                            var validName = new RegExp("^(" + file.name() + ")?" + name_1 + "(?![a-z0-9])", 'i');
                            for (var _e = 0, _f = this.mods({ path: file.path(), exclude: exclude }); _e < _f.length; _e++) {
                                var child = _f[_e];
                                if (!child.name().match(validName))
                                    continue;
                                nextFiles.push(child);
                            }
                        }
                        if (nextFiles.length === 0)
                            break;
                        files = nextFiles;
                    }
                    for (var _g = 0, files_2 = files; _g < files_2.length; _g++) {
                        var file = files_2[_g];
                        if (file === this.root())
                            continue;
                        if (file.relate(this.root()) in graph.nodes) {
                            graph.link(src.relate(this.root()), file.relate(this.root()), { priority: deps[p] });
                        }
                    }
                }
            }
            var next = graph.sorted(function (edge) { return edge.priority; }).map(function (name) { return _this.root().resolve(name); });
            return next;
        };
        $mol_build.prototype.sourcesAll = function (_a) {
            var _this = this;
            var path = _a.path, exclude = _a.exclude;
            var sortedPaths = this.graph({ path: path, exclude: exclude }).sorted(function (edge) { return edge.priority; });
            var sources = [];
            sortedPaths.forEach(function (path) {
                _this.sourcesSorted({ path: _this.root().resolve(path).path(), exclude: exclude }).forEach(function (src) {
                    if (sources.indexOf(src) === -1)
                        sources.push(src);
                });
            });
            return sources;
        };
        $mol_build.prototype.tsOptions = function () {
            var rawOptions = JSON.parse(this.root().resolve('tsconfig.json').content()).compilerOptions;
            var res = $node.typescript.convertCompilerOptionsFromJson(rawOptions, ".", 'tsconfig.json');
            if (res.errors.length)
                throw res.errors;
            return res.options;
        };
        $mol_build.prototype.tsHost = function () {
            var _this = this;
            var host = {
                getScriptVersion: function (path) { return $.$mol_file.absolute(path).version(); },
                getScriptSnapshot: function (path) { return $.$mol_file.absolute(path).content().toString(); },
                getCurrentDirectory: function () { return _this.root().path(); },
                getCompilationSettings: function () { return _this.tsOptions(); },
                useCaseSensitiveFileNames: function () { return false; },
                getCanonicalFileName: function (path) { return path.toLowerCase(); },
                getDefaultLibFileName: function (options) { return $node.typescript.getDefaultLibFilePath(options); },
                getCommonSourceDirectory: function () { return _this.root().path(); },
                getNewLine: function () { return '\n'; },
                getSourceFile: function (path, target, fail) {
                    var content = $.$mol_file.absolute(path).content().toString();
                    return $node.typescript.createSourceFile(path, content, target);
                },
                fileExists: function (path) {
                    return $.$mol_file.absolute(path).exists();
                },
                writeFile: function (path, content) {
                    $.$mol_file.absolute(path).content(content, $.$mol_atom_force);
                },
            };
            return host;
        };
        $mol_build.prototype.sourcesJS = function (_a) {
            var path = _a.path, exclude = _a.exclude;
            var sources = this.sourcesAll({ path: path, exclude: exclude })
                .filter(function (src) { return /(js|tsx?)$/.test(src.ext()); });
            if (!sources.length)
                return [];
            var sourcesTS = [];
            sources = sources.map(function (src) {
                if (!/tsx?$/.test(src.ext()))
                    return src;
                sourcesTS.push(src);
                return src.parent().resolve(src.name().replace(/\.tsx?$/, '.js'));
            });
            if (sourcesTS.length) {
                var host = this.tsHost();
                var options = host.getCompilationSettings();
                var program = $node.typescript.createProgram(sourcesTS.map(function (src) { return src.path(); }), options, host);
                var result = program.emit();
                var errors = $node.typescript.getPreEmitDiagnostics(program).concat(result.diagnostics);
                var logs = errors.map(function (error) {
                    var message = $node.typescript.flattenDiagnosticMessageText(error.messageText, '\n');
                    if (!error.file)
                        return message;
                    var pos = error.file.getLineAndCharacterOfPosition(error.start);
                    return error.file.fileName + ':' + (pos.line + 1) + ':' + pos.character + '\n ' + message;
                });
                if (logs.length)
                    throw new Error('\n' + logs.join('\n'));
            }
            return sources;
        };
        $mol_build.prototype.sourcesDTS = function (_a) {
            var path = _a.path, exclude = _a.exclude;
            var sources = this.sourcesAll({ path: path, exclude: exclude });
            sources = sources.filter(function (src) { return /(tsx?)$/.test(src.ext()); });
            sources = sources.map(function (src) { return src.parent().resolve(src.name().replace(/(\.d)?\.tsx?$/, '.d.ts')); });
            return sources;
        };
        $mol_build.prototype.sourcesCSS = function (_a) {
            var path = _a.path, exclude = _a.exclude;
            return this.sourcesAll({ path: path, exclude: exclude }).filter(function (src) { return /(css)$/.test(src.ext()); });
        };
        $mol_build.prototype.srcDeps = function (path) {
            var src = $.$mol_file.absolute(path);
            var ext = src.ext();
            if (!ext)
                return {};
            var dependencies = null;
            while (!dependencies) {
                dependencies = this.Class().dependors[ext];
                if (dependencies)
                    break;
                var extShort = ext.replace(/^[^.]*\./, '');
                if (ext === extShort)
                    break;
                ext = extShort;
            }
            return dependencies ? dependencies(src) : {};
        };
        $mol_build.prototype.modDeps = function (_a) {
            var path = _a.path, exclude = _a.exclude;
            var mod = $.$mol_file.absolute(path);
            var depends = { '..': 0 };
            for (var _i = 0, _b = this.sources({ path: path, exclude: exclude }); _i < _b.length; _i++) {
                var src = _b[_i];
                $mol_build_depsMerge(depends, this.srcDeps(src.path()));
            }
            return depends;
        };
        $mol_build.prototype.dependencies = function (_a) {
            var path = _a.path, exclude = _a.exclude;
            var mod = $.$mol_file.absolute(path);
            switch (mod.type()) {
                case 'file':
                    return this.srcDeps(path);
                case 'dir':
                    return this.modDeps({ path: path, exclude: exclude });
            }
        };
        $mol_build.prototype.packEnsure = function (name) {
            var mapping = this.packMapping();
            var pack = this.root().resolve(name);
            if (pack.exists()) {
                if (pack.resolve('.git').exists()) {
                    try {
                        $.$mol_exec(pack.path(), 'git', '--no-pager', 'log', '--oneline', 'HEAD..origin/master');
                    }
                    catch (error) {
                        console.error(error.message);
                    }
                }
                return false;
            }
            for (var _i = 0, _a = mapping.select('pack', name, 'git').sub; _i < _a.length; _i++) {
                var repo = _a[_i];
                $.$mol_exec(this.root().path(), 'git', 'clone', repo.value, name);
                pack.stat(void null, $.$mol_atom_force);
                return true;
            }
            throw new Error("Package \"" + name + "\" not found");
        };
        $mol_build.prototype.modEnsure = function (path) {
            var file = $.$mol_file.absolute(path);
            var sub = file.relate(this.root());
            var name = sub.replace(/\/.*$/, '');
            return this.packEnsure(name);
        };
        $mol_build.prototype.packMapping = function () {
            return $.$mol_tree.fromString($.$mol_file.relative('.pms.tree').content());
        };
        $mol_build.prototype.graph = function (_a) {
            var _this = this;
            var path = _a.path, exclude = _a.exclude;
            var graph = new $.$mol_graph();
            var added = {};
            var addMod = function (mod) {
                if (added[mod.path()])
                    return;
                added[mod.path()] = true;
                graph.nodes[mod.relate(_this.root())] = null;
                var checkDep = function (p) {
                    var dep = (p[0] === '/') ? _this.root().resolve(p) : mod.resolve(p);
                    _this.modEnsure(dep.path());
                    while (!dep.exists())
                        dep = dep.parent();
                    if (dep.type() === 'dir') {
                        var index = dep.resolve('index.js');
                        if (index.exists())
                            dep = index;
                    }
                    if (mod === dep)
                        return;
                    if (dep === _this.root())
                        return;
                    graph.link(mod.relate(_this.root()), dep.relate(_this.root()), { priority: deps[p] });
                    addMod(dep);
                };
                var deps = _this.dependencies({ path: mod.path(), exclude: exclude });
                for (var p in deps) {
                    checkDep(p);
                    var p2 = p.replace(/^\/node\//, '/node_modules/');
                    if (p2 !== p)
                        checkDep(p2);
                }
            };
            this.modEnsure(path);
            this.modsRecursive({ path: path, exclude: exclude }).forEach(function (mod) { return addMod(mod); });
            return graph;
        };
        $mol_build.prototype.bundle = function (_a) {
            var _this = this;
            var path = _a.path, bundle = _a.bundle;
            bundle = bundle && bundle.replace(/\.map$/, '');
            var envsDef = ['web', 'node'];
            var envs = envsDef.slice();
            var stages = ['test', 'dev'];
            if (bundle) {
                var _b = /^(.*?)(?:\.(test\.js|js|css|deps\.json|locale(?:=(.*))?\.json))?$/.exec(bundle), bundle = _b[0], tags = _b[1], type = _b[2], locale = _b[3];
                tags.split('.').forEach(function (tag) {
                    if (envs.indexOf(tag) !== -1)
                        envs = [tag];
                });
            }
            var res = [];
            envs.forEach(function (env) {
                var exclude = envsDef.filter(function (e) { return e !== env; }).concat(stages);
                if (!type || type === 'deps.json') {
                    res = res.concat(_this.bundleDepsJSON({ path: path, exclude: exclude, bundle: env }));
                }
                if (!type || type === 'css') {
                    res = res.concat(_this.bundleCSS({ path: path, exclude: exclude, bundle: env }));
                }
                if (!type || type === 'js') {
                    res = res.concat(_this.bundleJS({ path: path, exclude: exclude, bundle: env }));
                }
                if (!type || type === 'test.js') {
                    res = res.concat(_this.bundleTestJS({ path: path, exclude: exclude, bundle: env }));
                }
                if (!type || type === 'd.ts') {
                    res = res.concat(_this.bundleDTS({ path: path, exclude: exclude, bundle: env }));
                }
                if (!type || /^locale(?:=\w+)?.json$/.test(type)) {
                    res = res.concat(_this.bundleLocale({
                        path: path,
                        exclude: exclude,
                        bundle: env
                    }));
                }
                if (env === 'node' && (!bundle || bundle === 'package.json')) {
                    res = res.concat(_this.bundlePackageJSON({ path: path, exclude: exclude }));
                }
            });
            return res.map(function (r) { return r.valueOf(); });
        };
        $mol_build.prototype.logBundle = function (target) {
            var time = new Date().toLocaleTimeString();
            var path = target.relate(this.root());
            console.log(time + " Built " + path);
        };
        $mol_build.prototype.bundleJS = function (_a) {
            var _this = this;
            var path = _a.path, exclude = _a.exclude, bundle = _a.bundle;
            var pack = $.$mol_file.absolute(path);
            var target = pack.resolve("-/" + bundle + ".js");
            var targetMap = pack.resolve("-/" + bundle + ".js.map");
            var sources = this.sourcesJS({ path: path, exclude: exclude });
            if (sources.length === 0)
                return [];
            var concater = new $node['concat-with-sourcemaps'](true, target.name(), '\n;\n');
            if (bundle === 'node') {
                concater.add('', 'require( "source-map-support" ).install(); var exports = void 0;\n');
            }
            sources.forEach(function (src) {
                if (bundle === 'node') {
                    if (/node_modules\//.test(src.relate(_this.root()))) {
                        return;
                    }
                }
                var content = src.content().toString().replace(/^\/\/#\ssourceMappingURL=/mg, '//');
                var srcMap = src.parent().resolve(src.name() + '.map').content();
                if (srcMap) {
                    var map = JSON.parse(srcMap);
                    map.sourceRoot = src.parent().relate(target.parent());
                }
                var isCommonJs = /module\.exports/.test(content);
                if (isCommonJs) {
                    concater.add('-', '\nvoid function( module ) { var exports = module' + '.exports; function require( id ) { return $node[ id ] }; \n');
                }
                concater.add(src.relate(target.parent()), content, map && JSON.stringify(map));
                if (isCommonJs) {
                    var idFull = src.relate(_this.root().resolve('node_modules'));
                    var idShort = idFull.replace(/\/index\.js$/, '');
                    concater.add('-', "\n$node[ \"" + idShort + "\" ] = $node[ \"" + idFull + "\" ] = module." + '' + "exports }( { exports : {} } )\n");
                }
            });
            target.content(concater.content + '\n//# sourceMappingURL=' + targetMap.relate(target.parent()));
            targetMap.content(concater.sourceMap);
            this.logBundle(target);
            return [target, targetMap];
        };
        $mol_build.prototype.bundleTestJS = function (_a) {
            var path = _a.path, exclude = _a.exclude, bundle = _a.bundle;
            var pack = $.$mol_file.absolute(path);
            var root = this.root();
            var target = pack.resolve("-/" + bundle + ".test.js");
            var targetMap = pack.resolve("-/" + bundle + ".test.js.map");
            var concater = new $node['concat-with-sourcemaps'](true, target.name(), '\n;\n');
            var sources = this.sourcesJS({ path: path, exclude: exclude.filter(function (ex) { return ex !== 'test' && ex !== 'dev'; }) });
            if (bundle === 'node') {
                concater.add('', 'require( "source-map-support" ).install()\n');
            }
            else {
                var sourcesNoTest = this.sourcesJS({ path: path, exclude: exclude });
                sources = sources.filter(function (src) { return sourcesNoTest.indexOf(src) === -1; });
            }
            if (sources.length === 0)
                return [];
            sources.forEach(function (src) {
                if (bundle === 'node') {
                    if (/node_modules\//.test(src.relate(root))) {
                        return;
                    }
                }
                var content = src.content().toString().replace(/^\/\/#\ssourceMappingURL=/mg, '//');
                var srcMap = src.parent().resolve(src.name() + '.map').content();
                if (srcMap) {
                    var map = JSON.parse(srcMap);
                    map.sourceRoot = src.parent().relate(target.parent());
                }
                concater.add(src.relate(target.parent()), content, map && JSON.stringify(map));
            });
            target.content(concater.content + '\n//# sourceMappingURL=' + targetMap.relate(target.parent()));
            targetMap.content(concater.sourceMap);
            this.logBundle(target);
            return [target, targetMap];
        };
        $mol_build.prototype.bundleDTS = function (_a) {
            var path = _a.path, exclude = _a.exclude, bundle = _a.bundle;
            var pack = $.$mol_file.absolute(path);
            var target = pack.resolve("-/" + bundle + ".d.ts");
            var sources = this.sourcesDTS({ path: path, exclude: exclude });
            if (sources.length === 0)
                return [];
            var concater = new $node['concat-with-sourcemaps'](true, target.name());
            sources.forEach(function (src) {
                var content = src.content().toString();
                concater.add(src.relate(target.parent()), content);
            });
            target.content(concater.content);
            this.logBundle(target);
            return [target];
        };
        $mol_build.prototype.bundlePackageJSON = function (_a) {
            var path = _a.path, exclude = _a.exclude;
            var pack = $.$mol_file.absolute(path);
            var target = pack.resolve("-/package.json");
            var targetMap = pack.resolve("-/package.json");
            var sources = this.sourcesAll({ path: path, exclude: exclude.filter(function (ex) { return ex !== 'test' && ex !== 'dev'; }) });
            var json = {
                name: pack.relate(this.root()).replace(/\//g, '_'),
                version: '0.0.0',
                main: 'node.js',
                dependencies: {}
            };
            for (var _i = 0, sources_3 = sources; _i < sources_3.length; _i++) {
                var src = sources_3[_i];
                var deps = this.srcDeps(src.path());
                for (var dep in deps) {
                    if (!/^\/node\//.test(dep))
                        continue;
                    var mod = dep.replace(/^\/node\//, '').replace(/\/.*/g, '');
                    json.dependencies[mod] = '*';
                }
            }
            target.content(JSON.stringify(json, null, '  '));
            this.logBundle(target);
            return [target];
        };
        $mol_build.prototype.bundleCSS = function (_a) {
            var path = _a.path, exclude = _a.exclude, bundle = _a.bundle;
            if (bundle === 'node')
                return [];
            var pack = $.$mol_file.absolute(path);
            var sources = this.sourcesCSS({ path: path, exclude: exclude });
            if (!sources.length)
                return [];
            var target = pack.resolve("-/" + bundle + ".css");
            var targetMap = pack.resolve("-/" + bundle + ".css.map");
            var root = null;
            sources.forEach(function (src) {
                var root2 = $node.postcss.parse(src.content(), { from: src.path() });
                root = root ? root.append(root2) : root2;
            });
            var cssnext = $node['postcss-cssnext'];
            var processor = $node.postcss(cssnext(null, {
                features: {
                    customProperties: {
                        preserve: true
                    }
                }
            }).plugins);
            var result = processor.process(root, { to: target.relate(), map: { inline: false } });
            target.content(result.css);
            targetMap.content(JSON.stringify(result.map, null, '\t'));
            this.logBundle(target);
            return [target, targetMap];
        };
        $mol_build.prototype.bundleLocale = function (_a) {
            var _this = this;
            var path = _a.path, exclude = _a.exclude, bundle = _a.bundle;
            var pack = $.$mol_file.absolute(path);
            var sources = this.sourcesAll({ path: path, exclude: exclude }).filter(function (src) { return /(locale(?:=\w+)?\.json)$/.test(src.name()); });
            if (!sources.length)
                return [];
            var locales = { 'en': {} };
            sources.forEach(function (src) {
                var _a = /locale(?:=(\w+))?\.json$/.exec(src.name()), ext = _a[0], _b = _a[1], lang = _b === void 0 ? '' : _b;
                if (!locales[lang])
                    locales[lang] = {};
                var loc = JSON.parse(src.content());
                for (var key in loc) {
                    locales[lang][key] = loc[key];
                }
            });
            var targets = Object.keys(locales).map(function (lang) {
                var ext = lang ? "locale=" + lang + ".json" : "locale.json";
                var target = pack.resolve("-/" + bundle + "." + ext);
                var locale = locales[lang];
                if (locales['']) {
                    for (var key in locales['']) {
                        if (locale[key])
                            continue;
                        locale[key] = locales[''][key];
                    }
                }
                target.content(JSON.stringify(locales[lang], null, '\t'));
                _this.logBundle(target);
                return target;
            });
            return targets;
        };
        $mol_build.prototype.bundleDepsJSON = function (_a) {
            var _this = this;
            var path = _a.path, exclude = _a.exclude, bundle = _a.bundle;
            var pack = $.$mol_file.absolute(path);
            var list = this.sourcesAll({ path: path, exclude: exclude });
            if (!list.length)
                return [];
            var graph = this.graph({ path: path, exclude: exclude });
            var deps = {};
            for (var dep in graph.nodes) {
                deps[dep] = this.dependencies({ path: this.root().resolve(dep).path(), exclude: exclude });
            }
            var data = {
                files: list.map(function (src) { return src.relate(_this.root()); }),
                edgesIn: graph.edgesIn,
                edgesOut: graph.edgesOut,
                deps: deps
            };
            var target = pack.resolve("-/" + bundle + ".deps.json");
            target.content(JSON.stringify(data));
            this.logBundle(target);
            return [target];
        };
        return $mol_build;
    }($.$mol_object));
    $mol_build.dependors = {};
    __decorate([
        $.$mol_mem()
    ], $mol_build.prototype, "server", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "mods", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "modsRecursive", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "sources", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "sourcesSorted", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "sourcesAll", null);
    __decorate([
        $.$mol_mem()
    ], $mol_build.prototype, "tsOptions", null);
    __decorate([
        $.$mol_mem()
    ], $mol_build.prototype, "tsHost", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "sourcesJS", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "sourcesDTS", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "sourcesCSS", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "srcDeps", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "modDeps", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "dependencies", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "packEnsure", null);
    __decorate([
        $.$mol_mem()
    ], $mol_build.prototype, "packMapping", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "graph", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "bundle", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "bundleJS", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "bundleTestJS", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "bundleDTS", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "bundlePackageJSON", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "bundleCSS", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "bundleLocale", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build.prototype, "bundleDepsJSON", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_build, "root", null);
    $.$mol_build = $mol_build;
    function $mol_build_depsMerge(target, source) {
        for (var path in source) {
            if (target[path] >= source[path])
                continue;
            target[path] = source[path];
        }
        return target;
    }
    $mol_build.dependors['ts'] = $mol_build.dependors['tsx'] = $mol_build.dependors['jam.js'] = function (source) {
        var depends = {};
        if (/[jt]sx$/.test(source.ext())) {
            depends['/mol/dom/jsx'] = 0;
        }
        var lines = String(source.content())
            .replace(/\/\*[^]*?\*\//g, '')
            .replace(/\/\/.*$/gm, '')
            .split('\n');
        lines.forEach(function (line) {
            var indent = /^([\s\t]*)/.exec(line);
            var priority = -indent[0].replace(/\t/g, '    ').length / 4;
            line.replace(/\$([a-z][a-z0-9]+(?:[._][a-z0-9]+|\[\s*['"](?:.*?)['"]\s*\])*)/ig, function (str, name) {
                $mol_build_depsMerge(depends, (_a = {}, _a['/' + name.replace(/[_.\[\]'"]+/g, '/')] = priority, _a));
                return str;
                var _a;
            });
            line.replace(/require\(\s*['"](.*?)['"]\s*\)/ig, function (str, path) {
                $mol_build_depsMerge(depends, (_a = {}, _a[path] = priority, _a));
                return str;
                var _a;
            });
        });
        return depends;
    };
    $mol_build.dependors['view.ts'] = function (source) {
        var treeName = source.name().replace(/ts$/, 'tree');
        var depends = (_a = {}, _a[treeName] = 0, _a);
        $mol_build_depsMerge(depends, $mol_build.dependors['ts'](source));
        return depends;
        var _a;
    };
    $mol_build.dependors['css'] = $mol_build.dependors['view.css'] = function (source) {
        var depends = {};
        var lines = String(source.content())
            .replace(/\/\*[^]*?\*\//g, '')
            .replace(/\/\/.*$/gm, '')
            .split('\n');
        lines.forEach(function (line) {
            var indent = /^([\s\t]*)/.exec(line);
            var priority = -indent[0].replace(/\t/g, '    ').length / 4;
            line.replace(/(?:--|[\[\.#])([a-z][a-z0-9]+(?:[-_][a-z0-9]+)+)/ig, function (str, name) {
                $mol_build_depsMerge(depends, (_a = {}, _a['/' + name.replace(/[._-]/g, '/')] = priority, _a));
                return str;
                var _a;
            });
        });
        return depends;
    };
    $mol_build.dependors['meta.tree'] = function (source) {
        var depends = {};
        var tree = $.$mol_tree.fromString(source.content());
        tree.select('require').sub.forEach(function (leaf) {
            depends[leaf.value] = 0;
        });
        tree.select('include').sub.forEach(function (leaf) {
            depends[leaf.toString()] = Number.NEGATIVE_INFINITY;
        });
        console.log(source.path(), depends);
        return depends;
    };
})($ || ($ = {}));
//build.node.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_server = (function (_super) {
        __extends($mol_server, _super);
        function $mol_server() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_server.prototype.express = function () {
            var _this = this;
            var express = $node.express();
            this.expressHandlers().forEach(function (plugin) { return express.use(plugin); });
            $node.portastic.find({
                min: this.port(),
                max: this.port() + 1000,
                retrieve: 1
            }).then(function (ports) {
                express.listen(ports[0]);
                console.log(_this.messageStart(ports[0]));
            });
            return express;
        };
        $mol_server.prototype.messageStart = function (port) {
            return this + " started at http://127.0.0.1:" + port + "/";
        };
        $mol_server.prototype.expressHandlers = function () {
            return [].concat.apply([], [
                this.expressCompressor(),
                this.expressBodier(),
                this.expressGenerator(),
                this.expressFiler(),
                this.expressDirector(),
            ]);
        };
        $mol_server.prototype.expressCompressor = function () {
            return $node.compression();
        };
        $mol_server.prototype.expressBodier = function () {
            return $node['body-parser'].json({
                limit: this.bodyLimit()
            });
        };
        $mol_server.prototype.expressFiler = function () {
            return $node.express.static($node.path.resolve(this.rootPublic()), {
                maxAge: this.cacheTime()
            });
        };
        $mol_server.prototype.expressDirector = function () {
            return $node['serve-index'](this.rootPublic(), { icons: true });
        };
        $mol_server.prototype.expressGenerator = function () {
            return function (req, res, next) { return next(); };
        };
        $mol_server.prototype.bodyLimit = function () {
            return '1mb';
        };
        $mol_server.prototype.cacheTime = function () {
            return 1000 * 60 * 60 * 24 * 365 * 1000;
        };
        $mol_server.prototype.port = function () {
            return 80;
        };
        $mol_server.prototype.rootPublic = function () {
            return '.';
        };
        return $mol_server;
    }($.$mol_object));
    __decorate([
        $.$mol_mem()
    ], $mol_server.prototype, "express", null);
    $.$mol_server = $mol_server;
})($ || ($ = {}));
//server.node.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_build_server = (function (_super) {
        __extends($mol_build_server, _super);
        function $mol_build_server() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_build_server.prototype.expressGenerator = function () {
            var _this = this;
            return function (req, res, next) {
                try {
                    return _this.generator(req.url).valueOf() && next();
                }
                catch (error) {
                    if (req.url.match(/\.js$/)) {
                        res.send("console.error( " + JSON.stringify(error.message) + " )").end();
                    }
                    else if (req.url.match(/\.css$/)) {
                        var message = JSON.stringify(error.message.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g, ''))
                            .replace(/\\n/g, '\\a')
                            .replace(/\\t/g, '\\9');
                        res.setHeader('content-type', 'text/css');
                        res.send("body:before{ display: block; font: 1em monospace; white-space: pre-wrap; color: red; content : " + message + " }").end();
                    }
                    else {
                        throw error;
                    }
                }
            };
        };
        $mol_build_server.prototype.build = function () {
            return null;
        };
        $mol_build_server.prototype.generator = function (path) {
            var matched = path.match(/^((?:\/\w+)+)\/-\/(\w+(?:.\w+)+)$/);
            if (!matched)
                return [];
            var build = this.build();
            var path = matched[0], path = matched[1], bundle = matched[2];
            path = build.root().resolve(path).path();
            return build.bundle({ path: path, bundle: bundle });
        };
        $mol_build_server.prototype.port = function () {
            return 8080;
        };
        return $mol_build_server;
    }($.$mol_server));
    __decorate([
        $.$mol_mem_key({
            lazy: true
        })
    ], $mol_build_server.prototype, "generator", null);
    $.$mol_build_server = $mol_build_server;
})($ || ($ = {}));
//server.node.js.map
;
var $;
(function ($) {
    function $mol_build_start(paths) {
        var build = $.$mol_build.relative('.');
        if (paths.length > 0) {
            process.argv.slice(2).forEach(function (path) {
                path = build.root().resolve(path).path();
                build.bundle({ path: path }).valueOf();
            });
        }
        else {
            build.server().express();
        }
    }
    $.$mol_build_start = $mol_build_start;
    setImmediate(function () {
        $mol_build_start(process.argv.slice(2));
    });
})($ || ($ = {}));
//start.node.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_button_demo = (function (_super) {
        __extends($mol_button_demo, _super);
        function $mol_button_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_button_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_button_demo.prototype.major_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "major_label");
        };
        $mol_button_demo.prototype.Major_enabled = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.major_label()); };
            });
        };
        $mol_button_demo.prototype.Major_disabled = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.major_label()); };
                obj.enabled = function () { return false; };
            });
        };
        $mol_button_demo.prototype.minor_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "minor_label");
        };
        $mol_button_demo.prototype.Minor_enabled = function () {
            var _this = this;
            return new $.$mol_button_minor().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.minor_label()); };
            });
        };
        $mol_button_demo.prototype.Minor_disabled = function () {
            var _this = this;
            return new $.$mol_button_minor().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.minor_label()); };
                obj.enabled = function () { return false; };
            });
        };
        $mol_button_demo.prototype.danger_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "danger_label");
        };
        $mol_button_demo.prototype.Danger_enabled = function () {
            var _this = this;
            return new $.$mol_button_danger().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.danger_label()); };
            });
        };
        $mol_button_demo.prototype.Danger_disabled = function () {
            var _this = this;
            return new $.$mol_button_danger().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.danger_label()); };
                obj.enabled = function () { return false; };
            });
        };
        $mol_button_demo.prototype.sub = function () {
            return [].concat(this.Major_enabled(), this.Major_disabled(), this.Minor_enabled(), this.Minor_disabled(), this.Danger_enabled(), this.Danger_disabled());
        };
        return $mol_button_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_button_demo.prototype, "Major_enabled", null);
    __decorate([
        $.$mol_mem()
    ], $mol_button_demo.prototype, "Major_disabled", null);
    __decorate([
        $.$mol_mem()
    ], $mol_button_demo.prototype, "Minor_enabled", null);
    __decorate([
        $.$mol_mem()
    ], $mol_button_demo.prototype, "Minor_disabled", null);
    __decorate([
        $.$mol_mem()
    ], $mol_button_demo.prototype, "Danger_enabled", null);
    __decorate([
        $.$mol_mem()
    ], $mol_button_demo.prototype, "Danger_disabled", null);
    $.$mol_button_demo = $mol_button_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_card_demo = (function (_super) {
        __extends($mol_card_demo, _super);
        function $mol_card_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_card_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_card_demo.prototype.Simple = function () {
            return new $.$mol_card().setup(function (obj) {
                obj.Content = function () { return new $.$mol_row().setup(function (obj) {
                    obj.sub = function () { return [].concat("Hello world!"); };
                }); };
            });
        };
        $mol_card_demo.prototype.Pending = function () {
            return new $.$mol_card().setup(function (obj) {
                obj.Content = function () { return new $.$mol_row().setup(function (obj) {
                    obj.sub = function () { return [].concat("Hello pending!"); };
                }); };
                obj.status = function () { return "pending"; };
            });
        };
        $mol_card_demo.prototype.sub = function () {
            return [].concat(this.Simple(), this.Pending());
        };
        return $mol_card_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_card_demo.prototype, "Simple", null);
    __decorate([
        $.$mol_mem()
    ], $mol_card_demo.prototype, "Pending", null);
    $.$mol_card_demo = $mol_card_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_plot_fill = (function (_super) {
        __extends($mol_plot_fill, _super);
        function $mol_plot_fill() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_fill.prototype.front = function () {
            return [];
        };
        $mol_plot_fill.prototype.curve = function () {
            return "";
        };
        $mol_plot_fill.prototype.Curve = function () {
            var _this = this;
            return new $.$mol_svg_path().setup(function (obj) {
                obj.geometry = function () { return _this.curve(); };
            });
        };
        $mol_plot_fill.prototype.sub = function () {
            return [].concat(this.Curve());
        };
        $mol_plot_fill.prototype.Sample = function () {
            var _this = this;
            return new $.$mol_plot_graph_sample().setup(function (obj) {
                obj.color = function () { return _this.color(); };
            });
        };
        return $mol_plot_fill;
    }($.$mol_plot_graph));
    __decorate([
        $.$mol_mem()
    ], $mol_plot_fill.prototype, "Curve", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_fill.prototype, "Sample", null);
    $.$mol_plot_fill = $mol_plot_fill;
})($ || ($ = {}));
//fill.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_fill = (function (_super) {
            __extends($mol_plot_fill, _super);
            function $mol_plot_fill() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_fill.prototype.curve = function () {
                var shift = this.shift();
                var points = this.points();
                if (points.length < 1)
                    return '';
                var main = points.map(function (point) { return 'L ' + point.join(' '); }).join(' ');
                return "M " + points[0].join(' ') + " " + main + " V " + shift[1] + " H " + points[0][0];
            };
            $mol_plot_fill.prototype.back = function () {
                return [this];
            };
            return $mol_plot_fill;
        }($.$mol_plot_fill));
        $mol.$mol_plot_fill = $mol_plot_fill;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//fill.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_chart_demo_simple = (function (_super) {
        __extends($mol_chart_demo_simple, _super);
        function $mol_chart_demo_simple() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_chart_demo_simple.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_chart_demo_simple.prototype.vert_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "vert_title");
        };
        $mol_chart_demo_simple.prototype.Vert_ruler = function () {
            var _this = this;
            return new $.$mol_plot_ruler_vert().setup(function (obj) {
                obj.title = function () { return _this.vert_title(); };
            });
        };
        $mol_chart_demo_simple.prototype.hor_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "hor_title");
        };
        $mol_chart_demo_simple.prototype.hor_label_text = function (key) {
            return "";
        };
        $mol_chart_demo_simple.prototype.Hor_ruler = function () {
            var _this = this;
            return new $.$mol_plot_ruler_hor().setup(function (obj) {
                obj.title = function () { return _this.hor_title(); };
                obj.series = function () { return _this.plan(); };
                obj.label_text = function (key) { return _this.hor_label_text(key); };
            });
        };
        $mol_chart_demo_simple.prototype.plan_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "plan_title");
        };
        $mol_chart_demo_simple.prototype.plan = function () {
            return ({
                "january": 10,
                "february": 20,
                "march": 30,
                "april": 40,
            });
        };
        $mol_chart_demo_simple.prototype.Plan = function () {
            var _this = this;
            return new $.$mol_plot_bar().setup(function (obj) {
                obj.title = function () { return _this.plan_title(); };
                obj.series = function () { return _this.plan(); };
            });
        };
        $mol_chart_demo_simple.prototype.fact_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "fact_title");
        };
        $mol_chart_demo_simple.prototype.fact = function () {
            return ({
                "january": 5,
                "february": 10,
                "march": 30,
            });
        };
        $mol_chart_demo_simple.prototype.Fact_line = function () {
            return new $.$mol_plot_line();
        };
        $mol_chart_demo_simple.prototype.Fact_dots = function () {
            return new $.$mol_plot_dot();
        };
        $mol_chart_demo_simple.prototype.Fact = function () {
            var _this = this;
            return new $.$mol_plot_group().setup(function (obj) {
                obj.title = function () { return _this.fact_title(); };
                obj.series = function () { return _this.fact(); };
                obj.graphs = function () { return [].concat(_this.Fact_line(), _this.Fact_dots()); };
            });
        };
        $mol_chart_demo_simple.prototype.graphs = function () {
            return [].concat(this.Vert_ruler(), this.Hor_ruler(), this.Plan(), this.Fact());
        };
        return $mol_chart_demo_simple;
    }($.$mol_chart));
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_simple.prototype, "Vert_ruler", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_simple.prototype, "Hor_ruler", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_simple.prototype, "Plan", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_simple.prototype, "Fact_line", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_simple.prototype, "Fact_dots", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_simple.prototype, "Fact", null);
    $.$mol_chart_demo_simple = $mol_chart_demo_simple;
})($ || ($ = {}));
(function ($) {
    var $mol_chart_demo_styles = (function (_super) {
        __extends($mol_chart_demo_styles, _super);
        function $mol_chart_demo_styles() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_chart_demo_styles.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_chart_demo_styles.prototype.energy_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "energy_title");
        };
        $mol_chart_demo_styles.prototype.Energy = function () {
            var _this = this;
            return new $.$mol_plot_ruler_vert().setup(function (obj) {
                obj.title = function () { return _this.energy_title(); };
            });
        };
        $mol_chart_demo_styles.prototype.day_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "day_title");
        };
        $mol_chart_demo_styles.prototype.series_1 = function () {
            return [];
        };
        $mol_chart_demo_styles.prototype.Day = function () {
            var _this = this;
            return new $.$mol_plot_ruler_hor().setup(function (obj) {
                obj.title = function () { return _this.day_title(); };
                obj.series = function () { return _this.series_1(); };
            });
        };
        $mol_chart_demo_styles.prototype.receipts_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "receipts_title");
        };
        $mol_chart_demo_styles.prototype.series_2 = function () {
            return [];
        };
        $mol_chart_demo_styles.prototype.Receipts = function () {
            var _this = this;
            return new $.$mol_plot_bar().setup(function (obj) {
                obj.title = function () { return _this.receipts_title(); };
                obj.series = function () { return _this.series_2(); };
            });
        };
        $mol_chart_demo_styles.prototype.receipts_confirmed_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "receipts_confirmed_title");
        };
        $mol_chart_demo_styles.prototype.series_3 = function () {
            return [];
        };
        $mol_chart_demo_styles.prototype.Receipts_confirmed = function () {
            var _this = this;
            return new $.$mol_plot_bar().setup(function (obj) {
                obj.title = function () { return _this.receipts_confirmed_title(); };
                obj.series = function () { return _this.series_3(); };
            });
        };
        $mol_chart_demo_styles.prototype.maximum_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "maximum_title");
        };
        $mol_chart_demo_styles.prototype.Maximum = function () {
            var _this = this;
            return new $.$mol_plot_dot().setup(function (obj) {
                obj.title = function () { return _this.maximum_title(); };
                obj.series = function () { return _this.series_1(); };
            });
        };
        $mol_chart_demo_styles.prototype.waste_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "waste_title");
        };
        $mol_chart_demo_styles.prototype.series_4 = function () {
            return [];
        };
        $mol_chart_demo_styles.prototype.Waste = function () {
            var _this = this;
            return new $.$mol_plot_line().setup(function (obj) {
                obj.type = function () { return "dashed"; };
                obj.title = function () { return _this.waste_title(); };
                obj.series = function () { return _this.series_4(); };
            });
        };
        $mol_chart_demo_styles.prototype.purchases_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "purchases_title");
        };
        $mol_chart_demo_styles.prototype.series_5 = function () {
            return [];
        };
        $mol_chart_demo_styles.prototype.Purchases_fill = function () {
            return new $.$mol_plot_fill();
        };
        $mol_chart_demo_styles.prototype.Purchases_line = function () {
            return new $.$mol_plot_line();
        };
        $mol_chart_demo_styles.prototype.Purchases_dots = function () {
            return new $.$mol_plot_dot();
        };
        $mol_chart_demo_styles.prototype.Purchases = function () {
            var _this = this;
            return new $.$mol_plot_group().setup(function (obj) {
                obj.title = function () { return _this.purchases_title(); };
                obj.series = function () { return _this.series_5(); };
                obj.graphs = function () { return [].concat(_this.Purchases_fill(), _this.Purchases_line(), _this.Purchases_dots()); };
            });
        };
        $mol_chart_demo_styles.prototype.taxes_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "taxes_title");
        };
        $mol_chart_demo_styles.prototype.series_6 = function () {
            return [];
        };
        $mol_chart_demo_styles.prototype.Taxes_fill = function () {
            return new $.$mol_plot_fill();
        };
        $mol_chart_demo_styles.prototype.Taxes_line = function () {
            return new $.$mol_plot_line().setup(function (obj) {
                obj.type = function () { return "dashed"; };
            });
        };
        $mol_chart_demo_styles.prototype.Taxes_dots = function () {
            return new $.$mol_plot_dot();
        };
        $mol_chart_demo_styles.prototype.Taxes = function () {
            var _this = this;
            return new $.$mol_plot_group().setup(function (obj) {
                obj.title = function () { return _this.taxes_title(); };
                obj.series = function () { return _this.series_6(); };
                obj.graphs = function () { return [].concat(_this.Taxes_fill(), _this.Taxes_line(), _this.Taxes_dots()); };
            });
        };
        $mol_chart_demo_styles.prototype.graphs = function () {
            return [].concat(this.Energy(), this.Day(), this.Receipts(), this.Receipts_confirmed(), this.Maximum(), this.Waste(), this.Purchases(), this.Taxes());
        };
        $mol_chart_demo_styles.prototype.count = function (val) {
            return (val !== void 0) ? val : 15;
        };
        $mol_chart_demo_styles.prototype.Count = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.count(val); };
            });
        };
        $mol_chart_demo_styles.prototype.sub = function () {
            return [].concat(this.Plot(), this.Legend(), this.Count());
        };
        return $mol_chart_demo_styles;
    }($.$mol_chart));
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Energy", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Day", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Receipts", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Receipts_confirmed", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Maximum", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Waste", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Purchases_fill", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Purchases_line", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Purchases_dots", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Purchases", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Taxes_fill", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Taxes_line", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Taxes_dots", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Taxes", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "count", null);
    __decorate([
        $.$mol_mem()
    ], $mol_chart_demo_styles.prototype, "Count", null);
    $.$mol_chart_demo_styles = $mol_chart_demo_styles;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_chart_demo_simple = (function (_super) {
            __extends($mol_chart_demo_simple, _super);
            function $mol_chart_demo_simple() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_chart_demo_simple.prototype.hor_label_text = function (key) {
                return key.replace(/^\w/, function (letter) { return letter.toUpperCase(); });
            };
            return $mol_chart_demo_simple;
        }($.$mol_chart_demo_simple));
        $mol.$mol_chart_demo_simple = $mol_chart_demo_simple;
        var $mol_chart_demo_styles = (function (_super) {
            __extends($mol_chart_demo_styles, _super);
            function $mol_chart_demo_styles() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_chart_demo_styles.prototype.series = function () {
                var next = [];
                var shift = 10;
                var limit = shift + this.count();
                for (var i = shift; i < limit; ++i) {
                    next[i] = Number((6.5 + Math.sin(8 * i / limit)).toFixed(3));
                }
                return next;
            };
            $mol_chart_demo_styles.prototype.series_1 = function () {
                return this.series().map(function (val) { return (val - 1).toFixed(3); }).map(Number);
            };
            $mol_chart_demo_styles.prototype.series_2 = function () {
                return this.series().map(function (val) { return (val - 2).toFixed(3); }).map(Number);
            };
            $mol_chart_demo_styles.prototype.series_3 = function () {
                return this.series().map(function (val) { return (val - 3).toFixed(3); }).map(Number);
            };
            $mol_chart_demo_styles.prototype.series_4 = function () {
                return this.series().map(function (val) { return (val - 4).toFixed(3); }).map(Number);
            };
            $mol_chart_demo_styles.prototype.series_5 = function () {
                return this.series().map(function (val) { return (val - 5).toFixed(3); }).map(Number);
            };
            $mol_chart_demo_styles.prototype.series_6 = function () {
                return this.series().map(function (val) { return (val - 6).toFixed(3); }).map(Number);
            };
            return $mol_chart_demo_styles;
        }($.$mol_chart_demo_styles));
        __decorate([
            $.$mol_mem()
        ], $mol_chart_demo_styles.prototype, "series", null);
        __decorate([
            $.$mol_mem()
        ], $mol_chart_demo_styles.prototype, "series_1", null);
        __decorate([
            $.$mol_mem()
        ], $mol_chart_demo_styles.prototype, "series_2", null);
        __decorate([
            $.$mol_mem()
        ], $mol_chart_demo_styles.prototype, "series_3", null);
        __decorate([
            $.$mol_mem()
        ], $mol_chart_demo_styles.prototype, "series_4", null);
        __decorate([
            $.$mol_mem()
        ], $mol_chart_demo_styles.prototype, "series_5", null);
        __decorate([
            $.$mol_mem()
        ], $mol_chart_demo_styles.prototype, "series_6", null);
        $mol.$mol_chart_demo_styles = $mol_chart_demo_styles;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_check_box_demo = (function (_super) {
        __extends($mol_check_box_demo, _super);
        function $mol_check_box_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_check_box_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_check_box_demo.prototype.base_checked = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_check_box_demo.prototype.c1Label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "c1Label");
        };
        $mol_check_box_demo.prototype.Labeled_base = function () {
            var _this = this;
            return new $.$mol_check_box().setup(function (obj) {
                obj.checked = function (val) { return _this.base_checked(val); };
                obj.label = function () { return [].concat(_this.c1Label()); };
            });
        };
        $mol_check_box_demo.prototype.c2Label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "c2Label");
        };
        $mol_check_box_demo.prototype.checked_checked = function (val) {
            return (val !== void 0) ? val : true;
        };
        $mol_check_box_demo.prototype.Labeled_checked = function () {
            var _this = this;
            return new $.$mol_check_box().setup(function (obj) {
                obj.label = function () { return [].concat(_this.c2Label()); };
                obj.checked = function (val) { return _this.checked_checked(val); };
            });
        };
        $mol_check_box_demo.prototype.c6Label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "c6Label");
        };
        $mol_check_box_demo.prototype.Labeled_disabled = function () {
            var _this = this;
            return new $.$mol_check_box().setup(function (obj) {
                obj.label = function () { return [].concat(_this.c6Label()); };
                obj.checked = function () { return true; };
                obj.enabled = function () { return false; };
            });
        };
        $mol_check_box_demo.prototype.Alone_base = function () {
            var _this = this;
            return new $.$mol_check_box().setup(function (obj) {
                obj.checked = function (val) { return _this.base_checked(val); };
            });
        };
        $mol_check_box_demo.prototype.Alone_checked = function () {
            var _this = this;
            return new $.$mol_check_box().setup(function (obj) {
                obj.checked = function (val) { return _this.checked_checked(val); };
            });
        };
        $mol_check_box_demo.prototype.Alone_disabled = function () {
            return new $.$mol_check_box().setup(function (obj) {
                obj.checked = function () { return true; };
                obj.enabled = function () { return false; };
            });
        };
        $mol_check_box_demo.prototype.sub = function () {
            return [].concat(this.Labeled_base(), this.Labeled_checked(), this.Labeled_disabled(), this.Alone_base(), this.Alone_checked(), this.Alone_disabled());
        };
        return $mol_check_box_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_check_box_demo.prototype, "base_checked", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_box_demo.prototype, "Labeled_base", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_box_demo.prototype, "checked_checked", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_box_demo.prototype, "Labeled_checked", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_box_demo.prototype, "Labeled_disabled", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_box_demo.prototype, "Alone_base", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_box_demo.prototype, "Alone_checked", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_box_demo.prototype, "Alone_disabled", null);
    $.$mol_check_box_demo = $mol_check_box_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_check_expand_demo = (function (_super) {
        __extends($mol_check_expand_demo, _super);
        function $mol_check_expand_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_check_expand_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_check_expand_demo.prototype.base_expanded = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_check_expand_demo.prototype.c1Label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "c1Label");
        };
        $mol_check_expand_demo.prototype.Labeled_base = function () {
            var _this = this;
            return new $.$mol_check_expand().setup(function (obj) {
                obj.checked = function (val) { return _this.base_expanded(val); };
                obj.label = function () { return [].concat(_this.c1Label()); };
            });
        };
        $mol_check_expand_demo.prototype.c2Label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "c2Label");
        };
        $mol_check_expand_demo.prototype.expanded_expanded = function (val) {
            return (val !== void 0) ? val : true;
        };
        $mol_check_expand_demo.prototype.Labeled_expanded = function () {
            var _this = this;
            return new $.$mol_check_expand().setup(function (obj) {
                obj.label = function () { return [].concat(_this.c2Label()); };
                obj.checked = function (val) { return _this.expanded_expanded(val); };
            });
        };
        $mol_check_expand_demo.prototype.Empty_base = function () {
            var _this = this;
            return new $.$mol_check_expand().setup(function (obj) {
                obj.checked = function (val) { return _this.base_expanded(val); };
            });
        };
        $mol_check_expand_demo.prototype.Empty_expanded = function () {
            var _this = this;
            return new $.$mol_check_expand().setup(function (obj) {
                obj.checked = function (val) { return _this.expanded_expanded(val); };
            });
        };
        $mol_check_expand_demo.prototype.c5Label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "c5Label");
        };
        $mol_check_expand_demo.prototype.Disabled = function () {
            var _this = this;
            return new $.$mol_check_expand().setup(function (obj) {
                obj.label = function () { return [].concat(_this.c5Label()); };
                obj.disabled = function () { return true; };
            });
        };
        $mol_check_expand_demo.prototype.sub = function () {
            return [].concat(this.Labeled_base(), this.Labeled_expanded(), this.Empty_base(), this.Empty_expanded(), this.Disabled());
        };
        return $mol_check_expand_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand_demo.prototype, "base_expanded", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand_demo.prototype, "Labeled_base", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand_demo.prototype, "expanded_expanded", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand_demo.prototype, "Labeled_expanded", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand_demo.prototype, "Empty_base", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand_demo.prototype, "Empty_expanded", null);
    __decorate([
        $.$mol_mem()
    ], $mol_check_expand_demo.prototype, "Disabled", null);
    $.$mol_check_expand_demo = $mol_check_expand_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_code_demo = (function (_super) {
        __extends($mol_code_demo, _super);
        function $mol_code_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_code_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_code_demo.prototype.qr = function () {
            return new $.$mol_code().setup(function (obj) {
                obj.format = function () { return "QR_CODE"; };
            });
        };
        $mol_code_demo.prototype.matrix = function () {
            return new $.$mol_code().setup(function (obj) {
                obj.format = function () { return "DATA_MATRIX"; };
            });
        };
        $mol_code_demo.prototype.upc_e = function () {
            return new $.$mol_code().setup(function (obj) {
                obj.format = function () { return "UPC_E"; };
            });
        };
        $mol_code_demo.prototype.upc_a = function () {
            return new $.$mol_code().setup(function (obj) {
                obj.format = function () { return "UPC_A"; };
            });
        };
        $mol_code_demo.prototype.ean_8 = function () {
            return new $.$mol_code().setup(function (obj) {
                obj.format = function () { return "EAN_8"; };
            });
        };
        $mol_code_demo.prototype.ean_13 = function () {
            return new $.$mol_code().setup(function (obj) {
                obj.format = function () { return "EAN_13"; };
            });
        };
        $mol_code_demo.prototype.code_128 = function () {
            return new $.$mol_code().setup(function (obj) {
                obj.format = function () { return "CODE_128"; };
            });
        };
        $mol_code_demo.prototype.code_39 = function () {
            return new $.$mol_code().setup(function (obj) {
                obj.format = function () { return "CODE_39"; };
            });
        };
        $mol_code_demo.prototype.itf = function () {
            return new $.$mol_code().setup(function (obj) {
                obj.format = function () { return "ITF"; };
            });
        };
        $mol_code_demo.prototype.sub = function () {
            return [].concat(this.qr(), this.matrix(), this.upc_e(), this.upc_a(), this.ean_8(), this.ean_13(), this.code_128(), this.code_39(), this.itf());
        };
        return $mol_code_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_code_demo.prototype, "qr", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code_demo.prototype, "matrix", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code_demo.prototype, "upc_e", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code_demo.prototype, "upc_a", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code_demo.prototype, "ean_8", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code_demo.prototype, "ean_13", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code_demo.prototype, "code_128", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code_demo.prototype, "code_39", null);
    __decorate([
        $.$mol_mem()
    ], $mol_code_demo.prototype, "itf", null);
    $.$mol_code_demo = $mol_code_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var $;
(function ($) {
    $.$mol_colors = {
        aliceblue: "#f0f8ff",
        antiquewhite: "#faebd7",
        aqua: "#00ffff",
        aquamarine: "#7fffd4",
        azure: "#f0ffff",
        beige: "#f5f5dc",
        bisque: "#ffe4c4",
        black: "#000000",
        blanchedalmond: "#ffebcd",
        blue: "#0000ff",
        blueviolet: "#8a2be2",
        brown: "#a52a2a",
        burlywood: "#deb887",
        cadetblue: "#5f9ea0",
        chartreuse: "#7fff00",
        chocolate: "#d2691e",
        coral: "#ff7f50",
        cornflowerblue: "#6495ed",
        cornsilk: "#fff8dc",
        crimson: "#dc143c",
        cyan: "#00ffff",
        darkblue: "#00008b",
        darkcyan: "#008b8b",
        darkgoldenrod: "#b8860b",
        darkgray: "#a9a9a9",
        darkgreen: "#006400",
        darkgrey: "#a9a9a9",
        darkkhaki: "#bdb76b",
        darkmagenta: "#8b008b",
        darkolivegreen: "#556b2f",
        darkorange: "#ff8c00",
        darkorchid: "#9932cc",
        darkred: "#8b0000",
        darksalmon: "#e9967a",
        darkseagreen: "#8fbc8f",
        darkslateblue: "#483d8b",
        darkslategrey: "#2f4f4f",
        darkturquoise: "#00ced1",
        darkviolet: "#9400d3",
        deeppink: "#ff1493",
        deepskyblue: "#00bfff",
        dimgray: "#696969",
        dimgrey: "#696969",
        dodgerblue: "#1e90ff",
        firebrick: "#b22222",
        floralwhite: "#fffaf0",
        forestgreen: "#228b22",
        fuchsia: "#ff00ff",
        gainsboro: "#dcdcdc",
        ghostwhite: "#f8f8ff",
        gold: "#ffd700",
        goldenrod: "#daa520",
        gray: "#808080",
        green: "#008000",
        greenyellow: "#adff2f",
        grey: "#808080",
        honeydew: "#f0fff0",
        hotpink: "#ff69b4",
        indianred: "#cd5c5c",
        indigo: "#4b0082",
        ivory: "#fffff0",
        khaki: "#f0e68c",
        lavender: "#e6e6fa",
        lavenderblush: "#fff0f5",
        lawngreen: "#7cfc00",
        lemonchiffon: "#fffacd",
        lightblue: "#add8e6",
        lightcoral: "#f08080",
        lightcyan: "#e0ffff",
        lightgoldenrodyellow: "#fafad2",
        lightgray: "#d3d3d3",
        lightgreen: "#90ee90",
        lightgrey: "#d3d3d3",
        lightpink: "#ffb6c1",
        lightsalmon: "#ffa07a",
        lightseagreen: "#20b2aa",
        lightskyblue: "#87cefa",
        lightslategray: "#778899",
        lightslategrey: "#778899",
        lightsteelblue: "#b0c4de",
        lightyellow: "#ffffe0",
        lime: "#00ff00",
        limegreen: "#32cd32",
        linen: "#faf0e6",
        magenta: "#ff00ff",
        maroon: "#800000",
        mediumaquamarine: "#66cdaa",
        mediumblue: "#0000cd",
        mediumorchid: "#ba55d3",
        mediumpurple: "#9370db",
        mediumseagreen: "#3cb371",
        mediumslateblue: "#7b68ee",
        mediumspringgreen: "#00fa9a",
        mediumturquoise: "#48d1cc",
        mediumvioletred: "#c71585",
        midnightblue: "#191970",
        mintcream: "#f5fffa",
        mistyrose: "#ffe4e1",
        moccasin: "#ffe4b5",
        navajowhite: "#ffdead",
        navy: "#000080",
        oldlace: "#fdf5e6",
        olive: "#808000",
        olivedrab: "#6b8e23",
        orange: "#ffa500",
        orangered: "#ff4500",
        orchid: "#da70d6",
        palegoldenrod: "#eee8aa",
        palegreen: "#98fb98",
        paleturquoise: "#afeeee",
        palevioletred: "#db7093",
        papayawhip: "#ffefd5",
        peachpuff: "#ffdab9",
        peru: "#cd853f",
        pink: "#ffc0cb",
        plum: "#dda0dd",
        powderblue: "#b0e0e6",
        purple: "#800080",
        rebeccapurple: "#663399",
        red: "#ff0000",
        rosybrown: "#bc8f8f",
        royalblue: "#4169e1",
        saddlebrown: "#8b4513",
        salmon: "#fa8072",
        sandybrown: "#f4a460",
        seagreen: "#2e8b57",
        seashell: "#fff5ee",
        sienna: "#a0522d",
        silver: "#c0c0c0",
        skyblue: "#87ceeb",
        slateblue: "#6a5acd",
        slategray: "#708090",
        slategrey: "#708090",
        snow: "#fffafa",
        springgreen: "#00ff7f",
        steelblue: "#4682b4",
        tan: "#d2b48c",
        teal: "#008080",
        thistle: "#d8bfd8",
        tomato: "#ff6347",
        turquoise: "#40e0d0",
        violet: "#ee82ee",
        wheat: "#f5deb3",
        white: "#ffffff",
        whitesmoke: "#f5f5f5",
        yellow: "#ffff00",
        yellowgreen: "#9acd32",
    };
})($ || ($ = {}));
//colors.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_deck_demo = (function (_super) {
        __extends($mol_deck_demo, _super);
        function $mol_deck_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_deck_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_deck_demo.prototype.greeterLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "greeterLabel");
        };
        $mol_deck_demo.prototype.greeterMessage = function () {
            return $.$mol_locale.text(this.locale_contexts(), "greeterMessage");
        };
        $mol_deck_demo.prototype.greeterMessager = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.greeterMessage()); };
            });
        };
        $mol_deck_demo.prototype.greeterContent = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.greeterMessager()); };
            });
        };
        $mol_deck_demo.prototype.greeterItem = function () {
            var _this = this;
            return new $.$mol_deck_item().setup(function (obj) {
                obj.title = function () { return _this.greeterLabel(); };
                obj.Content = function () { return _this.greeterContent(); };
            });
        };
        $mol_deck_demo.prototype.questerLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "questerLabel");
        };
        $mol_deck_demo.prototype.questerMessage = function () {
            return $.$mol_locale.text(this.locale_contexts(), "questerMessage");
        };
        $mol_deck_demo.prototype.questerMessager = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.questerMessage()); };
            });
        };
        $mol_deck_demo.prototype.questerContent = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.questerMessager()); };
            });
        };
        $mol_deck_demo.prototype.questerItem = function () {
            var _this = this;
            return new $.$mol_deck_item().setup(function (obj) {
                obj.title = function () { return _this.questerLabel(); };
                obj.Content = function () { return _this.questerContent(); };
            });
        };
        $mol_deck_demo.prototype.commanderLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "commanderLabel");
        };
        $mol_deck_demo.prototype.commanderMessage = function () {
            return $.$mol_locale.text(this.locale_contexts(), "commanderMessage");
        };
        $mol_deck_demo.prototype.commanderMessager = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.commanderMessage()); };
            });
        };
        $mol_deck_demo.prototype.commanderContent = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.commanderMessager()); };
            });
        };
        $mol_deck_demo.prototype.commanderItem = function () {
            var _this = this;
            return new $.$mol_deck_item().setup(function (obj) {
                obj.title = function () { return _this.commanderLabel(); };
                obj.Content = function () { return _this.commanderContent(); };
            });
        };
        $mol_deck_demo.prototype.Deck = function () {
            var _this = this;
            return new $.$mol_deck().setup(function (obj) {
                obj.items = function () { return [].concat(_this.greeterItem(), _this.questerItem(), _this.commanderItem()); };
            });
        };
        $mol_deck_demo.prototype.sub = function () {
            return [].concat(this.Deck());
        };
        return $mol_deck_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "greeterMessager", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "greeterContent", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "greeterItem", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "questerMessager", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "questerContent", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "questerItem", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "commanderMessager", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "commanderContent", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "commanderItem", null);
    __decorate([
        $.$mol_mem()
    ], $mol_deck_demo.prototype, "Deck", null);
    $.$mol_deck_demo = $mol_deck_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_demo_medium = (function (_super) {
        __extends($mol_demo_medium, _super);
        function $mol_demo_medium() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return $mol_demo_medium;
    }($.$mol_demo));
    $.$mol_demo_medium = $mol_demo_medium;
})($ || ($ = {}));
//medium.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_demo_all = (function (_super) {
        __extends($mol_demo_all, _super);
        function $mol_demo_all() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_demo_all.prototype.name = function () {
            return "$mol_view";
        };
        $mol_demo_all.prototype.mediumLabel = function () {
            return "Fit to content";
        };
        $mol_demo_all.prototype.medium = function () {
            var _this = this;
            return new $.$mol_demo_medium().setup(function (obj) {
                obj.name = function () { return _this.name(); };
                obj.title = function () { return _this.mediumLabel(); };
            });
        };
        $mol_demo_all.prototype.smallLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "smallLabel");
        };
        $mol_demo_all.prototype.small = function () {
            var _this = this;
            return new $.$mol_demo_small().setup(function (obj) {
                obj.name = function () { return _this.name(); };
                obj.title = function () { return _this.smallLabel(); };
            });
        };
        $mol_demo_all.prototype.largeLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "largeLabel");
        };
        $mol_demo_all.prototype.large = function () {
            var _this = this;
            return new $.$mol_demo_large().setup(function (obj) {
                obj.name = function () { return _this.name(); };
                obj.title = function () { return _this.largeLabel(); };
            });
        };
        $mol_demo_all.prototype.sub = function () {
            return [].concat(this.medium(), this.small(), this.large());
        };
        return $mol_demo_all;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_demo_all.prototype, "medium", null);
    __decorate([
        $.$mol_mem()
    ], $mol_demo_all.prototype, "small", null);
    __decorate([
        $.$mol_mem()
    ], $mol_demo_all.prototype, "large", null);
    $.$mol_demo_all = $mol_demo_all;
})($ || ($ = {}));
//all.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_dimmer_demo = (function (_super) {
        __extends($mol_dimmer_demo, _super);
        function $mol_dimmer_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_dimmer_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_dimmer_demo.prototype.one = function () {
            return new $.$mol_dimmer().setup(function (obj) {
                obj.haystack = function () { return "Don't put all your eggs in one basket"; };
                obj.needle = function () { return "eggs"; };
            });
        };
        $mol_dimmer_demo.prototype.two = function () {
            return new $.$mol_dimmer().setup(function (obj) {
                obj.haystack = function () { return "Don't look a gift horse in the mouth."; };
                obj.needle = function () { return "oo"; };
            });
        };
        $mol_dimmer_demo.prototype.three = function () {
            return new $.$mol_dimmer().setup(function (obj) {
                obj.haystack = function () { return "There is no word you are looking for"; };
                obj.needle = function () { return "luck"; };
            });
        };
        $mol_dimmer_demo.prototype.four = function () {
            return new $.$mol_dimmer().setup(function (obj) {
                obj.haystack = function () { return "ooAAooAAoo"; };
                obj.needle = function () { return "oo"; };
            });
        };
        $mol_dimmer_demo.prototype.five = function () {
            return new $.$mol_dimmer().setup(function (obj) {
                obj.haystack = function () { return "Let's search this string"; };
                obj.needle = function () { return "Let's search this string"; };
            });
        };
        $mol_dimmer_demo.prototype.six = function () {
            return new $.$mol_dimmer().setup(function (obj) {
                obj.haystack = function () { return "Let's search nothing"; };
                obj.needle = function () { return ""; };
            });
        };
        $mol_dimmer_demo.prototype.sub = function () {
            return [].concat(this.one(), this.two(), this.three(), this.four(), this.five(), this.six());
        };
        return $mol_dimmer_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_dimmer_demo.prototype, "one", null);
    __decorate([
        $.$mol_mem()
    ], $mol_dimmer_demo.prototype, "two", null);
    __decorate([
        $.$mol_mem()
    ], $mol_dimmer_demo.prototype, "three", null);
    __decorate([
        $.$mol_mem()
    ], $mol_dimmer_demo.prototype, "four", null);
    __decorate([
        $.$mol_mem()
    ], $mol_dimmer_demo.prototype, "five", null);
    __decorate([
        $.$mol_mem()
    ], $mol_dimmer_demo.prototype, "six", null);
    $.$mol_dimmer_demo = $mol_dimmer_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_expander = (function (_super) {
        __extends($mol_expander, _super);
        function $mol_expander() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_expander.prototype.expanded = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_expander.prototype.label = function () {
            return [].concat(this.title());
        };
        $mol_expander.prototype.Label = function () {
            var _this = this;
            return new $.$mol_check_expand().setup(function (obj) {
                obj.minimal_height = function () { return 40; };
                obj.checked = function (val) { return _this.expanded(val); };
                obj.label = function () { return _this.label(); };
            });
        };
        $mol_expander.prototype.content = function () {
            return [];
        };
        $mol_expander.prototype.Content = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.content(); };
            });
        };
        $mol_expander.prototype.rows = function () {
            return [].concat(this.Label(), this.Content());
        };
        return $mol_expander;
    }($.$mol_list));
    __decorate([
        $.$mol_mem()
    ], $mol_expander.prototype, "expanded", null);
    __decorate([
        $.$mol_mem()
    ], $mol_expander.prototype, "Label", null);
    __decorate([
        $.$mol_mem()
    ], $mol_expander.prototype, "Content", null);
    $.$mol_expander = $mol_expander;
})($ || ($ = {}));
//expander.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_expander = (function (_super) {
            __extends($mol_expander, _super);
            function $mol_expander() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_expander.prototype.rows = function () {
                return [
                    this.Label(),
                    this.expanded() ? this.Content() : null
                ];
            };
            return $mol_expander;
        }($.$mol_expander));
        $mol.$mol_expander = $mol_expander;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//expander.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_filler = (function (_super) {
        __extends($mol_filler, _super);
        function $mol_filler() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_filler.prototype.minimal_height = function () {
            return 500;
        };
        $mol_filler.prototype.sub = function () {
            return [].concat("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue. Nam tincidunt congue enim, ut porta lorem lacinia consectetur. Donec ut libero sed arcu vehicula ultricies a non tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ut gravida lorem. Ut turpis felis, pulvinar a semper sed, adipiscing id dolor. Pellentesque auctor nisi id magna consequat sagittis. Curabitur dapibus enim sit amet elit pharetra tincidunt feugiat nisl imperdiet. Ut convallis libero in urna ultrices accumsan. Donec sed odio eros. Donec viverra mi quis quam pulvinar at malesuada arcu rhoncus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In rutrum accumsan ultricies. Mauris vitae nisi at sem facilisis semper ac in est.", "Vivamus fermentum semper porta. Nunc diam velit, adipiscing ut tristique vitae, sagittis vel odio. Maecenas convallis ullamcorper ultricies. Curabitur ornare, ligula semper consectetur sagittis, nisi diam iaculis velit, id fringilla sem nunc vel mi. Nam dictum, odio nec pretium volutpat, arcu ante placerat erat, non tristique elit urna et turpis. Quisque mi metus, ornare sit amet fermentum et, tincidunt et orci. Fusce eget orci a orci congue vestibulum. Ut dolor diam, elementum et vestibulum eu, porttitor vel elit. Curabitur venenatis pulvinar tellus gravida ornare. Sed et erat faucibus nunc euismod ultricies ut id justo. Nullam cursus suscipit nisi, et ultrices justo sodales nec. Fusce venenatis facilisis lectus ac semper. Aliquam at massa ipsum. Quisque bibendum purus convallis nulla ultrices ultricies. Nullam aliquam, mi eu aliquam tincidunt, purus velit laoreet tortor, viverra pretium nisi quam vitae mi. Fusce vel volutpat elit. Nam sagittis nisi dui.", "Suspendisse lectus leo, consectetur in tempor sit amet, placerat quis neque. Etiam luctus porttitor lorem, sed suscipit est rutrum non. Curabitur lobortis nisl a enim congue semper. Aenean commodo ultrices imperdiet. Vestibulum ut justo vel sapien venenatis tincidunt. Phasellus eget dolor sit amet ipsum dapibus condimentum vitae quis lectus. Aliquam ut massa in turpis dapibus convallis. Praesent elit lacus, vestibulum at malesuada et, ornare et est. Ut augue nunc, sodales ut euismod non, adipiscing vitae orci. Mauris ut placerat justo. Mauris in ultricies enim. Quisque nec est eleifend nulla ultrices egestas quis ut quam. Donec sollicitudin lectus a mauris pulvinar id aliquam urna cursus. Cras quis ligula sem, vel elementum mi. Phasellus non ullamcorper urna.", "Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. In euismod ultrices facilisis. Vestibulum porta sapien adipiscing augue congue id pretium lectus molestie. Proin quis dictum nisl. Morbi id quam sapien, sed vestibulum sem. Duis elementum rutrum mauris sed convallis. Proin vestibulum magna mi. Aenean tristique hendrerit magna, ac facilisis nulla hendrerit ut. Sed non tortor sodales quam auctor elementum. Donec hendrerit nunc eget elit pharetra pulvinar. Suspendisse id tempus tortor. Aenean luctus, elit commodo laoreet commodo, justo nisi consequat massa, sed vulputate quam urna quis eros. Donec vel.", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue. Nam tincidunt congue enim, ut porta lorem lacinia consectetur. Donec ut libero sed arcu vehicula ultricies a non tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ut gravida lorem. Ut turpis felis, pulvinar a semper sed, adipiscing id dolor. Pellentesque auctor nisi id magna consequat sagittis. Curabitur dapibus enim sit amet elit pharetra tincidunt feugiat nisl imperdiet. Ut convallis libero in urna ultrices accumsan. Donec sed odio eros. Donec viverra mi quis quam pulvinar at malesuada arcu rhoncus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In rutrum accumsan ultricies. Mauris vitae nisi at sem facilisis semper ac in est.", "Vivamus fermentum semper porta. Nunc diam velit, adipiscing ut tristique vitae, sagittis vel odio. Maecenas convallis ullamcorper ultricies. Curabitur ornare, ligula semper consectetur sagittis, nisi diam iaculis velit, id fringilla sem nunc vel mi. Nam dictum, odio nec pretium volutpat, arcu ante placerat erat, non tristique elit urna et turpis. Quisque mi metus, ornare sit amet fermentum et, tincidunt et orci. Fusce eget orci a orci congue vestibulum. Ut dolor diam, elementum et vestibulum eu, porttitor vel elit. Curabitur venenatis pulvinar tellus gravida ornare. Sed et erat faucibus nunc euismod ultricies ut id justo. Nullam cursus suscipit nisi, et ultrices justo sodales nec. Fusce venenatis facilisis lectus ac semper. Aliquam at massa ipsum. Quisque bibendum purus convallis nulla ultrices ultricies. Nullam aliquam, mi eu aliquam tincidunt, purus velit laoreet tortor, viverra pretium nisi quam vitae mi. Fusce vel volutpat elit. Nam sagittis nisi dui.", "Suspendisse lectus leo, consectetur in tempor sit amet, placerat quis neque. Etiam luctus porttitor lorem, sed suscipit est rutrum non. Curabitur lobortis nisl a enim congue semper. Aenean commodo ultrices imperdiet. Vestibulum ut justo vel sapien venenatis tincidunt. Phasellus eget dolor sit amet ipsum dapibus condimentum vitae quis lectus. Aliquam ut massa in turpis dapibus convallis. Praesent elit lacus, vestibulum at malesuada et, ornare et est. Ut augue nunc, sodales ut euismod non, adipiscing vitae orci. Mauris ut placerat justo. Mauris in ultricies enim. Quisque nec est eleifend nulla ultrices egestas quis ut quam. Donec sollicitudin lectus a mauris pulvinar id aliquam urna cursus. Cras quis ligula sem, vel elementum mi. Phasellus non ullamcorper urna.", "Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. In euismod ultrices facilisis. Vestibulum porta sapien adipiscing augue congue id pretium lectus molestie. Proin quis dictum nisl. Morbi id quam sapien, sed vestibulum sem. Duis elementum rutrum mauris sed convallis. Proin vestibulum magna mi. Aenean tristique hendrerit magna, ac facilisis nulla hendrerit ut. Sed non tortor sodales quam auctor elementum. Donec hendrerit nunc eget elit pharetra pulvinar. Suspendisse id tempus tortor. Aenean luctus, elit commodo laoreet commodo, justo nisi consequat massa, sed vulputate quam urna quis eros. Donec vel.");
        };
        return $mol_filler;
    }($.$mol_view));
    $.$mol_filler = $mol_filler;
})($ || ($ = {}));
//filler.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_expander_demo = (function (_super) {
        __extends($mol_expander_demo, _super);
        function $mol_expander_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_expander_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_expander_demo.prototype.Expander = function () {
            return new $.$mol_expander().setup(function (obj) {
                obj.label = function () { return [].concat("Lorem Ipsum"); };
                obj.Content = function () { return new $.$mol_filler(); };
            });
        };
        $mol_expander_demo.prototype.sub = function () {
            return [].concat(this.Expander());
        };
        return $mol_expander_demo;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_expander_demo.prototype, "Expander", null);
    $.$mol_expander_demo = $mol_expander_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_float_demo = (function (_super) {
        __extends($mol_float_demo, _super);
        function $mol_float_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_float_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_float_demo.prototype.Head_content = function () {
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat("Float header"); };
            });
        };
        $mol_float_demo.prototype.Head_row = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Head_content()); };
            });
        };
        $mol_float_demo.prototype.Head_card = function () {
            var _this = this;
            return new $.$mol_card().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Head_row()); };
            });
        };
        $mol_float_demo.prototype.Head = function () {
            var _this = this;
            return new $.$mol_float().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Head_card()); };
            });
        };
        $mol_float_demo.prototype.Filler1 = function () {
            return new $.$mol_filler();
        };
        $mol_float_demo.prototype.Filler2 = function () {
            return new $.$mol_filler();
        };
        $mol_float_demo.prototype.Content = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Filler1(), _this.Filler2()); };
            });
        };
        $mol_float_demo.prototype.content = function () {
            return [].concat(this.Content());
        };
        $mol_float_demo.prototype.sub = function () {
            return [].concat(this.Head(), this.content());
        };
        return $mol_float_demo;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_float_demo.prototype, "Head_content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_float_demo.prototype, "Head_row", null);
    __decorate([
        $.$mol_mem()
    ], $mol_float_demo.prototype, "Head_card", null);
    __decorate([
        $.$mol_mem()
    ], $mol_float_demo.prototype, "Head", null);
    __decorate([
        $.$mol_mem()
    ], $mol_float_demo.prototype, "Filler1", null);
    __decorate([
        $.$mol_mem()
    ], $mol_float_demo.prototype, "Filler2", null);
    __decorate([
        $.$mol_mem()
    ], $mol_float_demo.prototype, "Content", null);
    $.$mol_float_demo = $mol_float_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_form_demo = (function (_super) {
        __extends($mol_form_demo, _super);
        function $mol_form_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_form_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_form_demo.prototype.loginLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "loginLabel");
        };
        $mol_form_demo.prototype.loginErrors = function () {
            return [];
        };
        $mol_form_demo.prototype.login = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_form_demo.prototype.loginControl = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.login(val); };
            });
        };
        $mol_form_demo.prototype.loginField = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.loginLabel(); };
                obj.errors = function () { return _this.loginErrors(); };
                obj.control = function () { return _this.loginControl(); };
            });
        };
        $mol_form_demo.prototype.passwordLabel = function () {
            return $.$mol_locale.text(this.locale_contexts(), "passwordLabel");
        };
        $mol_form_demo.prototype.passwordErrors = function () {
            return [];
        };
        $mol_form_demo.prototype.password = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_form_demo.prototype.passControl = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.password(val); };
                obj.type = function () { return "password"; };
            });
        };
        $mol_form_demo.prototype.passwordField = function () {
            var _this = this;
            return new $.$mol_form_field().setup(function (obj) {
                obj.name = function () { return _this.passwordLabel(); };
                obj.errors = function () { return _this.passwordErrors(); };
                obj.control = function () { return _this.passControl(); };
            });
        };
        $mol_form_demo.prototype.form_fields = function () {
            return [].concat(this.loginField(), this.passwordField());
        };
        $mol_form_demo.prototype.submit_text = function () {
            return $.$mol_locale.text(this.locale_contexts(), "submit_text");
        };
        $mol_form_demo.prototype.event_submit = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_form_demo.prototype.submit = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.submit_text()); };
                obj.event_click = function (val) { return _this.event_submit(val); };
                obj.disabled = function () { return _this.submit_blocked(); };
            });
        };
        $mol_form_demo.prototype.buttons = function () {
            return [].concat(this.submit());
        };
        return $mol_form_demo;
    }($.$mol_form));
    __decorate([
        $.$mol_mem()
    ], $mol_form_demo.prototype, "login", null);
    __decorate([
        $.$mol_mem()
    ], $mol_form_demo.prototype, "loginControl", null);
    __decorate([
        $.$mol_mem()
    ], $mol_form_demo.prototype, "loginField", null);
    __decorate([
        $.$mol_mem()
    ], $mol_form_demo.prototype, "password", null);
    __decorate([
        $.$mol_mem()
    ], $mol_form_demo.prototype, "passControl", null);
    __decorate([
        $.$mol_mem()
    ], $mol_form_demo.prototype, "passwordField", null);
    __decorate([
        $.$mol_mem()
    ], $mol_form_demo.prototype, "event_submit", null);
    __decorate([
        $.$mol_mem()
    ], $mol_form_demo.prototype, "submit", null);
    $.$mol_form_demo = $mol_form_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var $mol_global = this;
//global.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'materialization': function () {
            var list = $.$mol_range_in({
                item: function (id) { return id * 2; },
                get length() { return 5; },
            });
            var list2 = list.valueOf();
            $.$mol_assert_equal(list2[2], 4);
            $.$mol_assert_equal(list2[5], void 0);
        },
        'lazy slicing': function () {
            var list = $.$mol_range_in({
                item: function (id) { return id * 2; },
                get length() { return Number.POSITIVE_INFINITY; },
            });
            list = list.slice(2, 5);
            $.$mol_assert_equal(list.join(), '4,6,8');
        },
        'lazy concatenation': function () {
            var list1 = $.$mol_range_in({
                item: function (id) { return id * 2; },
                get length() { return 3; },
            });
            var list2 = $.$mol_range_in({
                item: function (id) { return id * 3; },
                get length() { return 3; },
            });
            var list3 = $.$mol_range_in({
                item: function (id) { return id * 4; },
                get length() { return 3; },
            });
            $.$mol_assert_equal(list1.concat(list2, list3).join(), '0,2,4,0,3,6,0,4,8');
        },
        'every': function () {
            var list = $.$mol_range_in({
                item: function (id) { return id * 2; },
                get length() { return 3; }
            });
            $.$mol_assert_equal(list.every(function (v) { return v >= 0; }), true);
            $.$mol_assert_equal(list.every(function (v) { return v > 0; }), false);
        },
        'some': function () {
            var list = $.$mol_range_in({
                item: function (id) { return id * 2; },
                get length() { return 3; }
            });
            $.$mol_assert_equal(list.some(function (v) { return v > 100; }), false);
            $.$mol_assert_equal(list.some(function (v) { return v === 0; }), true);
        },
    });
})($ || ($ = {}));
//range.test.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    function $mol_range_in(source) {
        return new $mol_range_lazy(source);
    }
    $.$mol_range_in = $mol_range_in;
    var $mol_range_common = (function () {
        function $mol_range_common() {
            this.length = 0;
        }
        $mol_range_common.prototype.item = function (id) {
            return;
        };
        Object.defineProperty($mol_range_common.prototype, '0', {
            get: function () {
                throw new Error('Direct access to items not supported. Use item( id : number ) method instead.');
            },
            enumerable: true,
            configurable: true
        });
        $mol_range_common.prototype.forEach = function (handle) {
            var length = this.length;
            for (var i = 0; i < length; ++i) {
                handle(this.item(i), i);
            }
        };
        $mol_range_common.prototype.valueOf = function () {
            var list = [];
            this.forEach(function (val) { return list.push(val); });
            return list;
        };
        $mol_range_common.prototype.concat = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            var ranges = args.map(function (range) { return range.valueOf(); });
            return (_a = this.valueOf()).concat.apply(_a, ranges);
            var _a;
        };
        $mol_range_common.prototype.slice = function (start, end) {
            if (start === void 0) { start = 0; }
            var source = this;
            return new $mol_range_lazy({
                item: function (id) {
                    return source.item(id + start);
                },
                get length() {
                    return Math.min(end, source.length) - start;
                }
            });
        };
        $mol_range_common.prototype.map = function (proceed) {
            var source = this;
            return new $mol_range_lazy({
                item: function (id) {
                    return proceed(source.item(id), id);
                },
                get length() {
                    return source.length;
                }
            });
        };
        $mol_range_common.prototype.join = function (delim) {
            if (delim === void 0) { delim = ','; }
            var list = [];
            this.forEach(function (val) { return list.push(val); });
            return list.join(delim);
        };
        $mol_range_common.prototype.every = function (check) {
            var res = true;
            this.forEach(function (val, id) {
                if (!res)
                    return;
                res = check(val, id);
            });
            return res;
        };
        $mol_range_common.prototype.some = function (check) {
            var res = false;
            this.forEach(function (val, id) {
                if (res)
                    return;
                res = check(val, id);
            });
            return res;
        };
        return $mol_range_common;
    }());
    $.$mol_range_common = $mol_range_common;
    var $mol_range_lazy = (function (_super) {
        __extends($mol_range_lazy, _super);
        function $mol_range_lazy(source) {
            if (source === void 0) { source = {
                item: function (id) { return void 0; },
                length: 0
            }; }
            var _this = _super.call(this) || this;
            _this.source = source;
            return _this;
        }
        $mol_range_lazy.prototype.item = function (id) {
            return this.source.item(id);
        };
        Object.defineProperty($mol_range_lazy.prototype, "length", {
            get: function () {
                return this.source.length;
            },
            enumerable: true,
            configurable: true
        });
        return $mol_range_lazy;
    }($mol_range_common));
    $.$mol_range_lazy = $mol_range_lazy;
})($ || ($ = {}));
//range.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_grid_demo = (function (_super) {
        __extends($mol_grid_demo, _super);
        function $mol_grid_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_grid_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_grid_demo.prototype.row_height = function () {
            return 37;
        };
        return $mol_grid_demo;
    }($.$mol_grid));
    $.$mol_grid_demo = $mol_grid_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_grid_demo = (function (_super) {
            __extends($mol_grid_demo, _super);
            function $mol_grid_demo() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_grid_demo.prototype.records = function () {
                return $.$mol_range_in({
                    length: 1000,
                    item: function (index) {
                        return $.$mol_range_in({
                            length: 15,
                            item: function (colId) { return colId === 0
                                ? "Row " + (index + 1)
                                : "Cell " + colId + "\u00D7" + (index + 1); }
                        }).valueOf();
                    }
                }).valueOf();
            };
            $mol_grid_demo.prototype.col_head_content = function (id) {
                if (id == '0')
                    return [];
                return ["Col " + id];
            };
            return $mol_grid_demo;
        }($.$mol_grid_demo));
        __decorate([
            $.$mol_mem()
        ], $mol_grid_demo.prototype, "records", null);
        $mol.$mol_grid_demo = $mol_grid_demo;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol_icon_demo = (function (_super) {
        __extends($mol_icon_demo, _super);
        function $mol_icon_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_icon_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_icon_demo.prototype.icons = function () {
            return [];
        };
        $mol_icon_demo.prototype.sub = function () {
            return this.icons();
        };
        return $mol_icon_demo;
    }($.$mol_row));
    $.$mol_icon_demo = $mol_icon_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_icon_demo = (function (_super) {
            __extends($mol_icon_demo, _super);
            function $mol_icon_demo() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_icon_demo.prototype.names = function () {
                var next = [];
                for (var name in $) {
                    if (!/^\$mol_icon_/i.test(name))
                        continue;
                    if (/^\$mol_icon_demo/.test(name))
                        continue;
                    if (typeof $[name] !== 'function')
                        continue;
                    next.push(name.substring(1));
                }
                return next;
            };
            $mol_icon_demo.prototype.icons = function () {
                var _this = this;
                return this.names().map(function (name) { return _this.icon(name); });
            };
            $mol_icon_demo.prototype.icon = function (name) {
                var Class = $['$' + name];
                return new Class();
            };
            return $mol_icon_demo;
        }($.$mol_icon_demo));
        __decorate([
            $.$mol_mem()
        ], $mol_icon_demo.prototype, "names", null);
        __decorate([
            $.$mol_mem()
        ], $mol_icon_demo.prototype, "icons", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_icon_demo.prototype, "icon", null);
        $mol.$mol_icon_demo = $mol_icon_demo;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_labeler_demo = (function (_super) {
        __extends($mol_labeler_demo, _super);
        function $mol_labeler_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_labeler_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_labeler_demo.prototype.Provider = function () {
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return "Provider"; };
                obj.content = function () { return "ACME Provider Inc."; };
            });
        };
        $mol_labeler_demo.prototype.user_name = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_labeler_demo.prototype.Name_control = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return "Jack Sparrow"; };
                obj.value = function (val) { return _this.user_name(val); };
            });
        };
        $mol_labeler_demo.prototype.Name = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return "User name"; };
                obj.Content = function () { return _this.Name_control(); };
            });
        };
        $mol_labeler_demo.prototype.sub = function () {
            return [].concat(this.Provider(), this.Name());
        };
        return $mol_labeler_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_labeler_demo.prototype, "Provider", null);
    __decorate([
        $.$mol_mem()
    ], $mol_labeler_demo.prototype, "user_name", null);
    __decorate([
        $.$mol_mem()
    ], $mol_labeler_demo.prototype, "Name_control", null);
    __decorate([
        $.$mol_mem()
    ], $mol_labeler_demo.prototype, "Name", null);
    $.$mol_labeler_demo = $mol_labeler_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_link_demo = (function (_super) {
        __extends($mol_link_demo, _super);
        function $mol_link_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_link_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_link_demo.prototype.This_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "This_label");
        };
        $mol_link_demo.prototype.This = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.This_label()); };
            });
        };
        $mol_link_demo.prototype.Red_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "Red_label");
        };
        $mol_link_demo.prototype.Red = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.arg = function () { return ({
                    "color": "red",
                }); };
                obj.sub = function () { return [].concat(_this.Red_label()); };
            });
        };
        $mol_link_demo.prototype.Green_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "Green_label");
        };
        $mol_link_demo.prototype.Green = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.arg = function () { return ({
                    "color": "green",
                }); };
                obj.sub = function () { return [].concat(_this.Green_label()); };
            });
        };
        $mol_link_demo.prototype.Blue_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "Blue_label");
        };
        $mol_link_demo.prototype.Blue = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.arg = function () { return ({
                    "color": "blue",
                }); };
                obj.sub = function () { return [].concat(_this.Blue_label()); };
            });
        };
        $mol_link_demo.prototype.External_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "External_hint");
        };
        $mol_link_demo.prototype.External = function () {
            var _this = this;
            return new $.$mol_link().setup(function (obj) {
                obj.uri = function () { return "http://example.org"; };
                obj.title = function () { return "example.org"; };
                obj.hint = function () { return _this.External_hint(); };
            });
        };
        $mol_link_demo.prototype.sub = function () {
            return [].concat(this.This(), this.Red(), this.Green(), this.Blue(), this.External());
        };
        return $mol_link_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_link_demo.prototype, "This", null);
    __decorate([
        $.$mol_mem()
    ], $mol_link_demo.prototype, "Red", null);
    __decorate([
        $.$mol_mem()
    ], $mol_link_demo.prototype, "Green", null);
    __decorate([
        $.$mol_mem()
    ], $mol_link_demo.prototype, "Blue", null);
    __decorate([
        $.$mol_mem()
    ], $mol_link_demo.prototype, "External", null);
    $.$mol_link_demo = $mol_link_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_list_demo_large = (function (_super) {
        __extends($mol_list_demo_large, _super);
        function $mol_list_demo_large() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_list_demo_large.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_list_demo_large.prototype.rows = function () {
            return [];
        };
        $mol_list_demo_large.prototype.lister = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.rows(); };
            });
        };
        $mol_list_demo_large.prototype.sub = function () {
            return [].concat(this.lister());
        };
        $mol_list_demo_large.prototype.row_text = function (id) {
            return "";
        };
        $mol_list_demo_large.prototype.Content = function (id) {
            return new $.$mol_filler();
        };
        $mol_list_demo_large.prototype.Row = function (id) {
            var _this = this;
            return new $.$mol_expander().setup(function (obj) {
                obj.title = function () { return _this.row_text(id); };
                obj.content = function () { return [].concat(_this.Content(id)); };
            });
        };
        return $mol_list_demo_large;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_list_demo_large.prototype, "lister", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_list_demo_large.prototype, "Content", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_list_demo_large.prototype, "Row", null);
    $.$mol_list_demo_large = $mol_list_demo_large;
})($ || ($ = {}));
(function ($) {
    var $mol_list_demo_empty = (function (_super) {
        __extends($mol_list_demo_empty, _super);
        function $mol_list_demo_empty() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_list_demo_empty.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_list_demo_empty.prototype.rows = function () {
            return [];
        };
        $mol_list_demo_empty.prototype.empty_message = function () {
            return $.$mol_locale.text(this.locale_contexts(), "empty_message");
        };
        $mol_list_demo_empty.prototype.Empty = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.empty_message()); };
            });
        };
        return $mol_list_demo_empty;
    }($.$mol_list));
    __decorate([
        $.$mol_mem()
    ], $mol_list_demo_empty.prototype, "Empty", null);
    $.$mol_list_demo_empty = $mol_list_demo_empty;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_list_demo_large = (function (_super) {
            __extends($mol_list_demo_large, _super);
            function $mol_list_demo_large() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_list_demo_large.prototype.rows = function () {
                var next = [];
                for (var id = 0; id < 1000; ++id) {
                    next.push(this.Row(id));
                }
                return next;
            };
            $mol_list_demo_large.prototype.row_text = function (id) {
                return "Row #" + (id + 1);
            };
            return $mol_list_demo_large;
        }($.$mol_list_demo_large));
        $mol.$mol_list_demo_large = $mol_list_demo_large;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'all cases of using maybe': function () {
            $.$mol_assert_equal($.$mol_maybe(0)[0], 0);
            $.$mol_assert_equal($.$mol_maybe(false)[0], false);
            $.$mol_assert_equal($.$mol_maybe(null)[0], void 0);
            $.$mol_assert_equal($.$mol_maybe(void 0)[0], void 0);
            $.$mol_assert_equal($.$mol_maybe(void 0).map(function (v) { return v.toString(); })[0], void 0);
            $.$mol_assert_equal($.$mol_maybe(0).map(function (v) { return v.toString(); })[0], '0');
        },
    });
})($ || ($ = {}));
//maybe.test.js.map
;
var $;
(function ($) {
    function $mol_maybe(value) {
        return (value == null) ? [] : [value];
    }
    $.$mol_maybe = $mol_maybe;
})($ || ($ = {}));
//maybe.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_meter_demo = (function (_super) {
        __extends($mol_meter_demo, _super);
        function $mol_meter_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_meter_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_meter_demo.prototype.top = function () {
            return this.Meter().top();
        };
        $mol_meter_demo.prototype.height = function () {
            return this.Meter().height();
        };
        $mol_meter_demo.prototype.Meter = function () {
            return new $.$mol_meter();
        };
        $mol_meter_demo.prototype.plugins = function () {
            return [].concat(this.Meter());
        };
        $mol_meter_demo.prototype.Top = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat("Offset from top: ", _this.top()); };
            });
        };
        $mol_meter_demo.prototype.Height = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat("Component height: ", _this.height()); };
            });
        };
        $mol_meter_demo.prototype.sub = function () {
            return [].concat(this.Top(), this.Height());
        };
        return $mol_meter_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_meter_demo.prototype, "Meter", null);
    __decorate([
        $.$mol_mem()
    ], $mol_meter_demo.prototype, "Top", null);
    __decorate([
        $.$mol_mem()
    ], $mol_meter_demo.prototype, "Height", null);
    $.$mol_meter_demo = $mol_meter_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_nav_demo = (function (_super) {
        __extends($mol_nav_demo, _super);
        function $mol_nav_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_nav_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_nav_demo.prototype.selected_item = function (val) {
            return (val !== void 0) ? val : "Click!";
        };
        $mol_nav_demo.prototype.Button = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.title = function (val) { return _this.selected_item(); };
            });
        };
        $mol_nav_demo.prototype.items = function () {
            return [].concat("Item 1", "Item 2", "Item 3", "Item 4", "Item 5", "Item 6", "Item 7");
        };
        $mol_nav_demo.prototype.Nav = function () {
            var _this = this;
            return new $.$mol_nav().setup(function (obj) {
                obj.keys_y = function () { return _this.items(); };
                obj.current_y = function (val) { return _this.selected_item(val); };
            });
        };
        $mol_nav_demo.prototype.Labeler = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return "Focus me and navigate (arrows up & down)!"; };
                obj.content = function () { return [].concat(_this.Button()); };
                obj.plugins = function () { return [].concat(_this.Nav()); };
            });
        };
        $mol_nav_demo.prototype.sub = function () {
            return [].concat(this.Labeler());
        };
        return $mol_nav_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_nav_demo.prototype, "selected_item", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav_demo.prototype, "Button", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav_demo.prototype, "Nav", null);
    __decorate([
        $.$mol_mem()
    ], $mol_nav_demo.prototype, "Labeler", null);
    $.$mol_nav_demo = $mol_nav_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_number_demo = (function (_super) {
        __extends($mol_number_demo, _super);
        function $mol_number_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_number_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_number_demo.prototype.zero = function () {
            return new $.$mol_number();
        };
        $mol_number_demo.prototype.year = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_number_demo.prototype.one = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.year(val); };
            });
        };
        $mol_number_demo.prototype.two = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.year(val); };
                obj.hint = function () { return "2016"; };
            });
        };
        $mol_number_demo.prototype.age = function (val) {
            return (val !== void 0) ? val : 32;
        };
        $mol_number_demo.prototype.three = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.age(val); };
                obj.hint = function () { return "18-99"; };
                obj.enabled = function () { return false; };
            });
        };
        $mol_number_demo.prototype.four = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.year(val); };
                obj.string_enabled = function () { return false; };
            });
        };
        $mol_number_demo.prototype.five = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.age(val); };
                obj.dec_enabled = function () { return false; };
            });
        };
        $mol_number_demo.prototype.six = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.year(val); };
                obj.inc_enabled = function () { return false; };
            });
        };
        $mol_number_demo.prototype.seven = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.year(val); };
                obj.precision_change = function () { return 10; };
            });
        };
        $mol_number_demo.prototype.eight = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.year(val); };
                obj.precision_view = function () { return 0.01; };
            });
        };
        $mol_number_demo.prototype.nine = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.value = function (val) { return _this.year(val); };
                obj.precision = function () { return 1000; };
            });
        };
        $mol_number_demo.prototype.sub = function () {
            return [].concat(this.zero(), this.one(), this.two(), this.three(), this.four(), this.five(), this.six(), this.seven(), this.eight(), this.nine());
        };
        return $mol_number_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "zero", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "year", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "one", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "two", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "age", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "three", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "four", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "five", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "six", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "seven", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "eight", null);
    __decorate([
        $.$mol_mem()
    ], $mol_number_demo.prototype, "nine", null);
    $.$mol_number_demo = $mol_number_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_page_demo = (function (_super) {
        __extends($mol_page_demo, _super);
        function $mol_page_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_page_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_page_demo.prototype.Button = function () {
            return new $.$mol_button().setup(function (obj) {
                obj.title = function () { return "Toolbar Button"; };
            });
        };
        $mol_page_demo.prototype.tools = function () {
            return [].concat(this.Button());
        };
        $mol_page_demo.prototype.Text = function () {
            return new $.$mol_filler();
        };
        $mol_page_demo.prototype.Content = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Text()); };
            });
        };
        $mol_page_demo.prototype.body = function () {
            return [].concat(this.Content());
        };
        $mol_page_demo.prototype.Foot_text = function () {
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat("Footer"); };
            });
        };
        $mol_page_demo.prototype.Foot_content = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Foot_text()); };
            });
        };
        $mol_page_demo.prototype.foot = function () {
            return [].concat(this.Foot_content());
        };
        return $mol_page_demo;
    }($.$mol_page));
    __decorate([
        $.$mol_mem()
    ], $mol_page_demo.prototype, "Button", null);
    __decorate([
        $.$mol_mem()
    ], $mol_page_demo.prototype, "Text", null);
    __decorate([
        $.$mol_mem()
    ], $mol_page_demo.prototype, "Content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_page_demo.prototype, "Foot_text", null);
    __decorate([
        $.$mol_mem()
    ], $mol_page_demo.prototype, "Foot_content", null);
    $.$mol_page_demo = $mol_page_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_perf_render = (function (_super) {
        __extends($mol_perf_render, _super);
        function $mol_perf_render() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_render.prototype.title = function () {
            return "$mol";
        };
        $mol_perf_render.prototype.Title = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.dom_name = function () { return "h2"; };
                obj.sub = function () { return [].concat(_this.title()); };
            });
        };
        $mol_perf_render.prototype.run_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "run_label");
        };
        $mol_perf_render.prototype.event_run = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_perf_render.prototype.Run = function () {
            var _this = this;
            return new $.$mol_button_major().setup(function (obj) {
                obj.dom_name = function () { return "button"; };
                obj.sub = function () { return [].concat(_this.run_label()); };
                obj.event_click = function (val) { return _this.event_run(val); };
            });
        };
        $mol_perf_render.prototype.head = function () {
            return [].concat(this.Title(), this.Run());
        };
        $mol_perf_render.prototype.Head = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.head(); };
            });
        };
        $mol_perf_render.prototype.rows = function () {
            return [];
        };
        $mol_perf_render.prototype.List = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return _this.rows(); };
            });
        };
        $mol_perf_render.prototype.Content = function () {
            var _this = this;
            return new $.$mol_scroll().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.List()); };
            });
        };
        $mol_perf_render.prototype.sub = function () {
            return [].concat(this.Head(), this.Content());
        };
        return $mol_perf_render;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_perf_render.prototype, "Title", null);
    __decorate([
        $.$mol_mem()
    ], $mol_perf_render.prototype, "event_run", null);
    __decorate([
        $.$mol_mem()
    ], $mol_perf_render.prototype, "Run", null);
    __decorate([
        $.$mol_mem()
    ], $mol_perf_render.prototype, "Head", null);
    __decorate([
        $.$mol_mem()
    ], $mol_perf_render.prototype, "List", null);
    __decorate([
        $.$mol_mem()
    ], $mol_perf_render.prototype, "Content", null);
    $.$mol_perf_render = $mol_perf_render;
})($ || ($ = {}));
(function ($) {
    var $mol_perf_render_row = (function (_super) {
        __extends($mol_perf_render_row, _super);
        function $mol_perf_render_row() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_render_row.prototype.minimal_height = function () {
            return 24;
        };
        $mol_perf_render_row.prototype.selected = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_perf_render_row.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "mol_perf_render_row_selected": this.selected() }));
        };
        $mol_perf_render_row.prototype.event_toggle = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_perf_render_row.prototype.event = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event.call(this), { "click": function (val) { return _this.event_toggle(val); } }));
        };
        $mol_perf_render_row.prototype.label = function () {
            return "";
        };
        $mol_perf_render_row.prototype.Bar = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.label()); };
            });
        };
        $mol_perf_render_row.prototype.sub = function () {
            return [].concat(this.Bar());
        };
        return $mol_perf_render_row;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_perf_render_row.prototype, "selected", null);
    __decorate([
        $.$mol_mem()
    ], $mol_perf_render_row.prototype, "event_toggle", null);
    __decorate([
        $.$mol_mem()
    ], $mol_perf_render_row.prototype, "Bar", null);
    $.$mol_perf_render_row = $mol_perf_render_row;
})($ || ($ = {}));
//render.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_perf_render = (function (_super) {
            __extends($mol_perf_render, _super);
            function $mol_perf_render() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_render.prototype.run_label = function (next) { return next || 'Run'; };
            $mol_perf_render.prototype.event_run = function (next) {
                var _this = this;
                requestAnimationFrame(function () {
                    var data = window['_buildData']();
                    var date = Date.now();
                    _this.data(data);
                    _this.selected_item(null);
                    $.$mol_defer.run();
                    setTimeout(function () { return _this.run_label((Date.now() - date) + " ms"); });
                });
            };
            $mol_perf_render.prototype.rows = function () {
                var _this = this;
                return this.data().map(function (_, id) { return _this.Row(id); });
            };
            $mol_perf_render.prototype.Row = function (id) {
                var _this = this;
                return new $mol_perf_render_row().setup(function (obj) {
                    obj.data = function () { return _this.data()[id]; };
                    obj.selected = function (next) {
                        if (next !== void 0)
                            _this.selected_item(next ? id : null);
                        return _this.selected_item() === id;
                    };
                });
            };
            $mol_perf_render.prototype.data = function (next) { return next || []; };
            $mol_perf_render.prototype.selected_item = function (next) {
                if (next === void 0)
                    return null;
                return next;
            };
            return $mol_perf_render;
        }($.$mol_perf_render));
        __decorate([
            $.$mol_mem()
        ], $mol_perf_render.prototype, "run_label", null);
        __decorate([
            $.$mol_mem()
        ], $mol_perf_render.prototype, "rows", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_perf_render.prototype, "Row", null);
        __decorate([
            $.$mol_mem()
        ], $mol_perf_render.prototype, "data", null);
        __decorate([
            $.$mol_mem()
        ], $mol_perf_render.prototype, "selected_item", null);
        $mol.$mol_perf_render = $mol_perf_render;
        var $mol_perf_render_row = (function (_super) {
            __extends($mol_perf_render_row, _super);
            function $mol_perf_render_row() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_render_row.prototype.data = function () { return { id: 0, label: '' }; };
            $mol_perf_render_row.prototype.label = function () { return this.data().label; };
            $mol_perf_render_row.prototype.event_toggle = function (next) {
                this.selected(!this.selected());
            };
            return $mol_perf_render_row;
        }($.$mol_perf_render_row));
        $mol.$mol_perf_render_row = $mol_perf_render_row;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//render.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_perf_uibench = (function (_super) {
        __extends($mol_perf_uibench, _super);
        function $mol_perf_uibench() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_uibench.prototype.page = function () {
            return null;
        };
        $mol_perf_uibench.prototype.sub = function () {
            return [].concat(this.page());
        };
        $mol_perf_uibench.prototype.stateTable = function () {
            return null;
        };
        $mol_perf_uibench.prototype.table = function () {
            var _this = this;
            return new $.$mol_perf_uibench_table().setup(function (obj) {
                obj.state = function () { return _this.stateTable(); };
            });
        };
        $mol_perf_uibench.prototype.stateAnim = function () {
            return null;
        };
        $mol_perf_uibench.prototype.anim = function () {
            var _this = this;
            return new $.$mol_perf_uibench_anim().setup(function (obj) {
                obj.state = function () { return _this.stateAnim(); };
            });
        };
        $mol_perf_uibench.prototype.stateTree = function () {
            return null;
        };
        $mol_perf_uibench.prototype.tree = function () {
            var _this = this;
            return new $.$mol_perf_uibench_tree().setup(function (obj) {
                obj.state = function () { return _this.stateTree(); };
            });
        };
        return $mol_perf_uibench;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_perf_uibench.prototype, "table", null);
    __decorate([
        $.$mol_mem()
    ], $mol_perf_uibench.prototype, "anim", null);
    __decorate([
        $.$mol_mem()
    ], $mol_perf_uibench.prototype, "tree", null);
    $.$mol_perf_uibench = $mol_perf_uibench;
})($ || ($ = {}));
(function ($) {
    var $mol_perf_uibench_table = (function (_super) {
        __extends($mol_perf_uibench_table, _super);
        function $mol_perf_uibench_table() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_uibench_table.prototype.state = function () {
            return null;
        };
        $mol_perf_uibench_table.prototype.dom_name = function () {
            return "table";
        };
        $mol_perf_uibench_table.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "class": "Table" }));
        };
        return $mol_perf_uibench_table;
    }($.$mol_list));
    $.$mol_perf_uibench_table = $mol_perf_uibench_table;
})($ || ($ = {}));
(function ($) {
    var $mol_perf_uibench_table_row = (function (_super) {
        __extends($mol_perf_uibench_table_row, _super);
        function $mol_perf_uibench_table_row() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_uibench_table_row.prototype.state = function () {
            return null;
        };
        $mol_perf_uibench_table_row.prototype.minimal_height = function () {
            return 18;
        };
        $mol_perf_uibench_table_row.prototype.dom_name = function () {
            return "tr";
        };
        $mol_perf_uibench_table_row.prototype.className = function () {
            return "TableRow";
        };
        $mol_perf_uibench_table_row.prototype.id = function () {
            return 0;
        };
        $mol_perf_uibench_table_row.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "class": this.className(), "data-id": this.id() }));
        };
        $mol_perf_uibench_table_row.prototype.headerText = function () {
            return "";
        };
        $mol_perf_uibench_table_row.prototype.header = function () {
            var _this = this;
            return new $.$mol_perf_uibench_table_cell().setup(function (obj) {
                obj.text = function () { return _this.headerText(); };
            });
        };
        $mol_perf_uibench_table_row.prototype.cells = function () {
            return [];
        };
        $mol_perf_uibench_table_row.prototype.sub = function () {
            return [].concat(this.header(), this.cells());
        };
        return $mol_perf_uibench_table_row;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_perf_uibench_table_row.prototype, "header", null);
    $.$mol_perf_uibench_table_row = $mol_perf_uibench_table_row;
})($ || ($ = {}));
(function ($) {
    var $mol_perf_uibench_table_cell = (function (_super) {
        __extends($mol_perf_uibench_table_cell, _super);
        function $mol_perf_uibench_table_cell() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_uibench_table_cell.prototype.dom_name = function () {
            return "td";
        };
        $mol_perf_uibench_table_cell.prototype.text = function () {
            return "";
        };
        $mol_perf_uibench_table_cell.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "class": "TableCell", "data-text": this.text() }));
        };
        $mol_perf_uibench_table_cell.prototype.event_click = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_perf_uibench_table_cell.prototype.event = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event.call(this), { "click": function (val) { return _this.event_click(val); } }));
        };
        $mol_perf_uibench_table_cell.prototype.sub = function () {
            return [].concat(this.text());
        };
        return $mol_perf_uibench_table_cell;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_perf_uibench_table_cell.prototype, "event_click", null);
    $.$mol_perf_uibench_table_cell = $mol_perf_uibench_table_cell;
})($ || ($ = {}));
(function ($) {
    var $mol_perf_uibench_anim = (function (_super) {
        __extends($mol_perf_uibench_anim, _super);
        function $mol_perf_uibench_anim() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_uibench_anim.prototype.state = function () {
            return null;
        };
        $mol_perf_uibench_anim.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "class": "Anim" }));
        };
        $mol_perf_uibench_anim.prototype.items = function () {
            return [];
        };
        $mol_perf_uibench_anim.prototype.sub = function () {
            return this.items();
        };
        return $mol_perf_uibench_anim;
    }($.$mol_view));
    $.$mol_perf_uibench_anim = $mol_perf_uibench_anim;
})($ || ($ = {}));
(function ($) {
    var $mol_perf_uibench_anim_box = (function (_super) {
        __extends($mol_perf_uibench_anim_box, _super);
        function $mol_perf_uibench_anim_box() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_uibench_anim_box.prototype.id = function () {
            return "";
        };
        $mol_perf_uibench_anim_box.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "class": "AnimBox", "data-id": this.id() }));
        };
        $mol_perf_uibench_anim_box.prototype.styleRadius = function () {
            return "";
        };
        $mol_perf_uibench_anim_box.prototype.styleColor = function () {
            return "";
        };
        $mol_perf_uibench_anim_box.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "borderRadius": this.styleRadius(), "background": this.styleColor() }));
        };
        $mol_perf_uibench_anim_box.prototype.items = function () {
            return [];
        };
        $mol_perf_uibench_anim_box.prototype.sub = function () {
            return this.items();
        };
        return $mol_perf_uibench_anim_box;
    }($.$mol_view));
    $.$mol_perf_uibench_anim_box = $mol_perf_uibench_anim_box;
})($ || ($ = {}));
(function ($) {
    var $mol_perf_uibench_tree = (function (_super) {
        __extends($mol_perf_uibench_tree, _super);
        function $mol_perf_uibench_tree() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_uibench_tree.prototype.state = function () {
            return null;
        };
        $mol_perf_uibench_tree.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "class": "Tree" }));
        };
        $mol_perf_uibench_tree.prototype.stateRoot = function () {
            return null;
        };
        $mol_perf_uibench_tree.prototype.root = function () {
            var _this = this;
            return new $.$mol_perf_uibench_tree_branch().setup(function (obj) {
                obj.state = function () { return _this.stateRoot(); };
            });
        };
        $mol_perf_uibench_tree.prototype.sub = function () {
            return [].concat(this.root());
        };
        return $mol_perf_uibench_tree;
    }($.$mol_view));
    __decorate([
        $.$mol_mem()
    ], $mol_perf_uibench_tree.prototype, "root", null);
    $.$mol_perf_uibench_tree = $mol_perf_uibench_tree;
})($ || ($ = {}));
(function ($) {
    var $mol_perf_uibench_tree_branch = (function (_super) {
        __extends($mol_perf_uibench_tree_branch, _super);
        function $mol_perf_uibench_tree_branch() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_uibench_tree_branch.prototype.state = function () {
            return null;
        };
        $mol_perf_uibench_tree_branch.prototype.dom_name = function () {
            return "ul";
        };
        $mol_perf_uibench_tree_branch.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "class": "TreeNode" }));
        };
        return $mol_perf_uibench_tree_branch;
    }($.$mol_list));
    $.$mol_perf_uibench_tree_branch = $mol_perf_uibench_tree_branch;
})($ || ($ = {}));
(function ($) {
    var $mol_perf_uibench_tree_leaf = (function (_super) {
        __extends($mol_perf_uibench_tree_leaf, _super);
        function $mol_perf_uibench_tree_leaf() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_perf_uibench_tree_leaf.prototype.minimal_height = function () {
            return 23;
        };
        $mol_perf_uibench_tree_leaf.prototype.dom_name = function () {
            return "li";
        };
        $mol_perf_uibench_tree_leaf.prototype.attr = function () {
            return (__assign({}, _super.prototype.attr.call(this), { "class": "TreeLeaf" }));
        };
        $mol_perf_uibench_tree_leaf.prototype.text = function () {
            return "";
        };
        $mol_perf_uibench_tree_leaf.prototype.sub = function () {
            return [].concat(this.text());
        };
        return $mol_perf_uibench_tree_leaf;
    }($.$mol_view));
    $.$mol_perf_uibench_tree_leaf = $mol_perf_uibench_tree_leaf;
})($ || ($ = {}));
//uibench.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_perf_uibench = (function (_super) {
            __extends($mol_perf_uibench, _super);
            function $mol_perf_uibench() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_uibench.prototype.state = function (next) {
                return next || {};
            };
            $mol_perf_uibench.prototype.stateTable = function () {
                return this.state().table;
            };
            $mol_perf_uibench.prototype.stateAnim = function () {
                return this.state().anim;
            };
            $mol_perf_uibench.prototype.stateTree = function () {
                return this.state().tree;
            };
            $mol_perf_uibench.prototype.page = function () {
                switch (this.state().location) {
                    case 'table': return this.table();
                    case 'anim': return this.anim();
                    case 'tree': return this.tree();
                }
                return null;
            };
            return $mol_perf_uibench;
        }($.$mol_perf_uibench));
        __decorate([
            $.$mol_mem()
        ], $mol_perf_uibench.prototype, "state", null);
        __decorate([
            $.$mol_mem()
        ], $mol_perf_uibench.prototype, "stateTable", null);
        __decorate([
            $.$mol_mem()
        ], $mol_perf_uibench.prototype, "stateAnim", null);
        __decorate([
            $.$mol_mem()
        ], $mol_perf_uibench.prototype, "stateTree", null);
        __decorate([
            $.$mol_mem()
        ], $mol_perf_uibench.prototype, "page", null);
        $mol.$mol_perf_uibench = $mol_perf_uibench;
        var $mol_perf_uibench_table = (function (_super) {
            __extends($mol_perf_uibench_table, _super);
            function $mol_perf_uibench_table() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_uibench_table.prototype.state = function () {
                return { items: [] };
            };
            $mol_perf_uibench_table.prototype.rows = function () {
                var _this = this;
                return this.state().items.map(function (v, i) { return _this.rower(i); });
            };
            $mol_perf_uibench_table.prototype.rower = function (id) {
                var _this = this;
                return new $mol_perf_uibench_table_row().setup(function (obj) {
                    obj.state = function () { return _this.state().items[id] || []; };
                });
            };
            return $mol_perf_uibench_table;
        }($.$mol_perf_uibench_table));
        __decorate([
            $.$mol_mem_key()
        ], $mol_perf_uibench_table.prototype, "rower", null);
        $mol.$mol_perf_uibench_table = $mol_perf_uibench_table;
        var $mol_perf_uibench_table_row = (function (_super) {
            __extends($mol_perf_uibench_table_row, _super);
            function $mol_perf_uibench_table_row() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_uibench_table_row.prototype.state = function () {
                return { props: [], active: false, id: 0 };
            };
            $mol_perf_uibench_table_row.prototype.headerText = function () {
                return '#' + this.id();
            };
            $mol_perf_uibench_table_row.prototype.id = function () {
                return this.state().id;
            };
            $mol_perf_uibench_table_row.prototype.className = function () {
                return _super.prototype.className.call(this) + (this.state().active ? ' active' : '');
            };
            $mol_perf_uibench_table_row.prototype.cells = function () {
                var _this = this;
                return (this.state().props || []).map(function (v, j) { return _this.cell(j); });
            };
            $mol_perf_uibench_table_row.prototype.cell = function (id) {
                var _this = this;
                return new $mol_perf_uibench_table_cell().setup(function (obj) {
                    obj.text = function () { return _this.state().props[id]; };
                });
            };
            return $mol_perf_uibench_table_row;
        }($.$mol_perf_uibench_table_row));
        __decorate([
            $.$mol_mem_key()
        ], $mol_perf_uibench_table_row.prototype, "cell", null);
        $mol.$mol_perf_uibench_table_row = $mol_perf_uibench_table_row;
        var $mol_perf_uibench_table_cell = (function (_super) {
            __extends($mol_perf_uibench_table_cell, _super);
            function $mol_perf_uibench_table_cell() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_uibench_table_cell.prototype.event_click = function (next) {
                console.log('Click', this.text());
                next.preventDefault();
                next.stopPropagation();
            };
            return $mol_perf_uibench_table_cell;
        }($.$mol_perf_uibench_table_cell));
        $mol.$mol_perf_uibench_table_cell = $mol_perf_uibench_table_cell;
        var $mol_perf_uibench_anim = (function (_super) {
            __extends($mol_perf_uibench_anim, _super);
            function $mol_perf_uibench_anim() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_uibench_anim.prototype.state = function () {
                return { items: [] };
            };
            $mol_perf_uibench_anim.prototype.items = function () {
                var _this = this;
                return this.state().items.map(function (v, i) { return _this.item(i); });
            };
            $mol_perf_uibench_anim.prototype.item = function (i) {
                var _this = this;
                return new $mol_perf_uibench_anim_box().setup(function (obj) {
                    obj.state = function () { return _this.state().items[i] || { id: '', time: 0 }; };
                });
            };
            return $mol_perf_uibench_anim;
        }($.$mol_perf_uibench_anim));
        __decorate([
            $.$mol_mem_key()
        ], $mol_perf_uibench_anim.prototype, "item", null);
        $mol.$mol_perf_uibench_anim = $mol_perf_uibench_anim;
        var $mol_perf_uibench_anim_box = (function (_super) {
            __extends($mol_perf_uibench_anim_box, _super);
            function $mol_perf_uibench_anim_box() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_uibench_anim_box.prototype.state = function () {
                return { id: '', time: 0 };
            };
            $mol_perf_uibench_anim_box.prototype.id = function () {
                return this.state().id;
            };
            $mol_perf_uibench_anim_box.prototype.time = function () {
                return this.state().time;
            };
            $mol_perf_uibench_anim_box.prototype.styleRadius = function () {
                return this.time() % 10 + "px";
            };
            $mol_perf_uibench_anim_box.prototype.styleColor = function () {
                return "rgba(0,0,0," + (0.5 + ((this.time() % 10) / 10)) + ")";
            };
            return $mol_perf_uibench_anim_box;
        }($.$mol_perf_uibench_anim_box));
        $mol.$mol_perf_uibench_anim_box = $mol_perf_uibench_anim_box;
        var $mol_perf_uibench_tree = (function (_super) {
            __extends($mol_perf_uibench_tree, _super);
            function $mol_perf_uibench_tree() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_uibench_tree.prototype.state = function () {
                return { root: null };
            };
            $mol_perf_uibench_tree.prototype.stateRoot = function () {
                return this.state().root || { children: [] };
            };
            return $mol_perf_uibench_tree;
        }($.$mol_perf_uibench_tree));
        $mol.$mol_perf_uibench_tree = $mol_perf_uibench_tree;
        var $mol_perf_uibench_tree_branch = (function (_super) {
            __extends($mol_perf_uibench_tree_branch, _super);
            function $mol_perf_uibench_tree_branch() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_perf_uibench_tree_branch.prototype.state = function () {
                return { children: [] };
            };
            $mol_perf_uibench_tree_branch.prototype.sub = function () {
                var _this = this;
                return (this.state().children || []).map(function (child, i) {
                    return child.container ? _this.branch(i) : _this.leaf(i);
                });
            };
            $mol_perf_uibench_tree_branch.prototype.branch = function (i) {
                var _this = this;
                return new $mol_perf_uibench_tree_branch().setup(function (obj) {
                    obj.state = function () { return _this.state().children[i] || { children: [] }; };
                });
            };
            $mol_perf_uibench_tree_branch.prototype.leaf = function (i) {
                var _this = this;
                return new $.$mol_perf_uibench_tree_leaf().setup(function (obj) {
                    obj.text = function () { return ((_this.state().children || [])[i] || {}).id; };
                });
            };
            return $mol_perf_uibench_tree_branch;
        }($.$mol_perf_uibench_tree_branch));
        __decorate([
            $.$mol_mem_key()
        ], $mol_perf_uibench_tree_branch.prototype, "branch", null);
        __decorate([
            $.$mol_mem_key()
        ], $mol_perf_uibench_tree_branch.prototype, "leaf", null);
        $mol.$mol_perf_uibench_tree_branch = $mol_perf_uibench_tree_branch;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//uibench.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_state_time = (function (_super) {
        __extends($mol_state_time, _super);
        function $mol_state_time() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_state_time.now = function (precision, next, force) {
            setTimeout(function () { return $mol_state_time.now(precision, void null, $.$mol_atom_force); }, precision);
            return Date.now();
        };
        return $mol_state_time;
    }($.$mol_object));
    __decorate([
        $.$mol_mem_key()
    ], $mol_state_time, "now", null);
    $.$mol_state_time = $mol_state_time;
})($ || ($ = {}));
//time.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_plot_demo = (function (_super) {
        __extends($mol_plot_demo, _super);
        function $mol_plot_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_plot_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_plot_demo.prototype.count = function (val) {
            return (val !== void 0) ? val : 20;
        };
        $mol_plot_demo.prototype.gap = function () {
            return 48;
        };
        $mol_plot_demo.prototype.saturation_series = function () {
            return [];
        };
        $mol_plot_demo.prototype.Saturation_fill = function () {
            return new $.$mol_plot_fill();
        };
        $mol_plot_demo.prototype.Saturation_line = function () {
            return new $.$mol_plot_line().setup(function (obj) {
                obj.type = function () { return "dashed"; };
            });
        };
        $mol_plot_demo.prototype.Saturation = function () {
            var _this = this;
            return new $.$mol_plot_group().setup(function (obj) {
                obj.series = function () { return _this.saturation_series(); };
                obj.graphs = function () { return [].concat(_this.Saturation_fill(), _this.Saturation_line()); };
            });
        };
        $mol_plot_demo.prototype.input_series = function () {
            return [];
        };
        $mol_plot_demo.prototype.Input_line = function () {
            return new $.$mol_plot_line();
        };
        $mol_plot_demo.prototype.Input_dots = function () {
            return new $.$mol_plot_dot();
        };
        $mol_plot_demo.prototype.Input = function () {
            var _this = this;
            return new $.$mol_plot_group().setup(function (obj) {
                obj.series = function () { return _this.input_series(); };
                obj.graphs = function () { return [].concat(_this.Input_line(), _this.Input_dots()); };
            });
        };
        $mol_plot_demo.prototype.output_series = function () {
            return [];
        };
        $mol_plot_demo.prototype.Output = function () {
            var _this = this;
            return new $.$mol_plot_bar().setup(function (obj) {
                obj.series = function () { return _this.output_series(); };
            });
        };
        $mol_plot_demo.prototype.Voltage_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "Voltage_title");
        };
        $mol_plot_demo.prototype.Voltage = function () {
            var _this = this;
            return new $.$mol_plot_ruler_vert().setup(function (obj) {
                obj.title = function () { return _this.Voltage_title(); };
            });
        };
        $mol_plot_demo.prototype.Time_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "Time_title");
        };
        $mol_plot_demo.prototype.Time = function () {
            var _this = this;
            return new $.$mol_plot_ruler_hor().setup(function (obj) {
                obj.title = function () { return _this.Time_title(); };
                obj.series = function () { return _this.output_series(); };
            });
        };
        $mol_plot_demo.prototype.graphs = function () {
            return [].concat(this.Saturation(), this.Input(), this.Output(), this.Voltage(), this.Time());
        };
        return $mol_plot_demo;
    }($.$mol_plot_pane));
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "count", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "Saturation_fill", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "Saturation_line", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "Saturation", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "Input_line", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "Input_dots", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "Input", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "Output", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "Voltage", null);
    __decorate([
        $.$mol_mem()
    ], $mol_plot_demo.prototype, "Time", null);
    $.$mol_plot_demo = $mol_plot_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_plot_demo = (function (_super) {
            __extends($mol_plot_demo, _super);
            function $mol_plot_demo() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_plot_demo.prototype.input_series = function () {
                return $.$mol_range_in({
                    length: this.count(),
                    item: function (index) {
                        return Math.sin(index / 2) * 2;
                    }
                }).valueOf();
            };
            $mol_plot_demo.prototype.output_series = function () {
                $.$mol_state_time.now(125);
                var input = this.input_series();
                return $.$mol_range_in({
                    length: this.count(),
                    item: function (index) {
                        return input[index] * Math.random();
                    }
                }).valueOf();
            };
            $mol_plot_demo.prototype.saturation_series = function () {
                var input = this.output_series();
                var prev = (this['saturation_series()'] || []);
                return input.map(function (val, i) {
                    var next = (val + 9 * (prev[i] || 0)) / 10;
                    return (Math.abs(next) > Math.abs(val)) ? next : val;
                });
            };
            return $mol_plot_demo;
        }($.$mol_plot_demo));
        __decorate([
            $.$mol_mem()
        ], $mol_plot_demo.prototype, "input_series", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_demo.prototype, "output_series", null);
        __decorate([
            $.$mol_mem()
        ], $mol_plot_demo.prototype, "saturation_series", null);
        $mol.$mol_plot_demo = $mol_plot_demo;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_pop_demo = (function (_super) {
        __extends($mol_pop_demo, _super);
        function $mol_pop_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_pop_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_pop_demo.prototype.showed_value = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_pop_demo.prototype.event_show = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_pop_demo.prototype.show_text = function () {
            return $.$mol_locale.text(this.locale_contexts(), "show_text");
        };
        $mol_pop_demo.prototype.Show = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.event_click = function (event) { return _this.event_show(event); };
                obj.sub = function () { return [].concat(_this.show_text()); };
            });
        };
        $mol_pop_demo.prototype.bubble_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "bubble_hint");
        };
        $mol_pop_demo.prototype.event_hide = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_pop_demo.prototype.hide_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "hide_hint");
        };
        $mol_pop_demo.prototype.Hide = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.event_click = function (event) { return _this.event_hide(event); };
                obj.sub = function () { return [].concat(_this.hide_hint()); };
            });
        };
        $mol_pop_demo.prototype.Content = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.bubble_hint(), _this.Hide()); };
            });
        };
        $mol_pop_demo.prototype.Pop = function () {
            var _this = this;
            return new $.$mol_pop().setup(function (obj) {
                obj.showed = function (val) { return _this.showed_value(); };
                obj.align = function () { return _this.align_value(); };
                obj.Anchor = function () { return _this.Show(); };
                obj.bubble_content = function () { return [].concat(_this.Content()); };
            });
        };
        $mol_pop_demo.prototype.Align_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "Align_title");
        };
        $mol_pop_demo.prototype.align_value = function (val) {
            return (val !== void 0) ? val : "bottom_center";
        };
        $mol_pop_demo.prototype.align_left_top = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_left_top");
        };
        $mol_pop_demo.prototype.align_left_center = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_left_center");
        };
        $mol_pop_demo.prototype.align_left_bottom = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_left_bottom");
        };
        $mol_pop_demo.prototype.align_right_top = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_right_top");
        };
        $mol_pop_demo.prototype.align_right_center = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_right_center");
        };
        $mol_pop_demo.prototype.align_right_bottom = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_right_bottom");
        };
        $mol_pop_demo.prototype.align_center = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_center");
        };
        $mol_pop_demo.prototype.align_top_left = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_top_left");
        };
        $mol_pop_demo.prototype.align_top_center = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_top_center");
        };
        $mol_pop_demo.prototype.align_top_right = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_top_right");
        };
        $mol_pop_demo.prototype.align_bottom_left = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_bottom_left");
        };
        $mol_pop_demo.prototype.align_bottom_center = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_bottom_center");
        };
        $mol_pop_demo.prototype.align_bottom_right = function () {
            return $.$mol_locale.text(this.locale_contexts(), "align_bottom_right");
        };
        $mol_pop_demo.prototype.Align = function () {
            var _this = this;
            return new $.$mol_select().setup(function (obj) {
                obj.clearable = function () { return false; };
                obj.value = function (val) { return _this.align_value(val); };
                obj.options = function () { return [].concat(_this.align_left_top(), _this.align_left_center(), _this.align_left_bottom(), _this.align_right_top(), _this.align_right_center(), _this.align_right_bottom(), _this.align_center(), _this.align_top_left(), _this.align_top_center(), _this.align_top_right(), _this.align_bottom_left(), _this.align_bottom_center(), _this.align_bottom_right()); };
            });
        };
        $mol_pop_demo.prototype.Align_block = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return _this.Align_title(); };
                obj.Content = function () { return _this.Align(); };
            });
        };
        $mol_pop_demo.prototype.sub = function () {
            return [].concat(this.Pop(), this.Align_block());
        };
        return $mol_pop_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "showed_value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "event_show", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "Show", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "event_hide", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "Hide", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "Content", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "Pop", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "align_value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "Align", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_demo.prototype, "Align_block", null);
    $.$mol_pop_demo = $mol_pop_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_pop_demo = (function (_super) {
            __extends($mol_pop_demo, _super);
            function $mol_pop_demo() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_pop_demo.prototype.event_show = function (event) {
                this.showed_value(true);
            };
            $mol_pop_demo.prototype.event_hide = function (event) {
                this.showed_value(false);
            };
            return $mol_pop_demo;
        }($.$mol_pop_demo));
        $mol.$mol_pop_demo = $mol_pop_demo;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_pop_over = (function (_super) {
        __extends($mol_pop_over, _super);
        function $mol_pop_over() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_pop_over.prototype.event_show = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_pop_over.prototype.event_hide = function (event) {
            return (event !== void 0) ? event : null;
        };
        $mol_pop_over.prototype.event = function () {
            var _this = this;
            return (__assign({}, _super.prototype.event.call(this), { "mouseover": function (event) { return _this.event_show(event); }, "mouseout": function (event) { return _this.event_hide(event); } }));
        };
        return $mol_pop_over;
    }($.$mol_pop));
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over.prototype, "event_show", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over.prototype, "event_hide", null);
    $.$mol_pop_over = $mol_pop_over;
})($ || ($ = {}));
//over.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_pop_over = (function (_super) {
            __extends($mol_pop_over, _super);
            function $mol_pop_over() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_pop_over.prototype.event_show = function (event) {
                this.showed(true);
            };
            $mol_pop_over.prototype.event_hide = function (event) {
                this.showed(false);
            };
            return $mol_pop_over;
        }($.$mol_pop_over));
        $mol.$mol_pop_over = $mol_pop_over;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//over.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_pop_over_demo = (function (_super) {
        __extends($mol_pop_over_demo, _super);
        function $mol_pop_over_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_pop_over_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_pop_over_demo.prototype.file_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "file_title");
        };
        $mol_pop_over_demo.prototype.open_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "open_title");
        };
        $mol_pop_over_demo.prototype.Open = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.title = function () { return _this.open_title(); };
            });
        };
        $mol_pop_over_demo.prototype.export_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "export_title");
        };
        $mol_pop_over_demo.prototype.Export = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.title = function () { return _this.export_title(); };
            });
        };
        $mol_pop_over_demo.prototype.save_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "save_title");
        };
        $mol_pop_over_demo.prototype.Save = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.title = function () { return _this.save_title(); };
            });
        };
        $mol_pop_over_demo.prototype.File_menu = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return [].concat(_this.Open(), _this.Export(), _this.Save()); };
            });
        };
        $mol_pop_over_demo.prototype.File = function () {
            var _this = this;
            return new $.$mol_pop_over().setup(function (obj) {
                obj.align = function () { return "bottom_right"; };
                obj.Anchor = function () { return _this.file_title(); };
                obj.bubble_content = function () { return [].concat(_this.File_menu()); };
            });
        };
        $mol_pop_over_demo.prototype.help_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "help_title");
        };
        $mol_pop_over_demo.prototype.updates_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "updates_title");
        };
        $mol_pop_over_demo.prototype.Updates = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.title = function () { return _this.updates_title(); };
            });
        };
        $mol_pop_over_demo.prototype.about_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "about_title");
        };
        $mol_pop_over_demo.prototype.About = function () {
            var _this = this;
            return new $.$mol_button().setup(function (obj) {
                obj.title = function () { return _this.about_title(); };
            });
        };
        $mol_pop_over_demo.prototype.Help_menu = function () {
            var _this = this;
            return new $.$mol_list().setup(function (obj) {
                obj.rows = function () { return [].concat(_this.Updates(), _this.About()); };
            });
        };
        $mol_pop_over_demo.prototype.Help = function () {
            var _this = this;
            return new $.$mol_pop_over().setup(function (obj) {
                obj.align = function () { return "bottom_right"; };
                obj.Anchor = function () { return _this.help_title(); };
                obj.bubble_content = function () { return [].concat(_this.Help_menu()); };
            });
        };
        $mol_pop_over_demo.prototype.sub = function () {
            return [].concat(this.File(), this.Help());
        };
        return $mol_pop_over_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over_demo.prototype, "Open", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over_demo.prototype, "Export", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over_demo.prototype, "Save", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over_demo.prototype, "File_menu", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over_demo.prototype, "File", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over_demo.prototype, "Updates", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over_demo.prototype, "About", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over_demo.prototype, "Help_menu", null);
    __decorate([
        $.$mol_mem()
    ], $mol_pop_over_demo.prototype, "Help", null);
    $.$mol_pop_over_demo = $mol_pop_over_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_portion_demo = (function (_super) {
        __extends($mol_portion_demo, _super);
        function $mol_portion_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_portion_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_portion_demo.prototype.fist = function () {
            return 0;
        };
        $mol_portion_demo.prototype.Empty = function () {
            var _this = this;
            return new $.$mol_portion().setup(function (obj) {
                obj.portion = function () { return _this.fist(); };
            });
        };
        $mol_portion_demo.prototype.second = function () {
            return 0.5;
        };
        $mol_portion_demo.prototype.Partial = function () {
            var _this = this;
            return new $.$mol_portion().setup(function (obj) {
                obj.portion = function () { return _this.second(); };
            });
        };
        $mol_portion_demo.prototype.third = function () {
            return 1;
        };
        $mol_portion_demo.prototype.Full = function () {
            var _this = this;
            return new $.$mol_portion().setup(function (obj) {
                obj.portion = function () { return _this.third(); };
            });
        };
        $mol_portion_demo.prototype.sub = function () {
            return [].concat(this.Empty(), this.Partial(), this.Full());
        };
        return $mol_portion_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_portion_demo.prototype, "Empty", null);
    __decorate([
        $.$mol_mem()
    ], $mol_portion_demo.prototype, "Partial", null);
    __decorate([
        $.$mol_mem()
    ], $mol_portion_demo.prototype, "Full", null);
    $.$mol_portion_demo = $mol_portion_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_row_demo = (function (_super) {
        __extends($mol_row_demo, _super);
        function $mol_row_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_row_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_row_demo.prototype.minimal_height = function () {
            return 68;
        };
        $mol_row_demo.prototype.name_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "name_hint");
        };
        $mol_row_demo.prototype.name = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_row_demo.prototype.suggest1 = function () {
            return $.$mol_locale.text(this.locale_contexts(), "suggest1");
        };
        $mol_row_demo.prototype.suggest2 = function () {
            return $.$mol_locale.text(this.locale_contexts(), "suggest2");
        };
        $mol_row_demo.prototype.Name = function () {
            var _this = this;
            return new $.$mol_search().setup(function (obj) {
                obj.hint = function () { return _this.name_hint(); };
                obj.query = function (val) { return _this.name(val); };
                obj.suggests = function () { return [].concat(_this.suggest1(), _this.suggest2()); };
            });
        };
        $mol_row_demo.prototype.count_hint = function () {
            return $.$mol_locale.text(this.locale_contexts(), "count_hint");
        };
        $mol_row_demo.prototype.count = function (val) {
            return (val !== void 0) ? val : null;
        };
        $mol_row_demo.prototype.Count = function () {
            var _this = this;
            return new $.$mol_number().setup(function (obj) {
                obj.hint = function () { return _this.count_hint(); };
                obj.value = function (val) { return _this.count(val); };
            });
        };
        $mol_row_demo.prototype.progress = function () {
            return 0.33;
        };
        $mol_row_demo.prototype.Progress = function () {
            var _this = this;
            return new $.$mol_portion().setup(function (obj) {
                obj.portion = function () { return _this.progress(); };
            });
        };
        $mol_row_demo.prototype.publish_label = function () {
            return $.$mol_locale.text(this.locale_contexts(), "publish_label");
        };
        $mol_row_demo.prototype.publish = function (val) {
            return (val !== void 0) ? val : false;
        };
        $mol_row_demo.prototype.Publish = function () {
            var _this = this;
            return new $.$mol_check_box().setup(function (obj) {
                obj.label = function () { return [].concat(_this.publish_label()); };
                obj.checked = function (val) { return _this.publish(val); };
            });
        };
        $mol_row_demo.prototype.drop_title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "drop_title");
        };
        $mol_row_demo.prototype.Drop = function () {
            var _this = this;
            return new $.$mol_button_minor().setup(function (obj) {
                obj.title = function () { return _this.drop_title(); };
            });
        };
        $mol_row_demo.prototype.sub = function () {
            return [].concat(this.Name(), this.Count(), this.Progress(), this.Publish(), this.Drop());
        };
        return $mol_row_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_row_demo.prototype, "name", null);
    __decorate([
        $.$mol_mem()
    ], $mol_row_demo.prototype, "Name", null);
    __decorate([
        $.$mol_mem()
    ], $mol_row_demo.prototype, "count", null);
    __decorate([
        $.$mol_mem()
    ], $mol_row_demo.prototype, "Count", null);
    __decorate([
        $.$mol_mem()
    ], $mol_row_demo.prototype, "Progress", null);
    __decorate([
        $.$mol_mem()
    ], $mol_row_demo.prototype, "publish", null);
    __decorate([
        $.$mol_mem()
    ], $mol_row_demo.prototype, "Publish", null);
    __decorate([
        $.$mol_mem()
    ], $mol_row_demo.prototype, "Drop", null);
    $.$mol_row_demo = $mol_row_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_scroll_demo = (function (_super) {
        __extends($mol_scroll_demo, _super);
        function $mol_scroll_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_scroll_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_scroll_demo.prototype.One = function () {
            return new $.$mol_filler();
        };
        $mol_scroll_demo.prototype.Two = function () {
            return new $.$mol_filler();
        };
        $mol_scroll_demo.prototype.Tree = function () {
            return new $.$mol_filler();
        };
        $mol_scroll_demo.prototype.Row = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.One(), _this.Two(), _this.Tree()); };
            });
        };
        $mol_scroll_demo.prototype.sub = function () {
            return [].concat(this.Row());
        };
        return $mol_scroll_demo;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_scroll_demo.prototype, "One", null);
    __decorate([
        $.$mol_mem()
    ], $mol_scroll_demo.prototype, "Two", null);
    __decorate([
        $.$mol_mem()
    ], $mol_scroll_demo.prototype, "Tree", null);
    __decorate([
        $.$mol_mem()
    ], $mol_scroll_demo.prototype, "Row", null);
    $.$mol_scroll_demo = $mol_scroll_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_search_demo = (function (_super) {
        __extends($mol_search_demo, _super);
        function $mol_search_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_search_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_search_demo.prototype.query = function () {
            return this.Search().query();
        };
        $mol_search_demo.prototype.suggests = function () {
            return [];
        };
        $mol_search_demo.prototype.Search = function () {
            var _this = this;
            return new $.$mol_search().setup(function (obj) {
                obj.suggests = function () { return _this.suggests(); };
            });
        };
        $mol_search_demo.prototype.sub = function () {
            return [].concat(this.Search());
        };
        return $mol_search_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_search_demo.prototype, "Search", null);
    $.$mol_search_demo = $mol_search_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_search_demo = (function (_super) {
            __extends($mol_search_demo, _super);
            function $mol_search_demo() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_search_demo.prototype.suggests = function () {
                var query = this.query();
                if (query.length < 2)
                    return [];
                return $.$mol_stub_strings(this.query(), 30);
            };
            return $mol_search_demo;
        }($.$mol_search_demo));
        __decorate([
            $.$mol_mem()
        ], $mol_search_demo.prototype, "suggests", null);
        $mol.$mol_search_demo = $mol_search_demo;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//demo.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_section_demo = (function (_super) {
        __extends($mol_section_demo, _super);
        function $mol_section_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_section_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_section_demo.prototype.Section = function () {
            return new $.$mol_section().setup(function (obj) {
                obj.head = function () { return "Section header"; };
                obj.Content = function () { return new $.$mol_filler(); };
            });
        };
        $mol_section_demo.prototype.Article = function () {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Section()); };
            });
        };
        $mol_section_demo.prototype.sub = function () {
            return [].concat(this.Article());
        };
        return $mol_section_demo;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_section_demo.prototype, "Section", null);
    __decorate([
        $.$mol_mem()
    ], $mol_section_demo.prototype, "Article", null);
    $.$mol_section_demo = $mol_section_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_select_demo_colors = (function (_super) {
        __extends($mol_select_demo_colors, _super);
        function $mol_select_demo_colors() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_select_demo_colors.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_select_demo_colors.prototype.color = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_select_demo_colors.prototype.colors = function () {
            return ({});
        };
        $mol_select_demo_colors.prototype.color_name = function (id) {
            return "";
        };
        $mol_select_demo_colors.prototype.option_color = function (id) {
            return "";
        };
        $mol_select_demo_colors.prototype.Color_preview = function (id) {
            var _this = this;
            return new $.$mol_select_colors_color_preview().setup(function (obj) {
                obj.color = function () { return _this.option_color(id); };
            });
        };
        $mol_select_demo_colors.prototype.Color_row = function (id) {
            var _this = this;
            return new $.$mol_row().setup(function (obj) {
                obj.sub = function () { return [].concat(_this.Color_preview(id), _this.color_name(id)); };
                obj.minimal_height = function () { return 40; };
            });
        };
        $mol_select_demo_colors.prototype.option_content = function (id) {
            return [].concat(this.Color_row(id));
        };
        $mol_select_demo_colors.prototype.Color_select = function () {
            var _this = this;
            return new $.$mol_select().setup(function (obj) {
                obj.value = function (val) { return _this.color(val); };
                obj.dictionary = function () { return _this.colors(); };
                obj.option_label = function (id) { return _this.color_name(id); };
                obj.option_content = function (id) { return _this.option_content(id); };
            });
        };
        $mol_select_demo_colors.prototype.Color = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return "Prefer color"; };
                obj.Content = function () { return _this.Color_select(); };
            });
        };
        $mol_select_demo_colors.prototype.sub = function () {
            return [].concat(this.Color());
        };
        return $mol_select_demo_colors;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_select_demo_colors.prototype, "color", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_select_demo_colors.prototype, "Color_preview", null);
    __decorate([
        $.$mol_mem_key()
    ], $mol_select_demo_colors.prototype, "Color_row", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select_demo_colors.prototype, "Color_select", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select_demo_colors.prototype, "Color", null);
    $.$mol_select_demo_colors = $mol_select_demo_colors;
})($ || ($ = {}));
(function ($) {
    var $mol_select_colors_color_preview = (function (_super) {
        __extends($mol_select_colors_color_preview, _super);
        function $mol_select_colors_color_preview() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_select_colors_color_preview.prototype.color = function () {
            return "";
        };
        $mol_select_colors_color_preview.prototype.style = function () {
            return (__assign({}, _super.prototype.style.call(this), { "background": this.color() }));
        };
        return $mol_select_colors_color_preview;
    }($.$mol_view));
    $.$mol_select_colors_color_preview = $mol_select_colors_color_preview;
})($ || ($ = {}));
//colors.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var $;
(function ($) {
    var $mol;
    (function ($mol) {
        var $mol_select_demo_colors = (function (_super) {
            __extends($mol_select_demo_colors, _super);
            function $mol_select_demo_colors() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            $mol_select_demo_colors.prototype.color_name = function (id) {
                return id;
            };
            $mol_select_demo_colors.prototype.option_color = function (id) {
                return this.colors()[id];
            };
            $mol_select_demo_colors.prototype.colors = function () {
                return $.$mol_colors;
            };
            return $mol_select_demo_colors;
        }($.$mol_select_demo_colors));
        $mol.$mol_select_demo_colors = $mol_select_demo_colors;
    })($mol = $.$mol || ($.$mol = {}));
})($ || ($ = {}));
//colors.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_select_demo_month = (function (_super) {
        __extends($mol_select_demo_month, _super);
        function $mol_select_demo_month() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_select_demo_month.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_select_demo_month.prototype.month = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_select_demo_month.prototype.months = function () {
            return ({
                "jan": "January",
                "feb": "February",
                "mar": "March",
                "apr": "April",
                "may": "May",
                "jun": "June",
                "jul": "July",
                "aug": "August",
                "sep": "September",
                "oct": "October",
                "nov": "November",
                "dec": "December",
            });
        };
        $mol_select_demo_month.prototype.Month_select = function () {
            var _this = this;
            return new $.$mol_select().setup(function (obj) {
                obj.no_options_message = function () { return "Notfound"; };
                obj.value = function (val) { return _this.month(val); };
                obj.dictionary = function () { return _this.months(); };
            });
        };
        $mol_select_demo_month.prototype.Month = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return "Month"; };
                obj.Content = function () { return _this.Month_select(); };
            });
        };
        $mol_select_demo_month.prototype.sub = function () {
            return [].concat(this.Month());
        };
        return $mol_select_demo_month;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_select_demo_month.prototype, "month", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select_demo_month.prototype, "Month_select", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select_demo_month.prototype, "Month", null);
    $.$mol_select_demo_month = $mol_select_demo_month;
})($ || ($ = {}));
//month.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_select_demo_priority = (function (_super) {
        __extends($mol_select_demo_priority, _super);
        function $mol_select_demo_priority() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_select_demo_priority.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_select_demo_priority.prototype.priority = function (val) {
            return (val !== void 0) ? val : "Lowest";
        };
        $mol_select_demo_priority.prototype.Labeler = function () {
            var _this = this;
            return new $.$mol_labeler().setup(function (obj) {
                obj.title = function () { return "Priority"; };
                obj.Content = function () { return new $.$mol_select().setup(function (obj) {
                    obj.value = function (val) { return _this.priority(val); };
                    obj.options = function () { return [].concat("Highest ", "High", "Medium", "Low", "Lowest"); };
                    obj.clearable = function () { return false; };
                }); };
            });
        };
        $mol_select_demo_priority.prototype.sub = function () {
            return [].concat(this.Labeler());
        };
        return $mol_select_demo_priority;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_select_demo_priority.prototype, "priority", null);
    __decorate([
        $.$mol_mem()
    ], $mol_select_demo_priority.prototype, "Labeler", null);
    $.$mol_select_demo_priority = $mol_select_demo_priority;
})($ || ($ = {}));
//priority.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_stack = (function (_super) {
        __extends($mol_stack, _super);
        function $mol_stack() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_stack.prototype.main = function () {
            return [];
        };
        $mol_stack.prototype.Main = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.main(); };
            });
        };
        $mol_stack.prototype.addon = function () {
            return [];
        };
        $mol_stack.prototype.Addon = function () {
            var _this = this;
            return new $.$mol_view().setup(function (obj) {
                obj.sub = function () { return _this.addon(); };
            });
        };
        $mol_stack.prototype.pages = function () {
            return [].concat(this.Main(), this.Addon());
        };
        return $mol_stack;
    }($.$mol_book));
    __decorate([
        $.$mol_mem()
    ], $mol_stack.prototype, "Main", null);
    __decorate([
        $.$mol_mem()
    ], $mol_stack.prototype, "Addon", null);
    $.$mol_stack = $mol_stack;
})($ || ($ = {}));
//stack.view.tree.js.map
;
console.warn('$mol_stack is deprecated. Use $mol_book instead.');
//stack.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_state_history = (function (_super) {
        __extends($mol_state_history, _super);
        function $mol_state_history() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_state_history.value = function (key, next) {
            return $.$mol_state_session.value("$mol_state_history:id(" + this.id() + "):" + key, next);
        };
        $mol_state_history.prototype.prefix = function () { return ''; };
        $mol_state_history.prototype.value = function (key, next) {
            return $.$mol_state_local.value(this.prefix() + '.' + key, next);
        };
        $mol_state_history.id = function (next) {
            if (history.state)
                return history.state;
            var id = Date.now().toString(16);
            history.replaceState(id, $.$mol_dom_context.document.title, $.$mol_dom_context.document.location.href);
            return id;
        };
        return $mol_state_history;
    }($.$mol_object));
    __decorate([
        $.$mol_mem_key()
    ], $mol_state_history, "value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_state_history, "id", null);
    $.$mol_state_history = $mol_state_history;
})($ || ($ = {}));
//history.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_string_demo = (function (_super) {
        __extends($mol_string_demo, _super);
        function $mol_string_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_string_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_string_demo.prototype.name = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_string_demo.prototype.Simple = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.name(val); };
            });
        };
        $mol_string_demo.prototype.Hint = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.hint = function () { return $.$mol_locale.text(_this.locale_contexts(), "Hint"); };
                obj.value = function (val) { return _this.name(val); };
            });
        };
        $mol_string_demo.prototype.name2 = function (val) {
            return (val !== void 0) ? val : "Jocker";
        };
        $mol_string_demo.prototype.Filled = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.value = function (val) { return _this.name2(val); };
            });
        };
        $mol_string_demo.prototype.Disabled = function () {
            var _this = this;
            return new $.$mol_string().setup(function (obj) {
                obj.disabled = function () { return true; };
                obj.value = function (val) { return _this.name2(val); };
            });
        };
        $mol_string_demo.prototype.sub = function () {
            return [].concat(this.Simple(), this.Hint(), this.Filled(), this.Disabled());
        };
        return $mol_string_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_string_demo.prototype, "name", null);
    __decorate([
        $.$mol_mem()
    ], $mol_string_demo.prototype, "Simple", null);
    __decorate([
        $.$mol_mem()
    ], $mol_string_demo.prototype, "Hint", null);
    __decorate([
        $.$mol_mem()
    ], $mol_string_demo.prototype, "name2", null);
    __decorate([
        $.$mol_mem()
    ], $mol_string_demo.prototype, "Filled", null);
    __decorate([
        $.$mol_mem()
    ], $mol_string_demo.prototype, "Disabled", null);
    $.$mol_string_demo = $mol_string_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_suggest = (function (_super) {
        __extends($mol_suggest, _super);
        function $mol_suggest() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_suggest.prototype.value = function (val) {
            return (val !== void 0) ? val : "";
        };
        $mol_suggest.prototype.query = function (val) {
            return this.value(val);
        };
        return $mol_suggest;
    }($.$mol_search));
    __decorate([
        $.$mol_mem()
    ], $mol_suggest.prototype, "value", null);
    __decorate([
        $.$mol_mem()
    ], $mol_suggest.prototype, "query", null);
    $.$mol_suggest = $mol_suggest;
})($ || ($ = {}));
//suggest.view.tree.js.map
;
console.warn('$mol_suggest is deprecated. Use $mol_search instead.');
//suggest.view.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_switch_demo = (function (_super) {
        __extends($mol_switch_demo, _super);
        function $mol_switch_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_switch_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_switch_demo.prototype.color = function (val) {
            return (val !== void 0) ? val : "red";
        };
        $mol_switch_demo.prototype.option_red = function () {
            return $.$mol_locale.text(this.locale_contexts(), "option_red");
        };
        $mol_switch_demo.prototype.option_green = function () {
            return $.$mol_locale.text(this.locale_contexts(), "option_green");
        };
        $mol_switch_demo.prototype.option_blue = function () {
            return $.$mol_locale.text(this.locale_contexts(), "option_blue");
        };
        $mol_switch_demo.prototype.Enabled = function () {
            var _this = this;
            return new $.$mol_switch().setup(function (obj) {
                obj.value = function (val) { return _this.color(val); };
                obj.options = function () { return ({
                    "red": _this.option_red(),
                    "green": _this.option_green(),
                    "blue": _this.option_blue(),
                }); };
            });
        };
        $mol_switch_demo.prototype.Disabled = function () {
            var _this = this;
            return new $.$mol_switch().setup(function (obj) {
                obj.value = function (val) { return _this.color(val); };
                obj.enabled = function () { return false; };
                obj.options = function () { return ({
                    "red": _this.option_red(),
                    "green": _this.option_green(),
                    "blue": _this.option_blue(),
                }); };
            });
        };
        $mol_switch_demo.prototype.sub = function () {
            return [].concat(this.Enabled(), this.Disabled());
        };
        return $mol_switch_demo;
    }($.$mol_row));
    __decorate([
        $.$mol_mem()
    ], $mol_switch_demo.prototype, "color", null);
    __decorate([
        $.$mol_mem()
    ], $mol_switch_demo.prototype, "Enabled", null);
    __decorate([
        $.$mol_mem()
    ], $mol_switch_demo.prototype, "Disabled", null);
    $.$mol_switch_demo = $mol_switch_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var $;
(function ($) {
    var $mol_text_demo = (function (_super) {
        __extends($mol_text_demo, _super);
        function $mol_text_demo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        $mol_text_demo.prototype.title = function () {
            return $.$mol_locale.text(this.locale_contexts(), "title");
        };
        $mol_text_demo.prototype.Text = function () {
            return new $.$mol_text().setup(function (obj) {
                obj.text = function () { return "# [Benchmarks](app/bench)\n## Benchmark 1\n### Benchmark 1.1\n#### Benchmark 1.1.1\n##### Benchmark 1.1.1.1\n\n* [$mol_app_bench_list](app/bench/list) - Frameworks comparison ([online](http://eigenmethod.github.io/mol/app/bench/#becnh=list#sort=fill#))\n* [ToDoMVC benchmark](https://github.com/eigenmethod/todomvc/tree/master/benchmark) ([online](http://eigenmethod.github.io/mol/app/bench/#bench=http:%2F%2Feigenmethod.github.io%2Ftodomvc%2Fbenchmark%2F#sample=angular2%7Eangularjs%7Eknockoutjs%7Emol%7Epolymer%7Ereact-alt%7Evanillajs%7Evue#sort=fill#))\n* [WebPageTest - Loading progress of ToDOMVC applications on some frameworks](https://www.webpagetest.org/video/compare.php?tests=161217_V8_6RFK%2C161217_G9_6RFM%2C161217_YZ_6RFN%2C161217_DM_6RFP%2C161217_2B_6RFQ%2C161217_RJ_6RFR%2C161217_2R_6RFS%2C161217_H5_6RFT%2C161217_CW_6RFV&thumbSize=150&ival=100&end=all)\n* [Line charts comparison](app/bench/chart/rope) ([online](http://eigenmethod.github.io/mol/app/bench/#bench=chart%2Frope%2F/sort=fill/sample=hcharts~mol))\n* [Bar charts comparison](app/bench/chart/bar) ([online](http://eigenmethod.github.io/mol/app/bench/#bench=chart%2Fbar%2F/sort=fill/sample=hcharts~mol))\n\n# Quick start\n\n**Create MAM project**\n\nEasy way is checkout [this preconfigured ~~PMS~~MAM repository](http://github.com/eigenmethod/mam/) and start dev server:\n\n```sh\ngit clone https://github.com/eigenmethod/mam.git ./mam && cd mam\nnpm start\n```\n\n|           | Column 1 | Column 2 | Column 3\n|-----------|----------|----------|---------\n| **Row 1** | Cell 1x1 | Cell 2x1 | Cell 3x1\n| **Row 2** | Cell 1x2 | Cell 2x2 | Cell 3x2\n| **Row 3** | Cell 1x3 | Cell 2x3 | Cell 3x3\n| **Row 4** | Cell 1x4 | Cell 2x4 | Cell 3x4\n| **Row 5** | Cell 1x5 | Cell 2x5 | Cell 3x5\n| **Row 6** | Cell 1x6 | Cell 2x6 | Cell 3x6\n| **Row 7** | Cell 1x7 | Cell 2x7 | Cell 3x7\n| **Row 8** | Cell 1x8 | Cell 2x8 | Cell 3x8\n| **Row 9** | Cell 1x9 | Cell 2x9 | Cell 3x9\n\nBuild status: [![Build Status](https://travis-ci.org/eigenmethod/mol.svg?branch=master)](https://travis-ci.org/eigenmethod/mol)\n"; };
            });
        };
        $mol_text_demo.prototype.sub = function () {
            return [].concat(this.Text());
        };
        return $mol_text_demo;
    }($.$mol_scroll));
    __decorate([
        $.$mol_mem()
    ], $mol_text_demo.prototype, "Text", null);
    $.$mol_text_demo = $mol_text_demo;
})($ || ($ = {}));
//demo.view.tree.js.map
;
var $;
(function ($) {
    function $mol_try(handler) {
        try {
            return handler();
        }
        catch (error) {
            return error;
        }
    }
    $.$mol_try = $mol_try;
})($ || ($ = {}));
//try.node.js.map
;
var $;
(function ($) {
    $.$mol_test({
        'return result without errors': function () {
            $.$mol_assert_equal($.$mol_try(function () { return false; }), false);
        },
    });
})($ || ($ = {}));
//try.test.js.map
//# sourceMappingURL=node.test.js.map